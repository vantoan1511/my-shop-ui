var JA=Object.create;var am=Object.defineProperty,QA=Object.defineProperties,XA=Object.getOwnPropertyDescriptor,eP=Object.getOwnPropertyDescriptors,tP=Object.getOwnPropertyNames,hC=Object.getOwnPropertySymbols,nP=Object.getPrototypeOf,gC=Object.prototype.hasOwnProperty,rP=Object.prototype.propertyIsEnumerable;var mC=(t,e,r)=>e in t?am(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,j=(t,e)=>{for(var r in e||={})gC.call(e,r)&&mC(t,r,e[r]);if(hC)for(var r of hC(e))rP.call(e,r)&&mC(t,r,e[r]);return t},Ee=(t,e)=>QA(t,eP(e));var Aa=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var iP=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of tP(e))!gC.call(t,i)&&i!==r&&am(t,i,{get:()=>e[i],enumerable:!(n=XA(e,i))||n.enumerable});return t};var vC=(t,e,r)=>(r=t!=null?JA(nP(t)):{},iP(e||!t||!t.__esModule?am(r,"default",{value:t,enumerable:!0}):r,t));var Et=(t,e,r)=>new Promise((n,i)=>{var o=l=>{try{a(r.next(l))}catch(c){i(c)}},s=l=>{try{a(r.throw(l))}catch(c){i(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,s);a((r=r.apply(t,e)).next())});var RI=Aa(()=>{"use strict"});var VI=Aa(Ff=>{"use strict";Ff.byteLength=fj;Ff.toByteArray=mj;Ff.fromByteArray=yj;var Ii=[],Ur=[],pj=typeof Uint8Array<"u"?Uint8Array:Array,my="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Zs=0,FI=my.length;Zs<FI;++Zs)Ii[Zs]=my[Zs],Ur[my.charCodeAt(Zs)]=Zs;var Zs,FI;Ur[45]=62;Ur[95]=63;function LI(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function fj(t){var e=LI(t),r=e[0],n=e[1];return(r+n)*3/4-n}function hj(t,e,r){return(e+r)*3/4-r}function mj(t){var e,r=LI(t),n=r[0],i=r[1],o=new pj(hj(t,n,i)),s=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)e=Ur[t.charCodeAt(l)]<<18|Ur[t.charCodeAt(l+1)]<<12|Ur[t.charCodeAt(l+2)]<<6|Ur[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Ur[t.charCodeAt(l)]<<2|Ur[t.charCodeAt(l+1)]>>4,o[s++]=e&255),i===1&&(e=Ur[t.charCodeAt(l)]<<10|Ur[t.charCodeAt(l+1)]<<4|Ur[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function gj(t){return Ii[t>>18&63]+Ii[t>>12&63]+Ii[t>>6&63]+Ii[t&63]}function vj(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(gj(n));return i.join("")}function yj(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(vj(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(Ii[e>>2]+Ii[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Ii[e>>10]+Ii[e>>4&63]+Ii[e<<2&63]+"=")),i.join("")}});var BI=Aa(gy=>{"use strict";gy.read=function(t,e,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,c=l>>1,u=-7,d=r?i-1:0,v=r?-1:1,C=t[e+d];for(d+=v,o=C&(1<<-u)-1,C>>=-u,u+=a;u>0;o=o*256+t[e+d],d+=v,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=s*256+t[e+d],d+=v,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(C?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-c}return(C?-1:1)*s*Math.pow(2,o-n)};gy.write=function(t,e,r,n,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,d=u>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=n?0:o-1,_=n?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?e+=v/l:e+=v*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(e*l-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;t[r+C]=a&255,C+=_,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+C]=s&255,C+=_,s/=256,c-=8);t[r+C-_]|=S*128}});var QI=Aa(Dl=>{"use strict";var vy=VI(),Ml=BI(),jI=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Dl.Buffer=z;Dl.SlowBuffer=Sj;Dl.INSPECT_MAX_BYTES=50;var Lf=2147483647;Dl.kMaxLength=Lf;z.TYPED_ARRAY_SUPPORT=bj();!z.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function bj(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(z.prototype,"parent",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.buffer}});Object.defineProperty(z.prototype,"offset",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.byteOffset}});function uo(t){if(t>Lf)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,z.prototype),e}function z(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return wy(t)}return HI(t,e,r)}z.poolSize=8192;function HI(t,e,r){if(typeof t=="string")return wj(t,e);if(ArrayBuffer.isView(t))return _j(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Mi(t,ArrayBuffer)||t&&Mi(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Mi(t,SharedArrayBuffer)||t&&Mi(t.buffer,SharedArrayBuffer)))return by(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return z.from(n,e,r);var i=xj(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return z.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}z.from=function(t,e,r){return HI(t,e,r)};Object.setPrototypeOf(z.prototype,Uint8Array.prototype);Object.setPrototypeOf(z,Uint8Array);function zI(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Cj(t,e,r){return zI(t),t<=0?uo(t):e!==void 0?typeof r=="string"?uo(t).fill(e,r):uo(t).fill(e):uo(t)}z.alloc=function(t,e,r){return Cj(t,e,r)};function wy(t){return zI(t),uo(t<0?0:_y(t)|0)}z.allocUnsafe=function(t){return wy(t)};z.allocUnsafeSlow=function(t){return wy(t)};function wj(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!z.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=qI(t,e)|0,n=uo(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function yy(t){for(var e=t.length<0?0:_y(t.length)|0,r=uo(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function _j(t){if(Mi(t,Uint8Array)){var e=new Uint8Array(t);return by(e.buffer,e.byteOffset,e.byteLength)}return yy(t)}function by(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,z.prototype),n}function xj(t){if(z.isBuffer(t)){var e=_y(t.length)|0,r=uo(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||xy(t.length)?uo(0):yy(t);if(t.type==="Buffer"&&Array.isArray(t.data))return yy(t.data)}function _y(t){if(t>=Lf)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Lf.toString(16)+" bytes");return t|0}function Sj(t){return+t!=t&&(t=0),z.alloc(+t)}z.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==z.prototype};z.compare=function(e,r){if(Mi(e,Uint8Array)&&(e=z.from(e,e.offset,e.byteLength)),Mi(r,Uint8Array)&&(r=z.from(r,r.offset,r.byteLength)),!z.isBuffer(e)||!z.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};z.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};z.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return z.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=z.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){var s=e[n];if(Mi(s,Uint8Array))o+s.length>i.length?z.from(s).copy(i,o):Uint8Array.prototype.set.call(i,s,o);else if(z.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function qI(t,e){if(z.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Mi(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Cy(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return JI(t).length;default:if(i)return n?-1:Cy(t).length;e=(""+e).toLowerCase(),i=!0}}z.byteLength=qI;function Ej(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Rj(this,e,r);case"utf8":case"utf-8":return WI(this,e,r);case"ascii":return Pj(this,e,r);case"latin1":case"binary":return Nj(this,e,r);case"base64":return Oj(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fj(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}z.prototype._isBuffer=!0;function Ys(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}z.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Ys(this,r,r+1);return this};z.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Ys(this,r,r+3),Ys(this,r+1,r+2);return this};z.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Ys(this,r,r+7),Ys(this,r+1,r+6),Ys(this,r+2,r+5),Ys(this,r+3,r+4);return this};z.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?WI(this,0,e):Ej.apply(this,arguments)};z.prototype.toLocaleString=z.prototype.toString;z.prototype.equals=function(e){if(!z.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:z.compare(this,e)===0};z.prototype.inspect=function(){var e="",r=Dl.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};jI&&(z.prototype[jI]=z.prototype.inspect);z.prototype.compare=function(e,r,n,i,o){if(Mi(e,Uint8Array)&&(e=z.from(e,e.offset,e.byteLength)),!z.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,a=n-r,l=Math.min(s,a),c=this.slice(i,o),u=e.slice(r,n),d=0;d<l;++d)if(c[d]!==u[d]){s=c[d],a=u[d];break}return s<a?-1:a<s?1:0};function GI(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,xy(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=z.from(e,n)),z.isBuffer(e))return e.length===0?-1:UI(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):UI(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function UI(t,e,r,n,i){var o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function l(C,_){return o===1?C[_]:C.readUInt16BE(_*o)}var c;if(i){var u=-1;for(c=r;c<s;c++)if(l(t,c)===l(e,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===a)return u*o}else u!==-1&&(c-=c-u),u=-1}else for(r+a>s&&(r=s-a),c=r;c>=0;c--){for(var d=!0,v=0;v<a;v++)if(l(t,c+v)!==l(e,v)){d=!1;break}if(d)return c}return-1}z.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};z.prototype.indexOf=function(e,r,n){return GI(this,e,r,n,!0)};z.prototype.lastIndexOf=function(e,r,n){return GI(this,e,r,n,!1)};function Ij(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=e.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(s*2,2),16);if(xy(a))return s;t[r+s]=a}return s}function Mj(t,e,r,n){return Vf(Cy(e,t.length-r),t,r,n)}function Dj(t,e,r,n){return Vf(Bj(e),t,r,n)}function kj(t,e,r,n){return Vf(JI(e),t,r,n)}function Tj(t,e,r,n){return Vf(jj(e,t.length-r),t,r,n)}z.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return Ij(this,e,r,n);case"utf8":case"utf-8":return Mj(this,e,r,n);case"ascii":case"latin1":case"binary":return Dj(this,e,r,n);case"base64":return kj(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tj(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Oj(t,e,r){return e===0&&r===t.length?vy.fromByteArray(t):vy.fromByteArray(t.slice(e,r))}function WI(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){var l,c,u,d;switch(a){case 1:o<128&&(s=o);break;case 2:l=t[i+1],(l&192)===128&&(d=(o&31)<<6|l&63,d>127&&(s=d));break;case 3:l=t[i+1],c=t[i+2],(l&192)===128&&(c&192)===128&&(d=(o&15)<<12|(l&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(s=d));break;case 4:l=t[i+1],c=t[i+2],u=t[i+3],(l&192)===128&&(c&192)===128&&(u&192)===128&&(d=(o&15)<<18|(l&63)<<12|(c&63)<<6|u&63,d>65535&&d<1114112&&(s=d))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return Aj(n)}var $I=4096;function Aj(t){var e=t.length;if(e<=$I)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=$I));return r}function Pj(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Nj(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Rj(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=Uj[t[o]];return i}function Fj(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}z.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,z.prototype),i};function vn(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}z.prototype.readUintLE=z.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||vn(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return i};z.prototype.readUintBE=z.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||vn(e,r,this.length);for(var i=this[e+--r],o=1;r>0&&(o*=256);)i+=this[e+--r]*o;return i};z.prototype.readUint8=z.prototype.readUInt8=function(e,r){return e=e>>>0,r||vn(e,1,this.length),this[e]};z.prototype.readUint16LE=z.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||vn(e,2,this.length),this[e]|this[e+1]<<8};z.prototype.readUint16BE=z.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||vn(e,2,this.length),this[e]<<8|this[e+1]};z.prototype.readUint32LE=z.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||vn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};z.prototype.readUint32BE=z.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||vn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};z.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||vn(e,r,this.length);for(var i=this[e],o=1,s=0;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};z.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||vn(e,r,this.length);for(var i=r,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};z.prototype.readInt8=function(e,r){return e=e>>>0,r||vn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};z.prototype.readInt16LE=function(e,r){e=e>>>0,r||vn(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};z.prototype.readInt16BE=function(e,r){e=e>>>0,r||vn(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};z.prototype.readInt32LE=function(e,r){return e=e>>>0,r||vn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};z.prototype.readInt32BE=function(e,r){return e=e>>>0,r||vn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};z.prototype.readFloatLE=function(e,r){return e=e>>>0,r||vn(e,4,this.length),Ml.read(this,e,!0,23,4)};z.prototype.readFloatBE=function(e,r){return e=e>>>0,r||vn(e,4,this.length),Ml.read(this,e,!1,23,4)};z.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||vn(e,8,this.length),Ml.read(this,e,!0,52,8)};z.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||vn(e,8,this.length),Ml.read(this,e,!1,52,8)};function pr(t,e,r,n,i,o){if(!z.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}z.prototype.writeUintLE=z.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;pr(this,e,r,n,o,0)}var s=1,a=0;for(this[r]=e&255;++a<n&&(s*=256);)this[r+a]=e/s&255;return r+n};z.prototype.writeUintBE=z.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var o=Math.pow(2,8*n)-1;pr(this,e,r,n,o,0)}var s=n-1,a=1;for(this[r+s]=e&255;--s>=0&&(a*=256);)this[r+s]=e/a&255;return r+n};z.prototype.writeUint8=z.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||pr(this,e,r,1,255,0),this[r]=e&255,r+1};z.prototype.writeUint16LE=z.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||pr(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};z.prototype.writeUint16BE=z.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||pr(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};z.prototype.writeUint32LE=z.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||pr(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};z.prototype.writeUint32BE=z.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||pr(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};z.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var o=Math.pow(2,8*n-1);pr(this,e,r,n,o-1,-o)}var s=0,a=1,l=0;for(this[r]=e&255;++s<n&&(a*=256);)e<0&&l===0&&this[r+s-1]!==0&&(l=1),this[r+s]=(e/a>>0)-l&255;return r+n};z.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var o=Math.pow(2,8*n-1);pr(this,e,r,n,o-1,-o)}var s=n-1,a=1,l=0;for(this[r+s]=e&255;--s>=0&&(a*=256);)e<0&&l===0&&this[r+s+1]!==0&&(l=1),this[r+s]=(e/a>>0)-l&255;return r+n};z.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||pr(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};z.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||pr(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};z.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||pr(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};z.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||pr(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};z.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||pr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function KI(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function ZI(t,e,r,n,i){return e=+e,r=r>>>0,i||KI(t,e,r,4,34028234663852886e22,-34028234663852886e22),Ml.write(t,e,r,n,23,4),r+4}z.prototype.writeFloatLE=function(e,r,n){return ZI(this,e,r,!0,n)};z.prototype.writeFloatBE=function(e,r,n){return ZI(this,e,r,!1,n)};function YI(t,e,r,n,i){return e=+e,r=r>>>0,i||KI(t,e,r,8,17976931348623157e292,-17976931348623157e292),Ml.write(t,e,r,n,52,8),r+8}z.prototype.writeDoubleLE=function(e,r,n){return YI(this,e,r,!0,n)};z.prototype.writeDoubleBE=function(e,r,n){return YI(this,e,r,!1,n)};z.prototype.copy=function(e,r,n,i){if(!z.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};z.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!z.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{var a=z.isBuffer(e)?e:z.from(e,i),l=a.length;if(l===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=a[s%l]}return this};var Lj=/[^+/0-9A-Za-z-_]/g;function Vj(t){if(t=t.split("=")[0],t=t.trim().replace(Lj,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Cy(t,e){e=e||1/0;for(var r,n=t.length,i=null,o=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Bj(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function jj(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function JI(t){return vy.toByteArray(Vj(t))}function Vf(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Mi(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function xy(t){return t!==t}var Uj=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()});var XI=Aa((pee,Bf)=>{"use strict";(function(){"use strict";var t="input is invalid type",e=typeof window=="object",r=e?window:{};r.JS_SHA256_NO_WINDOW&&(e=!1);var n=!e&&typeof self=="object",i=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;i?r=global:n&&(r=self);var o=!r.JS_SHA256_NO_COMMON_JS&&typeof Bf=="object"&&Bf.exports,s=typeof define=="function"&&define.amd,a=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],u=[24,16,8,0],d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=["hex","array","digest","arrayBuffer"],C=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(V){return Object.prototype.toString.call(V)==="[object Array]"}),a&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(V){return typeof V=="object"&&V.buffer&&V.buffer.constructor===ArrayBuffer});var _=function(V,W){return function(Q){return new ue(W,!0).update(Q)[V]()}},S=function(V){var W=_("hex",V);i&&(W=M(W,V)),W.create=function(){return new ue(V)},W.update=function(ee){return W.create().update(ee)};for(var Q=0;Q<v.length;++Q){var R=v[Q];W[R]=_(R,V)}return W},M=function(V,W){var Q=RI(),R=QI().Buffer,ee=W?"sha224":"sha256",q;R.from&&!r.JS_SHA256_NO_BUFFER_FROM?q=R.from:q=function(K){return new R(K)};var se=function(K){if(typeof K=="string")return Q.createHash(ee).update(K,"utf8").digest("hex");if(K==null)throw new Error(t);return K.constructor===ArrayBuffer&&(K=new Uint8Array(K)),Array.isArray(K)||ArrayBuffer.isView(K)||K.constructor===R?Q.createHash(ee).update(q(K)).digest("hex"):V(K)};return se},L=function(V,W){return function(Q,R){return new _e(Q,W,!0).update(R)[V]()}},re=function(V){var W=L("hex",V);W.create=function(ee){return new _e(ee,V)},W.update=function(ee,q){return W.create(ee).update(q)};for(var Q=0;Q<v.length;++Q){var R=v[Q];W[R]=L(R,V)}return W};function ue(V,W){W?(C[0]=C[16]=C[1]=C[2]=C[3]=C[4]=C[5]=C[6]=C[7]=C[8]=C[9]=C[10]=C[11]=C[12]=C[13]=C[14]=C[15]=0,this.blocks=C):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],V?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=V}ue.prototype.update=function(V){if(!this.finalized){var W,Q=typeof V;if(Q!=="string"){if(Q==="object"){if(V===null)throw new Error(t);if(a&&V.constructor===ArrayBuffer)V=new Uint8Array(V);else if(!Array.isArray(V)&&(!a||!ArrayBuffer.isView(V)))throw new Error(t)}else throw new Error(t);W=!0}for(var R,ee=0,q,se=V.length,K=this.blocks;ee<se;){if(this.hashed&&(this.hashed=!1,K[0]=this.block,this.block=K[16]=K[1]=K[2]=K[3]=K[4]=K[5]=K[6]=K[7]=K[8]=K[9]=K[10]=K[11]=K[12]=K[13]=K[14]=K[15]=0),W)for(q=this.start;ee<se&&q<64;++ee)K[q>>>2]|=V[ee]<<u[q++&3];else for(q=this.start;ee<se&&q<64;++ee)R=V.charCodeAt(ee),R<128?K[q>>>2]|=R<<u[q++&3]:R<2048?(K[q>>>2]|=(192|R>>>6)<<u[q++&3],K[q>>>2]|=(128|R&63)<<u[q++&3]):R<55296||R>=57344?(K[q>>>2]|=(224|R>>>12)<<u[q++&3],K[q>>>2]|=(128|R>>>6&63)<<u[q++&3],K[q>>>2]|=(128|R&63)<<u[q++&3]):(R=65536+((R&1023)<<10|V.charCodeAt(++ee)&1023),K[q>>>2]|=(240|R>>>18)<<u[q++&3],K[q>>>2]|=(128|R>>>12&63)<<u[q++&3],K[q>>>2]|=(128|R>>>6&63)<<u[q++&3],K[q>>>2]|=(128|R&63)<<u[q++&3]);this.lastByteIndex=q,this.bytes+=q-this.start,q>=64?(this.block=K[16],this.start=q-64,this.hash(),this.hashed=!0):this.start=q}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},ue.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var V=this.blocks,W=this.lastByteIndex;V[16]=this.block,V[W>>>2]|=c[W&3],this.block=V[16],W>=56&&(this.hashed||this.hash(),V[0]=this.block,V[16]=V[1]=V[2]=V[3]=V[4]=V[5]=V[6]=V[7]=V[8]=V[9]=V[10]=V[11]=V[12]=V[13]=V[14]=V[15]=0),V[14]=this.hBytes<<3|this.bytes>>>29,V[15]=this.bytes<<3,this.hash()}},ue.prototype.hash=function(){var V=this.h0,W=this.h1,Q=this.h2,R=this.h3,ee=this.h4,q=this.h5,se=this.h6,K=this.h7,Fe=this.blocks,Qe,xt,Ge,Pt,Le,vt,D,F,J,te,G;for(Qe=16;Qe<64;++Qe)Le=Fe[Qe-15],xt=(Le>>>7|Le<<25)^(Le>>>18|Le<<14)^Le>>>3,Le=Fe[Qe-2],Ge=(Le>>>17|Le<<15)^(Le>>>19|Le<<13)^Le>>>10,Fe[Qe]=Fe[Qe-16]+xt+Fe[Qe-7]+Ge<<0;for(G=W&Q,Qe=0;Qe<64;Qe+=4)this.first?(this.is224?(F=300032,Le=Fe[0]-1413257819,K=Le-150054599<<0,R=Le+24177077<<0):(F=704751109,Le=Fe[0]-210244248,K=Le-1521486534<<0,R=Le+143694565<<0),this.first=!1):(xt=(V>>>2|V<<30)^(V>>>13|V<<19)^(V>>>22|V<<10),Ge=(ee>>>6|ee<<26)^(ee>>>11|ee<<21)^(ee>>>25|ee<<7),F=V&W,Pt=F^V&Q^G,D=ee&q^~ee&se,Le=K+Ge+D+d[Qe]+Fe[Qe],vt=xt+Pt,K=R+Le<<0,R=Le+vt<<0),xt=(R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10),Ge=(K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7),J=R&V,Pt=J^R&W^F,D=K&ee^~K&q,Le=se+Ge+D+d[Qe+1]+Fe[Qe+1],vt=xt+Pt,se=Q+Le<<0,Q=Le+vt<<0,xt=(Q>>>2|Q<<30)^(Q>>>13|Q<<19)^(Q>>>22|Q<<10),Ge=(se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7),te=Q&R,Pt=te^Q&V^J,D=se&K^~se&ee,Le=q+Ge+D+d[Qe+2]+Fe[Qe+2],vt=xt+Pt,q=W+Le<<0,W=Le+vt<<0,xt=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),Ge=(q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7),G=W&Q,Pt=G^W&R^te,D=q&se^~q&K,Le=ee+Ge+D+d[Qe+3]+Fe[Qe+3],vt=xt+Pt,ee=V+Le<<0,V=Le+vt<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+V<<0,this.h1=this.h1+W<<0,this.h2=this.h2+Q<<0,this.h3=this.h3+R<<0,this.h4=this.h4+ee<<0,this.h5=this.h5+q<<0,this.h6=this.h6+se<<0,this.h7=this.h7+K<<0},ue.prototype.hex=function(){this.finalize();var V=this.h0,W=this.h1,Q=this.h2,R=this.h3,ee=this.h4,q=this.h5,se=this.h6,K=this.h7,Fe=l[V>>>28&15]+l[V>>>24&15]+l[V>>>20&15]+l[V>>>16&15]+l[V>>>12&15]+l[V>>>8&15]+l[V>>>4&15]+l[V&15]+l[W>>>28&15]+l[W>>>24&15]+l[W>>>20&15]+l[W>>>16&15]+l[W>>>12&15]+l[W>>>8&15]+l[W>>>4&15]+l[W&15]+l[Q>>>28&15]+l[Q>>>24&15]+l[Q>>>20&15]+l[Q>>>16&15]+l[Q>>>12&15]+l[Q>>>8&15]+l[Q>>>4&15]+l[Q&15]+l[R>>>28&15]+l[R>>>24&15]+l[R>>>20&15]+l[R>>>16&15]+l[R>>>12&15]+l[R>>>8&15]+l[R>>>4&15]+l[R&15]+l[ee>>>28&15]+l[ee>>>24&15]+l[ee>>>20&15]+l[ee>>>16&15]+l[ee>>>12&15]+l[ee>>>8&15]+l[ee>>>4&15]+l[ee&15]+l[q>>>28&15]+l[q>>>24&15]+l[q>>>20&15]+l[q>>>16&15]+l[q>>>12&15]+l[q>>>8&15]+l[q>>>4&15]+l[q&15]+l[se>>>28&15]+l[se>>>24&15]+l[se>>>20&15]+l[se>>>16&15]+l[se>>>12&15]+l[se>>>8&15]+l[se>>>4&15]+l[se&15];return this.is224||(Fe+=l[K>>>28&15]+l[K>>>24&15]+l[K>>>20&15]+l[K>>>16&15]+l[K>>>12&15]+l[K>>>8&15]+l[K>>>4&15]+l[K&15]),Fe},ue.prototype.toString=ue.prototype.hex,ue.prototype.digest=function(){this.finalize();var V=this.h0,W=this.h1,Q=this.h2,R=this.h3,ee=this.h4,q=this.h5,se=this.h6,K=this.h7,Fe=[V>>>24&255,V>>>16&255,V>>>8&255,V&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255,Q>>>24&255,Q>>>16&255,Q>>>8&255,Q&255,R>>>24&255,R>>>16&255,R>>>8&255,R&255,ee>>>24&255,ee>>>16&255,ee>>>8&255,ee&255,q>>>24&255,q>>>16&255,q>>>8&255,q&255,se>>>24&255,se>>>16&255,se>>>8&255,se&255];return this.is224||Fe.push(K>>>24&255,K>>>16&255,K>>>8&255,K&255),Fe},ue.prototype.array=ue.prototype.digest,ue.prototype.arrayBuffer=function(){this.finalize();var V=new ArrayBuffer(this.is224?28:32),W=new DataView(V);return W.setUint32(0,this.h0),W.setUint32(4,this.h1),W.setUint32(8,this.h2),W.setUint32(12,this.h3),W.setUint32(16,this.h4),W.setUint32(20,this.h5),W.setUint32(24,this.h6),this.is224||W.setUint32(28,this.h7),V};function _e(V,W,Q){var R,ee=typeof V;if(ee==="string"){var q=[],se=V.length,K=0,Fe;for(R=0;R<se;++R)Fe=V.charCodeAt(R),Fe<128?q[K++]=Fe:Fe<2048?(q[K++]=192|Fe>>>6,q[K++]=128|Fe&63):Fe<55296||Fe>=57344?(q[K++]=224|Fe>>>12,q[K++]=128|Fe>>>6&63,q[K++]=128|Fe&63):(Fe=65536+((Fe&1023)<<10|V.charCodeAt(++R)&1023),q[K++]=240|Fe>>>18,q[K++]=128|Fe>>>12&63,q[K++]=128|Fe>>>6&63,q[K++]=128|Fe&63);V=q}else if(ee==="object"){if(V===null)throw new Error(t);if(a&&V.constructor===ArrayBuffer)V=new Uint8Array(V);else if(!Array.isArray(V)&&(!a||!ArrayBuffer.isView(V)))throw new Error(t)}else throw new Error(t);V.length>64&&(V=new ue(W,!0).update(V).array());var Qe=[],xt=[];for(R=0;R<64;++R){var Ge=V[R]||0;Qe[R]=92^Ge,xt[R]=54^Ge}ue.call(this,W,Q),this.update(xt),this.oKeyPad=Qe,this.inner=!0,this.sharedMemory=Q}_e.prototype=new ue,_e.prototype.finalize=function(){if(ue.prototype.finalize.call(this),this.inner){this.inner=!1;var V=this.array();ue.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(V),ue.prototype.finalize.call(this)}};var Oe=S();Oe.sha256=Oe,Oe.sha224=S(!0),Oe.sha256.hmac=re(),Oe.sha224.hmac=re(!0),o?Bf.exports=Oe:(r.sha256=Oe.sha256,r.sha224=Oe.sha224,s&&define(function(){return Oe}))})()});var qM=Aa((Di,qy)=>{"use strict";(function(t,e){typeof Di=="object"&&typeof qy<"u"?qy.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Di,function(){"use strict";function t(p,g,b){if(typeof p=="function"?p===g:p.has(g))return arguments.length<3?g:b;throw new TypeError("Private element is not present on this object")}function e(p,g){if(g.has(p))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(p,g){return p.get(t(p,g))}function n(p,g,b){e(p,g),g.set(p,b)}function i(p,g,b){return p.set(t(p,g),b),b}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=p=>new Promise(g=>{if(!p)return g();let b=window.scrollX,E=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),g()},o),window.scrollTo(b,E)}),c="swal2-",d=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((p,g)=>(p[g]=c+g,p),{}),C=["success","warning","info","question","error"].reduce((p,g)=>(p[g]=c+g,p),{}),_="SweetAlert2:",S=p=>p.charAt(0).toUpperCase()+p.slice(1),M=p=>{console.warn(`${_} ${typeof p=="object"?p.join(" "):p}`)},L=p=>{console.error(`${_} ${p}`)},re=[],ue=p=>{re.includes(p)||(re.push(p),M(p))},_e=function(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ue(`"${p}" is deprecated and will be removed in the next major release.${g?` Use "${g}" instead.`:""}`)},Oe=p=>typeof p=="function"?p():p,V=p=>p&&typeof p.toPromise=="function",W=p=>V(p)?p.toPromise():Promise.resolve(p),Q=p=>p&&Promise.resolve(p)===p,R=()=>document.body.querySelector(`.${d.container}`),ee=p=>{let g=R();return g?g.querySelector(p):null},q=p=>ee(`.${p}`),se=()=>q(d.popup),K=()=>q(d.icon),Fe=()=>q(d["icon-content"]),Qe=()=>q(d.title),xt=()=>q(d["html-container"]),Ge=()=>q(d.image),Pt=()=>q(d["progress-steps"]),Le=()=>q(d["validation-message"]),vt=()=>ee(`.${d.actions} .${d.confirm}`),D=()=>ee(`.${d.actions} .${d.cancel}`),F=()=>ee(`.${d.actions} .${d.deny}`),J=()=>q(d["input-label"]),te=()=>ee(`.${d.loader}`),G=()=>q(d.actions),ce=()=>q(d.footer),X=()=>q(d["timer-progress-bar"]),ne=()=>q(d.close),ye=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,me=()=>{let p=se();if(!p)return[];let g=p.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),b=Array.from(g).sort((de,We)=>{let pt=parseInt(de.getAttribute("tabindex")||"0"),Ft=parseInt(We.getAttribute("tabindex")||"0");return pt>Ft?1:pt<Ft?-1:0}),E=p.querySelectorAll(ye),B=Array.from(E).filter(de=>de.getAttribute("tabindex")!=="-1");return[...new Set(b.concat(B))].filter(de=>Xn(de))},je=()=>zt(document.body,d.shown)&&!zt(document.body,d["toast-shown"])&&!zt(document.body,d["no-backdrop"]),tt=()=>{let p=se();return p?zt(p,d.toast):!1},kr=()=>{let p=se();return p?p.hasAttribute("data-loading"):!1},Ht=(p,g)=>{if(p.textContent="",g){let E=new DOMParser().parseFromString(g,"text/html"),B=E.querySelector("head");B&&Array.from(B.childNodes).forEach(We=>{p.appendChild(We)});let de=E.querySelector("body");de&&Array.from(de.childNodes).forEach(We=>{We instanceof HTMLVideoElement||We instanceof HTMLAudioElement?p.appendChild(We.cloneNode(!0)):p.appendChild(We)})}},zt=(p,g)=>{if(!g)return!1;let b=g.split(/\s+/);for(let E=0;E<b.length;E++)if(!p.classList.contains(b[E]))return!1;return!0},fs=(p,g)=>{Array.from(p.classList).forEach(b=>{!Object.values(d).includes(b)&&!Object.values(C).includes(b)&&!Object.values(g.showClass||{}).includes(b)&&p.classList.remove(b)})},gr=(p,g,b)=>{if(fs(p,g),!g.customClass)return;let E=g.customClass[b];if(E){if(typeof E!="string"&&!E.forEach){M(`Invalid type of customClass.${b}! Expected string or iterable object, got "${typeof E}"`);return}st(p,E)}},Yu=(p,g)=>{if(!g)return null;switch(g){case"select":case"textarea":case"file":return p.querySelector(`.${d.popup} > .${d[g]}`);case"checkbox":return p.querySelector(`.${d.popup} > .${d.checkbox} input`);case"radio":return p.querySelector(`.${d.popup} > .${d.radio} input:checked`)||p.querySelector(`.${d.popup} > .${d.radio} input:first-child`);case"range":return p.querySelector(`.${d.popup} > .${d.range} input`);default:return p.querySelector(`.${d.popup} > .${d.input}`)}},Sb=p=>{if(p.focus(),p.type!=="file"){let g=p.value;p.value="",p.value=g}},Eb=(p,g,b)=>{!p||!g||(typeof g=="string"&&(g=g.split(/\s+/).filter(Boolean)),g.forEach(E=>{Array.isArray(p)?p.forEach(B=>{b?B.classList.add(E):B.classList.remove(E)}):b?p.classList.add(E):p.classList.remove(E)}))},st=(p,g)=>{Eb(p,g,!0)},fi=(p,g)=>{Eb(p,g,!1)},wo=(p,g)=>{let b=Array.from(p.children);for(let E=0;E<b.length;E++){let B=b[E];if(B instanceof HTMLElement&&zt(B,g))return B}},hs=(p,g,b)=>{b===`${parseInt(b)}`&&(b=parseInt(b)),b||parseInt(b)===0?p.style.setProperty(g,typeof b=="number"?`${b}px`:b):p.style.removeProperty(g)},dn=function(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";p&&(p.style.display=g)},An=p=>{p&&(p.style.display="none")},Yh=function(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";p&&new MutationObserver(()=>{ac(p,p.innerHTML,g)}).observe(p,{childList:!0,subtree:!0})},Ib=(p,g,b,E)=>{let B=p.querySelector(g);B&&B.style.setProperty(b,E)},ac=function(p,g){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";g?dn(p,b):An(p)},Xn=p=>!!(p&&(p.offsetWidth||p.offsetHeight||p.getClientRects().length)),IT=()=>!Xn(vt())&&!Xn(F())&&!Xn(D()),Mb=p=>p.scrollHeight>p.clientHeight,Db=p=>{let g=window.getComputedStyle(p),b=parseFloat(g.getPropertyValue("animation-duration")||"0"),E=parseFloat(g.getPropertyValue("transition-duration")||"0");return b>0||E>0},Jh=function(p){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=X();b&&Xn(b)&&(g&&(b.style.transition="none",b.style.width="100%"),setTimeout(()=>{b.style.transition=`width ${p/1e3}s linear`,b.style.width="0%"},10))},MT=()=>{let p=X();if(!p)return;let g=parseInt(window.getComputedStyle(p).width);p.style.removeProperty("transition"),p.style.width="100%";let b=parseInt(window.getComputedStyle(p).width),E=g/b*100;p.style.width=`${E}%`},DT=()=>typeof window>"u"||typeof document>"u",kT=`
 <div aria-labelledby="${d.title}" aria-describedby="${d["html-container"]}" class="${d.popup}" tabindex="-1">
   <button type="button" class="${d.close}"></button>
   <ul class="${d["progress-steps"]}"></ul>
   <div class="${d.icon}"></div>
   <img class="${d.image}" />
   <h2 class="${d.title}" id="${d.title}"></h2>
   <div class="${d["html-container"]}" id="${d["html-container"]}"></div>
   <input class="${d.input}" id="${d.input}" />
   <input type="file" class="${d.file}" />
   <div class="${d.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${d.select}" id="${d.select}"></select>
   <div class="${d.radio}"></div>
   <label class="${d.checkbox}">
     <input type="checkbox" id="${d.checkbox}" />
     <span class="${d.label}"></span>
   </label>
   <textarea class="${d.textarea}" id="${d.textarea}"></textarea>
   <div class="${d["validation-message"]}" id="${d["validation-message"]}"></div>
   <div class="${d.actions}">
     <div class="${d.loader}"></div>
     <button type="button" class="${d.confirm}"></button>
     <button type="button" class="${d.deny}"></button>
     <button type="button" class="${d.cancel}"></button>
   </div>
   <div class="${d.footer}"></div>
   <div class="${d["timer-progress-bar-container"]}">
     <div class="${d["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),TT=()=>{let p=R();return p?(p.remove(),fi([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0):!1},ms=()=>{s.currentInstance.resetValidationMessage()},OT=()=>{let p=se(),g=wo(p,d.input),b=wo(p,d.file),E=p.querySelector(`.${d.range} input`),B=p.querySelector(`.${d.range} output`),de=wo(p,d.select),We=p.querySelector(`.${d.checkbox} input`),pt=wo(p,d.textarea);g.oninput=ms,b.onchange=ms,de.onchange=ms,We.onchange=ms,pt.oninput=ms,E.oninput=()=>{ms(),B.value=E.value},E.onchange=()=>{ms(),B.value=E.value}},AT=p=>typeof p=="string"?document.querySelector(p):p,PT=p=>{let g=se();g.setAttribute("role",p.toast?"alert":"dialog"),g.setAttribute("aria-live",p.toast?"polite":"assertive"),p.toast||g.setAttribute("aria-modal","true")},NT=p=>{window.getComputedStyle(p).direction==="rtl"&&st(R(),d.rtl)},RT=p=>{let g=TT();if(DT()){L("SweetAlert2 requires document to initialize");return}let b=document.createElement("div");b.className=d.container,g&&st(b,d["no-transition"]),Ht(b,kT);let E=AT(p.target);E.appendChild(b),PT(p),NT(E),OT()},Qh=(p,g)=>{p instanceof HTMLElement?g.appendChild(p):typeof p=="object"?FT(p,g):p&&Ht(g,p)},FT=(p,g)=>{p.jquery?LT(g,p):Ht(g,p.toString())},LT=(p,g)=>{if(p.textContent="",0 in g)for(let b=0;b in g;b++)p.appendChild(g[b].cloneNode(!0));else p.appendChild(g.cloneNode(!0))},VT=(p,g)=>{let b=G(),E=te();!b||!E||(!g.showConfirmButton&&!g.showDenyButton&&!g.showCancelButton?An(b):dn(b),gr(b,g,"actions"),BT(b,E,g),Ht(E,g.loaderHtml||""),gr(E,g,"loader"))};function BT(p,g,b){let E=vt(),B=F(),de=D();!E||!B||!de||(Xh(E,"confirm",b),Xh(B,"deny",b),Xh(de,"cancel",b),jT(E,B,de,b),b.reverseButtons&&(b.toast?(p.insertBefore(de,E),p.insertBefore(B,E)):(p.insertBefore(de,g),p.insertBefore(B,g),p.insertBefore(E,g))))}function jT(p,g,b,E){if(!E.buttonsStyling){fi([p,g,b],d.styled);return}st([p,g,b],d.styled),E.confirmButtonColor&&(p.style.backgroundColor=E.confirmButtonColor,st(p,d["default-outline"])),E.denyButtonColor&&(g.style.backgroundColor=E.denyButtonColor,st(g,d["default-outline"])),E.cancelButtonColor&&(b.style.backgroundColor=E.cancelButtonColor,st(b,d["default-outline"]))}function Xh(p,g,b){let E=S(g);ac(p,b[`show${E}Button`],"inline-block"),Ht(p,b[`${g}ButtonText`]||""),p.setAttribute("aria-label",b[`${g}ButtonAriaLabel`]||""),p.className=d[g],gr(p,b,`${g}Button`)}let UT=(p,g)=>{let b=ne();b&&(Ht(b,g.closeButtonHtml||""),gr(b,g,"closeButton"),ac(b,g.showCloseButton),b.setAttribute("aria-label",g.closeButtonAriaLabel||""))},$T=(p,g)=>{let b=R();b&&(HT(b,g.backdrop),zT(b,g.position),qT(b,g.grow),gr(b,g,"container"))};function HT(p,g){typeof g=="string"?p.style.background=g:g||st([document.documentElement,document.body],d["no-backdrop"])}function zT(p,g){g&&(g in d?st(p,d[g]):(M('The "position" parameter is not valid, defaulting to "center"'),st(p,d.center)))}function qT(p,g){g&&st(p,d[`grow-${g}`])}var St={innerParams:new WeakMap,domCache:new WeakMap};let GT=["input","file","range","select","radio","checkbox","textarea"],WT=(p,g)=>{let b=se();if(!b)return;let E=St.innerParams.get(p),B=!E||g.input!==E.input;GT.forEach(de=>{let We=wo(b,d[de]);We&&(YT(de,g.inputAttributes),We.className=d[de],B&&An(We))}),g.input&&(B&&KT(g),JT(g))},KT=p=>{if(!p.input)return;if(!Kt[p.input]){L(`Unexpected type of input! Expected ${Object.keys(Kt).join(" | ")}, got "${p.input}"`);return}let g=kb(p.input);if(!g)return;let b=Kt[p.input](g,p);dn(g),p.inputAutoFocus&&setTimeout(()=>{Sb(b)})},ZT=p=>{for(let g=0;g<p.attributes.length;g++){let b=p.attributes[g].name;["id","type","value","style"].includes(b)||p.removeAttribute(b)}},YT=(p,g)=>{let b=se();if(!b)return;let E=Yu(b,p);if(E){ZT(E);for(let B in g)E.setAttribute(B,g[B])}},JT=p=>{if(!p.input)return;let g=kb(p.input);g&&gr(g,p,"input")},em=(p,g)=>{!p.placeholder&&g.inputPlaceholder&&(p.placeholder=g.inputPlaceholder)},lc=(p,g,b)=>{if(b.inputLabel){let E=document.createElement("label"),B=d["input-label"];E.setAttribute("for",p.id),E.className=B,typeof b.customClass=="object"&&st(E,b.customClass.inputLabel),E.innerText=b.inputLabel,g.insertAdjacentElement("beforebegin",E)}},kb=p=>{let g=se();if(g)return wo(g,d[p]||d.input)},Ju=(p,g)=>{["string","number"].includes(typeof g)?p.value=`${g}`:Q(g)||M(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof g}"`)},Kt={};Kt.text=Kt.email=Kt.password=Kt.number=Kt.tel=Kt.url=Kt.search=Kt.date=Kt["datetime-local"]=Kt.time=Kt.week=Kt.month=(p,g)=>(Ju(p,g.inputValue),lc(p,p,g),em(p,g),p.type=g.input,p),Kt.file=(p,g)=>(lc(p,p,g),em(p,g),p),Kt.range=(p,g)=>{let b=p.querySelector("input"),E=p.querySelector("output");return Ju(b,g.inputValue),b.type=g.input,Ju(E,g.inputValue),lc(b,p,g),p},Kt.select=(p,g)=>{if(p.textContent="",g.inputPlaceholder){let b=document.createElement("option");Ht(b,g.inputPlaceholder),b.value="",b.disabled=!0,b.selected=!0,p.appendChild(b)}return lc(p,p,g),p},Kt.radio=p=>(p.textContent="",p),Kt.checkbox=(p,g)=>{let b=Yu(se(),"checkbox");b.value="1",b.checked=!!g.inputValue;let E=p.querySelector("span");return Ht(E,g.inputPlaceholder||g.inputLabel),b},Kt.textarea=(p,g)=>{Ju(p,g.inputValue),em(p,g),lc(p,p,g);let b=E=>parseInt(window.getComputedStyle(E).marginLeft)+parseInt(window.getComputedStyle(E).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let E=parseInt(window.getComputedStyle(se()).width),B=()=>{if(!document.body.contains(p))return;let de=p.offsetWidth+b(p);de>E?se().style.width=`${de}px`:hs(se(),"width",g.width)};new MutationObserver(B).observe(p,{attributes:!0,attributeFilter:["style"]})}}),p};let QT=(p,g)=>{let b=xt();b&&(Yh(b),gr(b,g,"htmlContainer"),g.html?(Qh(g.html,b),dn(b,"block")):g.text?(b.textContent=g.text,dn(b,"block")):An(b),WT(p,g))},XT=(p,g)=>{let b=ce();b&&(Yh(b),ac(b,g.footer,"block"),g.footer&&Qh(g.footer,b),gr(b,g,"footer"))},eO=(p,g)=>{let b=St.innerParams.get(p),E=K();if(E){if(b&&g.icon===b.icon){Ob(E,g),Tb(E,g);return}if(!g.icon&&!g.iconHtml){An(E);return}if(g.icon&&Object.keys(C).indexOf(g.icon)===-1){L(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${g.icon}"`),An(E);return}dn(E),Ob(E,g),Tb(E,g),st(E,g.showClass&&g.showClass.icon)}},Tb=(p,g)=>{for(let[b,E]of Object.entries(C))g.icon!==b&&fi(p,E);st(p,g.icon&&C[g.icon]),iO(p,g),tO(),gr(p,g,"icon")},tO=()=>{let p=se();if(!p)return;let g=window.getComputedStyle(p).getPropertyValue("background-color"),b=p.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let E=0;E<b.length;E++)b[E].style.backgroundColor=g},nO=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,rO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ob=(p,g)=>{if(!g.icon&&!g.iconHtml)return;let b=p.innerHTML,E="";g.iconHtml?E=Ab(g.iconHtml):g.icon==="success"?(E=nO,b=b.replace(/ style=".*?"/g,"")):g.icon==="error"?E=rO:g.icon&&(E=Ab({question:"?",warning:"!",info:"i"}[g.icon])),b.trim()!==E.trim()&&Ht(p,E)},iO=(p,g)=>{if(g.iconColor){p.style.color=g.iconColor,p.style.borderColor=g.iconColor;for(let b of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ib(p,b,"background-color",g.iconColor);Ib(p,".swal2-success-ring","border-color",g.iconColor)}},Ab=p=>`<div class="${d["icon-content"]}">${p}</div>`,oO=(p,g)=>{let b=Ge();if(b){if(!g.imageUrl){An(b);return}dn(b,""),b.setAttribute("src",g.imageUrl),b.setAttribute("alt",g.imageAlt||""),hs(b,"width",g.imageWidth),hs(b,"height",g.imageHeight),b.className=d.image,gr(b,g,"image")}},sO=(p,g)=>{let b=R(),E=se();if(!(!b||!E)){if(g.toast){hs(b,"width",g.width),E.style.width="100%";let B=te();B&&E.insertBefore(B,K())}else hs(E,"width",g.width);hs(E,"padding",g.padding),g.color&&(E.style.color=g.color),g.background&&(E.style.background=g.background),An(Le()),aO(E,g)}},aO=(p,g)=>{let b=g.showClass||{};p.className=`${d.popup} ${Xn(p)?b.popup:""}`,g.toast?(st([document.documentElement,document.body],d["toast-shown"]),st(p,d.toast)):st(p,d.modal),gr(p,g,"popup"),typeof g.customClass=="string"&&st(p,g.customClass),g.icon&&st(p,d[`icon-${g.icon}`])},lO=(p,g)=>{let b=Pt();if(!b)return;let{progressSteps:E,currentProgressStep:B}=g;if(!E||E.length===0||B===void 0){An(b);return}dn(b),b.textContent="",B>=E.length&&M("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.forEach((de,We)=>{let pt=cO(de);if(b.appendChild(pt),We===B&&st(pt,d["active-progress-step"]),We!==E.length-1){let Ft=uO(g);b.appendChild(Ft)}})},cO=p=>{let g=document.createElement("li");return st(g,d["progress-step"]),Ht(g,p),g},uO=p=>{let g=document.createElement("li");return st(g,d["progress-step-line"]),p.progressStepsDistance&&hs(g,"width",p.progressStepsDistance),g},dO=(p,g)=>{let b=Qe();b&&(Yh(b),ac(b,g.title||g.titleText,"block"),g.title&&Qh(g.title,b),g.titleText&&(b.innerText=g.titleText),gr(b,g,"title"))},Pb=(p,g)=>{sO(p,g),$T(p,g),lO(p,g),eO(p,g),oO(p,g),dO(p,g),UT(p,g),QT(p,g),VT(p,g),XT(p,g);let b=se();typeof g.didRender=="function"&&b&&g.didRender(b),s.eventEmitter.emit("didRender",b)},pO=()=>Xn(se()),Nb=()=>{var p;return(p=vt())===null||p===void 0?void 0:p.click()},fO=()=>{var p;return(p=F())===null||p===void 0?void 0:p.click()},hO=()=>{var p;return(p=D())===null||p===void 0?void 0:p.click()},Ia=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Rb=p=>{p.keydownTarget&&p.keydownHandlerAdded&&(p.keydownTarget.removeEventListener("keydown",p.keydownHandler,{capture:p.keydownListenerCapture}),p.keydownHandlerAdded=!1)},mO=(p,g,b)=>{Rb(p),g.toast||(p.keydownHandler=E=>vO(g,E,b),p.keydownTarget=g.keydownListenerCapture?window:se(),p.keydownListenerCapture=g.keydownListenerCapture,p.keydownTarget.addEventListener("keydown",p.keydownHandler,{capture:p.keydownListenerCapture}),p.keydownHandlerAdded=!0)},tm=(p,g)=>{var b;let E=me();if(E.length){p=p+g,p===E.length?p=0:p===-1&&(p=E.length-1),E[p].focus();return}(b=se())===null||b===void 0||b.focus()},Fb=["ArrowRight","ArrowDown"],gO=["ArrowLeft","ArrowUp"],vO=(p,g,b)=>{p&&(g.isComposing||g.keyCode===229||(p.stopKeydownPropagation&&g.stopPropagation(),g.key==="Enter"?yO(g,p):g.key==="Tab"?bO(g):[...Fb,...gO].includes(g.key)?CO(g.key):g.key==="Escape"&&wO(g,p,b)))},yO=(p,g)=>{if(!Oe(g.allowEnterKey))return;let b=Yu(se(),g.input);if(p.target&&b&&p.target instanceof HTMLElement&&p.target.outerHTML===b.outerHTML){if(["textarea","file"].includes(g.input))return;Nb(),p.preventDefault()}},bO=p=>{let g=p.target,b=me(),E=-1;for(let B=0;B<b.length;B++)if(g===b[B]){E=B;break}p.shiftKey?tm(E,-1):tm(E,1),p.stopPropagation(),p.preventDefault()},CO=p=>{let g=G(),b=vt(),E=F(),B=D();if(!g||!b||!E||!B)return;let de=[b,E,B];if(document.activeElement instanceof HTMLElement&&!de.includes(document.activeElement))return;let We=Fb.includes(p)?"nextElementSibling":"previousElementSibling",pt=document.activeElement;if(pt){for(let Ft=0;Ft<g.children.length;Ft++){if(pt=pt[We],!pt)return;if(pt instanceof HTMLButtonElement&&Xn(pt))break}pt instanceof HTMLButtonElement&&pt.focus()}},wO=(p,g,b)=>{Oe(g.allowEscapeKey)&&(p.preventDefault(),b(Ia.esc))};var Ma={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let _O=()=>{let p=R();Array.from(document.body.children).forEach(b=>{b.contains(p)||(b.hasAttribute("aria-hidden")&&b.setAttribute("data-previous-aria-hidden",b.getAttribute("aria-hidden")||""),b.setAttribute("aria-hidden","true"))})},Lb=()=>{Array.from(document.body.children).forEach(g=>{g.hasAttribute("data-previous-aria-hidden")?(g.setAttribute("aria-hidden",g.getAttribute("data-previous-aria-hidden")||""),g.removeAttribute("data-previous-aria-hidden")):g.removeAttribute("aria-hidden")})},Vb=typeof window<"u"&&!!window.GestureEvent,xO=()=>{if(Vb&&!zt(document.body,d.iosfix)){let p=document.body.scrollTop;document.body.style.top=`${p*-1}px`,st(document.body,d.iosfix),SO()}},SO=()=>{let p=R();if(!p)return;let g;p.ontouchstart=b=>{g=EO(b)},p.ontouchmove=b=>{g&&(b.preventDefault(),b.stopPropagation())}},EO=p=>{let g=p.target,b=R(),E=xt();return!b||!E||IO(p)||MO(p)?!1:g===b||!Mb(b)&&g instanceof HTMLElement&&g.tagName!=="INPUT"&&g.tagName!=="TEXTAREA"&&!(Mb(E)&&E.contains(g))},IO=p=>p.touches&&p.touches.length&&p.touches[0].touchType==="stylus",MO=p=>p.touches&&p.touches.length>1,DO=()=>{if(zt(document.body,d.iosfix)){let p=parseInt(document.body.style.top,10);fi(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=p*-1}},kO=()=>{let p=document.createElement("div");p.className=d["scrollbar-measure"],document.body.appendChild(p);let g=p.getBoundingClientRect().width-p.clientWidth;return document.body.removeChild(p),g},Da=null,TO=p=>{Da===null&&(document.body.scrollHeight>window.innerHeight||p==="scroll")&&(Da=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Da+kO()}px`)},OO=()=>{Da!==null&&(document.body.style.paddingRight=`${Da}px`,Da=null)};function Bb(p,g,b,E){tt()?Ub(p,E):(l(b).then(()=>Ub(p,E)),Rb(s)),Vb?(g.setAttribute("style","display:none !important"),g.removeAttribute("class"),g.innerHTML=""):g.remove(),je()&&(OO(),DO(),Lb()),AO()}function AO(){fi([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function _o(p){p=NO(p);let g=Ma.swalPromiseResolve.get(this),b=PO(this);this.isAwaitingPromise?p.isDismissed||(cc(this),g(p)):b&&g(p)}let PO=p=>{let g=se();if(!g)return!1;let b=St.innerParams.get(p);if(!b||zt(g,b.hideClass.popup))return!1;fi(g,b.showClass.popup),st(g,b.hideClass.popup);let E=R();return fi(E,b.showClass.backdrop),st(E,b.hideClass.backdrop),RO(p,g,b),!0};function jb(p){let g=Ma.swalPromiseReject.get(this);cc(this),g&&g(p)}let cc=p=>{p.isAwaitingPromise&&(delete p.isAwaitingPromise,St.innerParams.get(p)||p._destroy())},NO=p=>typeof p>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},p),RO=(p,g,b)=>{let E=R(),B=Db(g);typeof b.willClose=="function"&&b.willClose(g),s.eventEmitter.emit("willClose",g),B?FO(p,g,E,b.returnFocus,b.didClose):Bb(p,E,b.returnFocus,b.didClose)},FO=(p,g,b,E,B)=>{s.swalCloseEventFinishedCallback=Bb.bind(null,p,b,E,B);let de=function(We){We.target===g&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,g.removeEventListener("animationend",de),g.removeEventListener("transitionend",de))};g.addEventListener("animationend",de),g.addEventListener("transitionend",de)},Ub=(p,g)=>{setTimeout(()=>{typeof g=="function"&&g.bind(p.params)(),s.eventEmitter.emit("didClose"),p._destroy&&p._destroy()})},ka=p=>{let g=se();if(g||new rd,g=se(),!g)return;let b=te();tt()?An(K()):LO(g,p),dn(b),g.setAttribute("data-loading","true"),g.setAttribute("aria-busy","true"),g.focus()},LO=(p,g)=>{let b=G(),E=te();!b||!E||(!g&&Xn(vt())&&(g=vt()),dn(b),g&&(An(g),E.setAttribute("data-button-to-replace",g.className),b.insertBefore(E,g)),st([p,b],d.loading))},VO=(p,g)=>{g.input==="select"||g.input==="radio"?HO(p,g):["text","email","number","tel","textarea"].some(b=>b===g.input)&&(V(g.inputValue)||Q(g.inputValue))&&(ka(vt()),zO(p,g))},BO=(p,g)=>{let b=p.getInput();if(!b)return null;switch(g.input){case"checkbox":return jO(b);case"radio":return UO(b);case"file":return $O(b);default:return g.inputAutoTrim?b.value.trim():b.value}},jO=p=>p.checked?1:0,UO=p=>p.checked?p.value:null,$O=p=>p.files&&p.files.length?p.getAttribute("multiple")!==null?p.files:p.files[0]:null,HO=(p,g)=>{let b=se();if(!b)return;let E=B=>{g.input==="select"?qO(b,Qu(B),g):g.input==="radio"&&GO(b,Qu(B),g)};V(g.inputOptions)||Q(g.inputOptions)?(ka(vt()),W(g.inputOptions).then(B=>{p.hideLoading(),E(B)})):typeof g.inputOptions=="object"?E(g.inputOptions):L(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof g.inputOptions}`)},zO=(p,g)=>{let b=p.getInput();b&&(An(b),W(g.inputValue).then(E=>{b.value=g.input==="number"?`${parseFloat(E)||0}`:`${E}`,dn(b),b.focus(),p.hideLoading()}).catch(E=>{L(`Error in inputValue promise: ${E}`),b.value="",dn(b),b.focus(),p.hideLoading()}))};function qO(p,g,b){let E=wo(p,d.select);if(!E)return;let B=(de,We,pt)=>{let Ft=document.createElement("option");Ft.value=pt,Ht(Ft,We),Ft.selected=$b(pt,b.inputValue),de.appendChild(Ft)};g.forEach(de=>{let We=de[0],pt=de[1];if(Array.isArray(pt)){let Ft=document.createElement("optgroup");Ft.label=We,Ft.disabled=!1,E.appendChild(Ft),pt.forEach(Oa=>B(Ft,Oa[1],Oa[0]))}else B(E,pt,We)}),E.focus()}function GO(p,g,b){let E=wo(p,d.radio);if(!E)return;g.forEach(de=>{let We=de[0],pt=de[1],Ft=document.createElement("input"),Oa=document.createElement("label");Ft.type="radio",Ft.name=d.radio,Ft.value=We,$b(We,b.inputValue)&&(Ft.checked=!0);let sm=document.createElement("span");Ht(sm,pt),sm.className=d.label,Oa.appendChild(Ft),Oa.appendChild(sm),E.appendChild(Oa)});let B=E.querySelectorAll("input");B.length&&B[0].focus()}let Qu=p=>{let g=[];return p instanceof Map?p.forEach((b,E)=>{let B=b;typeof B=="object"&&(B=Qu(B)),g.push([E,B])}):Object.keys(p).forEach(b=>{let E=p[b];typeof E=="object"&&(E=Qu(E)),g.push([b,E])}),g},$b=(p,g)=>!!g&&g.toString()===p.toString(),WO=p=>{let g=St.innerParams.get(p);p.disableButtons(),g.input?Hb(p,"confirm"):rm(p,!0)},KO=p=>{let g=St.innerParams.get(p);p.disableButtons(),g.returnInputValueOnDeny?Hb(p,"deny"):nm(p,!1)},ZO=(p,g)=>{p.disableButtons(),g(Ia.cancel)},Hb=(p,g)=>{let b=St.innerParams.get(p);if(!b.input){L(`The "input" parameter is needed to be set when using returnInputValueOn${S(g)}`);return}let E=p.getInput(),B=BO(p,b);b.inputValidator?YO(p,B,g):E&&!E.checkValidity()?(p.enableButtons(),p.showValidationMessage(b.validationMessage||E.validationMessage)):g==="deny"?nm(p,B):rm(p,B)},YO=(p,g,b)=>{let E=St.innerParams.get(p);p.disableInput(),Promise.resolve().then(()=>W(E.inputValidator(g,E.validationMessage))).then(de=>{p.enableButtons(),p.enableInput(),de?p.showValidationMessage(de):b==="deny"?nm(p,g):rm(p,g)})},nm=(p,g)=>{let b=St.innerParams.get(p||void 0);b.showLoaderOnDeny&&ka(F()),b.preDeny?(p.isAwaitingPromise=!0,Promise.resolve().then(()=>W(b.preDeny(g,b.validationMessage))).then(B=>{B===!1?(p.hideLoading(),cc(p)):p.close({isDenied:!0,value:typeof B>"u"?g:B})}).catch(B=>qb(p||void 0,B))):p.close({isDenied:!0,value:g})},zb=(p,g)=>{p.close({isConfirmed:!0,value:g})},qb=(p,g)=>{p.rejectPromise(g)},rm=(p,g)=>{let b=St.innerParams.get(p||void 0);b.showLoaderOnConfirm&&ka(),b.preConfirm?(p.resetValidationMessage(),p.isAwaitingPromise=!0,Promise.resolve().then(()=>W(b.preConfirm(g,b.validationMessage))).then(B=>{Xn(Le())||B===!1?(p.hideLoading(),cc(p)):zb(p,typeof B>"u"?g:B)}).catch(B=>qb(p||void 0,B))):zb(p,g)};function Xu(){let p=St.innerParams.get(this);if(!p)return;let g=St.domCache.get(this);An(g.loader),tt()?p.icon&&dn(K()):JO(g),fi([g.popup,g.actions],d.loading),g.popup.removeAttribute("aria-busy"),g.popup.removeAttribute("data-loading"),g.confirmButton.disabled=!1,g.denyButton.disabled=!1,g.cancelButton.disabled=!1}let JO=p=>{let g=p.popup.getElementsByClassName(p.loader.getAttribute("data-button-to-replace"));g.length?dn(g[0],"inline-block"):IT()&&An(p.actions)};function Gb(){let p=St.innerParams.get(this),g=St.domCache.get(this);return g?Yu(g.popup,p.input):null}function Wb(p,g,b){let E=St.domCache.get(p);g.forEach(B=>{E[B].disabled=b})}function Kb(p,g){let b=se();if(!(!b||!p))if(p.type==="radio"){let E=b.querySelectorAll(`[name="${d.radio}"]`);for(let B=0;B<E.length;B++)E[B].disabled=g}else p.disabled=g}function Zb(){Wb(this,["confirmButton","denyButton","cancelButton"],!1)}function Yb(){Wb(this,["confirmButton","denyButton","cancelButton"],!0)}function Jb(){Kb(this.getInput(),!1)}function Qb(){Kb(this.getInput(),!0)}function Xb(p){let g=St.domCache.get(this),b=St.innerParams.get(this);Ht(g.validationMessage,p),g.validationMessage.className=d["validation-message"],b.customClass&&b.customClass.validationMessage&&st(g.validationMessage,b.customClass.validationMessage),dn(g.validationMessage);let E=this.getInput();E&&(E.setAttribute("aria-invalid","true"),E.setAttribute("aria-describedby",d["validation-message"]),Sb(E),st(E,d.inputerror))}function eC(){let p=St.domCache.get(this);p.validationMessage&&An(p.validationMessage);let g=this.getInput();g&&(g.removeAttribute("aria-invalid"),g.removeAttribute("aria-describedby"),fi(g,d.inputerror))}let Ta={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},QO=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],XO={allowEnterKey:void 0},eA=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],tC=p=>Object.prototype.hasOwnProperty.call(Ta,p),nC=p=>QO.indexOf(p)!==-1,rC=p=>XO[p],tA=p=>{tC(p)||M(`Unknown parameter "${p}"`)},nA=p=>{eA.includes(p)&&M(`The parameter "${p}" is incompatible with toasts`)},rA=p=>{let g=rC(p);g&&_e(p,g)},iA=p=>{p.backdrop===!1&&p.allowOutsideClick&&M('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let g in p)tA(g),p.toast&&nA(g),rA(g)};function iC(p){let g=se(),b=St.innerParams.get(this);if(!g||zt(g,b.hideClass.popup)){M("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let E=oA(p),B=Object.assign({},b,E);Pb(this,B),St.innerParams.set(this,B),Object.defineProperties(this,{params:{value:Object.assign({},this.params,p),writable:!1,enumerable:!0}})}let oA=p=>{let g={};return Object.keys(p).forEach(b=>{nC(b)?g[b]=p[b]:M(`Invalid parameter to update: ${b}`)}),g};function oC(){let p=St.domCache.get(this),g=St.innerParams.get(this);if(!g){sC(this);return}p.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof g.didDestroy=="function"&&g.didDestroy(),s.eventEmitter.emit("didDestroy"),sA(this)}let sA=p=>{sC(p),delete p.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},sC=p=>{p.isAwaitingPromise?(im(St,p),p.isAwaitingPromise=!0):(im(Ma,p),im(St,p),delete p.isAwaitingPromise,delete p.disableButtons,delete p.enableButtons,delete p.getInput,delete p.disableInput,delete p.enableInput,delete p.hideLoading,delete p.disableLoading,delete p.showValidationMessage,delete p.resetValidationMessage,delete p.close,delete p.closePopup,delete p.closeModal,delete p.closeToast,delete p.rejectPromise,delete p.update,delete p._destroy)},im=(p,g)=>{for(let b in p)p[b].delete(g)};var aA=Object.freeze({__proto__:null,_destroy:oC,close:_o,closeModal:_o,closePopup:_o,closeToast:_o,disableButtons:Yb,disableInput:Qb,disableLoading:Xu,enableButtons:Zb,enableInput:Jb,getInput:Gb,handleAwaitingPromise:cc,hideLoading:Xu,rejectPromise:jb,resetValidationMessage:eC,showValidationMessage:Xb,update:iC});let lA=(p,g,b)=>{p.toast?cA(p,g,b):(dA(g),pA(g),fA(p,g,b))},cA=(p,g,b)=>{g.popup.onclick=()=>{p&&(uA(p)||p.timer||p.input)||b(Ia.close)}},uA=p=>!!(p.showConfirmButton||p.showDenyButton||p.showCancelButton||p.showCloseButton),ed=!1,dA=p=>{p.popup.onmousedown=()=>{p.container.onmouseup=function(g){p.container.onmouseup=()=>{},g.target===p.container&&(ed=!0)}}},pA=p=>{p.container.onmousedown=g=>{g.target===p.container&&g.preventDefault(),p.popup.onmouseup=function(b){p.popup.onmouseup=()=>{},(b.target===p.popup||b.target instanceof HTMLElement&&p.popup.contains(b.target))&&(ed=!0)}}},fA=(p,g,b)=>{g.container.onclick=E=>{if(ed){ed=!1;return}E.target===g.container&&Oe(p.allowOutsideClick)&&b(Ia.backdrop)}},hA=p=>typeof p=="object"&&p.jquery,aC=p=>p instanceof Element||hA(p),mA=p=>{let g={};return typeof p[0]=="object"&&!aC(p[0])?Object.assign(g,p[0]):["title","html","icon"].forEach((b,E)=>{let B=p[E];typeof B=="string"||aC(B)?g[b]=B:B!==void 0&&L(`Unexpected type of ${b}! Expected "string" or "Element", got ${typeof B}`)}),g};function gA(){for(var p=arguments.length,g=new Array(p),b=0;b<p;b++)g[b]=arguments[b];return new this(...g)}function vA(p){class g extends this{_main(E,B){return super._main(E,Object.assign({},p,B))}}return g}let yA=()=>s.timeout&&s.timeout.getTimerLeft(),lC=()=>{if(s.timeout)return MT(),s.timeout.stop()},cC=()=>{if(s.timeout){let p=s.timeout.start();return Jh(p),p}},bA=()=>{let p=s.timeout;return p&&(p.running?lC():cC())},CA=p=>{if(s.timeout){let g=s.timeout.increase(p);return Jh(g,!0),g}},wA=()=>!!(s.timeout&&s.timeout.isRunning()),uC=!1,om={};function _A(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";om[p]=this,uC||(document.body.addEventListener("click",xA),uC=!0)}let xA=p=>{for(let g=p.target;g&&g!==document;g=g.parentNode)for(let b in om){let E=g.getAttribute(b);if(E){om[b].fire({template:E});return}}};class SA{constructor(){this.events={}}_getHandlersByEventName(g){return typeof this.events[g]>"u"&&(this.events[g]=[]),this.events[g]}on(g,b){let E=this._getHandlersByEventName(g);E.includes(b)||E.push(b)}once(g,b){var E=this;let B=function(){E.removeListener(g,B);for(var de=arguments.length,We=new Array(de),pt=0;pt<de;pt++)We[pt]=arguments[pt];b.apply(E,We)};this.on(g,B)}emit(g){for(var b=arguments.length,E=new Array(b>1?b-1:0),B=1;B<b;B++)E[B-1]=arguments[B];this._getHandlersByEventName(g).forEach(de=>{try{de.apply(this,E)}catch(We){console.error(We)}})}removeListener(g,b){let E=this._getHandlersByEventName(g),B=E.indexOf(b);B>-1&&E.splice(B,1)}removeAllListeners(g){this.events[g]!==void 0&&(this.events[g].length=0)}reset(){this.events={}}}s.eventEmitter=new SA;var EA=Object.freeze({__proto__:null,argsToParams:mA,bindClickHandler:_A,clickCancel:hO,clickConfirm:Nb,clickDeny:fO,enableLoading:ka,fire:gA,getActions:G,getCancelButton:D,getCloseButton:ne,getConfirmButton:vt,getContainer:R,getDenyButton:F,getFocusableElements:me,getFooter:ce,getHtmlContainer:xt,getIcon:K,getIconContent:Fe,getImage:Ge,getInputLabel:J,getLoader:te,getPopup:se,getProgressSteps:Pt,getTimerLeft:yA,getTimerProgressBar:X,getTitle:Qe,getValidationMessage:Le,increaseTimer:CA,isDeprecatedParameter:rC,isLoading:kr,isTimerRunning:wA,isUpdatableParameter:nC,isValidParameter:tC,isVisible:pO,mixin:vA,off:(p,g)=>{if(!p){s.eventEmitter.reset();return}g?s.eventEmitter.removeListener(p,g):s.eventEmitter.removeAllListeners(p)},on:(p,g)=>{s.eventEmitter.on(p,g)},once:(p,g)=>{s.eventEmitter.once(p,g)},resumeTimer:cC,showLoading:ka,stopTimer:lC,toggleTimer:bA});class IA{constructor(g,b){this.callback=g,this.remaining=b,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(g){let b=this.running;return b&&this.stop(),this.remaining+=g,b&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let dC=["swal-title","swal-html","swal-footer"],MA=p=>{let g=typeof p.template=="string"?document.querySelector(p.template):p.template;if(!g)return{};let b=g.content;return RA(b),Object.assign(DA(b),kA(b),TA(b),OA(b),AA(b),PA(b),NA(b,dC))},DA=p=>{let g={};return Array.from(p.querySelectorAll("swal-param")).forEach(E=>{gs(E,["name","value"]);let B=E.getAttribute("name"),de=E.getAttribute("value");!B||!de||(typeof Ta[B]=="boolean"?g[B]=de!=="false":typeof Ta[B]=="object"?g[B]=JSON.parse(de):g[B]=de)}),g},kA=p=>{let g={};return Array.from(p.querySelectorAll("swal-function-param")).forEach(E=>{let B=E.getAttribute("name"),de=E.getAttribute("value");!B||!de||(g[B]=new Function(`return ${de}`)())}),g},TA=p=>{let g={};return Array.from(p.querySelectorAll("swal-button")).forEach(E=>{gs(E,["type","color","aria-label"]);let B=E.getAttribute("type");!B||!["confirm","cancel","deny"].includes(B)||(g[`${B}ButtonText`]=E.innerHTML,g[`show${S(B)}Button`]=!0,E.hasAttribute("color")&&(g[`${B}ButtonColor`]=E.getAttribute("color")),E.hasAttribute("aria-label")&&(g[`${B}ButtonAriaLabel`]=E.getAttribute("aria-label")))}),g},OA=p=>{let g={},b=p.querySelector("swal-image");return b&&(gs(b,["src","width","height","alt"]),b.hasAttribute("src")&&(g.imageUrl=b.getAttribute("src")||void 0),b.hasAttribute("width")&&(g.imageWidth=b.getAttribute("width")||void 0),b.hasAttribute("height")&&(g.imageHeight=b.getAttribute("height")||void 0),b.hasAttribute("alt")&&(g.imageAlt=b.getAttribute("alt")||void 0)),g},AA=p=>{let g={},b=p.querySelector("swal-icon");return b&&(gs(b,["type","color"]),b.hasAttribute("type")&&(g.icon=b.getAttribute("type")),b.hasAttribute("color")&&(g.iconColor=b.getAttribute("color")),g.iconHtml=b.innerHTML),g},PA=p=>{let g={},b=p.querySelector("swal-input");b&&(gs(b,["type","label","placeholder","value"]),g.input=b.getAttribute("type")||"text",b.hasAttribute("label")&&(g.inputLabel=b.getAttribute("label")),b.hasAttribute("placeholder")&&(g.inputPlaceholder=b.getAttribute("placeholder")),b.hasAttribute("value")&&(g.inputValue=b.getAttribute("value")));let E=Array.from(p.querySelectorAll("swal-input-option"));return E.length&&(g.inputOptions={},E.forEach(B=>{gs(B,["value"]);let de=B.getAttribute("value");if(!de)return;let We=B.innerHTML;g.inputOptions[de]=We})),g},NA=(p,g)=>{let b={};for(let E in g){let B=g[E],de=p.querySelector(B);de&&(gs(de,[]),b[B.replace(/^swal-/,"")]=de.innerHTML.trim())}return b},RA=p=>{let g=dC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(p.children).forEach(b=>{let E=b.tagName.toLowerCase();g.includes(E)||M(`Unrecognized element <${E}>`)})},gs=(p,g)=>{Array.from(p.attributes).forEach(b=>{g.indexOf(b.name)===-1&&M([`Unrecognized attribute "${b.name}" on <${p.tagName.toLowerCase()}>.`,`${g.length?`Allowed attributes are: ${g.join(", ")}`:"To set the value, use HTML within the element."}`])})},pC=10,FA=p=>{let g=R(),b=se();typeof p.willOpen=="function"&&p.willOpen(b),s.eventEmitter.emit("willOpen",b);let B=window.getComputedStyle(document.body).overflowY;BA(g,b,p),setTimeout(()=>{LA(g,b)},pC),je()&&(VA(g,p.scrollbarPadding,B),_O()),!tt()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof p.didOpen=="function"&&setTimeout(()=>p.didOpen(b)),s.eventEmitter.emit("didOpen",b),fi(g,d["no-transition"])},td=p=>{let g=se();if(p.target!==g)return;let b=R();g.removeEventListener("animationend",td),g.removeEventListener("transitionend",td),b.style.overflowY="auto"},LA=(p,g)=>{Db(g)?(p.style.overflowY="hidden",g.addEventListener("animationend",td),g.addEventListener("transitionend",td)):p.style.overflowY="auto"},VA=(p,g,b)=>{xO(),g&&b!=="hidden"&&TO(b),setTimeout(()=>{p.scrollTop=0})},BA=(p,g,b)=>{st(p,b.showClass.backdrop),b.animation?(g.style.setProperty("opacity","0","important"),dn(g,"grid"),setTimeout(()=>{st(g,b.showClass.popup),g.style.removeProperty("opacity")},pC)):dn(g,"grid"),st([document.documentElement,document.body],d.shown),b.heightAuto&&b.backdrop&&!b.toast&&st([document.documentElement,document.body],d["height-auto"])};var fC={email:(p,g)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(p)?Promise.resolve():Promise.resolve(g||"Invalid email address"),url:(p,g)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(p)?Promise.resolve():Promise.resolve(g||"Invalid URL")};function jA(p){p.inputValidator||(p.input==="email"&&(p.inputValidator=fC.email),p.input==="url"&&(p.inputValidator=fC.url))}function UA(p){(!p.target||typeof p.target=="string"&&!document.querySelector(p.target)||typeof p.target!="string"&&!p.target.appendChild)&&(M('Target parameter is not valid, defaulting to "body"'),p.target="body")}function $A(p){jA(p),p.showLoaderOnConfirm&&!p.preConfirm&&M(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),UA(p),typeof p.title=="string"&&(p.title=p.title.split(`
`).join("<br />")),RT(p)}let hi;var nd=new WeakMap;class Zt{constructor(){if(n(this,nd,void 0),typeof window>"u")return;hi=this;for(var g=arguments.length,b=new Array(g),E=0;E<g;E++)b[E]=arguments[E];let B=Object.freeze(this.constructor.argsToParams(b));this.params=B,this.isAwaitingPromise=!1,i(nd,this,this._main(hi.params))}_main(g){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(iA(Object.assign({},b,g)),s.currentInstance){let de=Ma.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:We}=s.currentInstance;s.currentInstance._destroy(),We||de({isDismissed:!0}),je()&&Lb()}s.currentInstance=hi;let E=zA(g,b);$A(E),Object.freeze(E),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let B=qA(hi);return Pb(hi,E),St.innerParams.set(hi,E),HA(hi,B,E)}then(g){return r(nd,this).then(g)}finally(g){return r(nd,this).finally(g)}}let HA=(p,g,b)=>new Promise((E,B)=>{let de=We=>{p.close({isDismissed:!0,dismiss:We})};Ma.swalPromiseResolve.set(p,E),Ma.swalPromiseReject.set(p,B),g.confirmButton.onclick=()=>{WO(p)},g.denyButton.onclick=()=>{KO(p)},g.cancelButton.onclick=()=>{ZO(p,de)},g.closeButton.onclick=()=>{de(Ia.close)},lA(b,g,de),mO(s,b,de),VO(p,b),FA(b),GA(s,b,de),WA(g,b),setTimeout(()=>{g.container.scrollTop=0})}),zA=(p,g)=>{let b=MA(p),E=Object.assign({},Ta,g,b,p);return E.showClass=Object.assign({},Ta.showClass,E.showClass),E.hideClass=Object.assign({},Ta.hideClass,E.hideClass),E.animation===!1&&(E.showClass={backdrop:"swal2-noanimation"},E.hideClass={}),E},qA=p=>{let g={popup:se(),container:R(),actions:G(),confirmButton:vt(),denyButton:F(),cancelButton:D(),loader:te(),closeButton:ne(),validationMessage:Le(),progressSteps:Pt()};return St.domCache.set(p,g),g},GA=(p,g,b)=>{let E=X();An(E),g.timer&&(p.timeout=new IA(()=>{b("timer"),delete p.timeout},g.timer),g.timerProgressBar&&(dn(E),gr(E,g,"timerProgressBar"),setTimeout(()=>{p.timeout&&p.timeout.running&&Jh(g.timer)})))},WA=(p,g)=>{if(!g.toast){if(!Oe(g.allowEnterKey)){_e("allowEnterKey"),YA();return}KA(p)||ZA(p,g)||tm(-1,1)}},KA=p=>{let g=p.popup.querySelectorAll("[autofocus]");for(let b of g)if(b instanceof HTMLElement&&Xn(b))return b.focus(),!0;return!1},ZA=(p,g)=>g.focusDeny&&Xn(p.denyButton)?(p.denyButton.focus(),!0):g.focusCancel&&Xn(p.cancelButton)?(p.cancelButton.focus(),!0):g.focusConfirm&&Xn(p.confirmButton)?(p.confirmButton.focus(),!0):!1,YA=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let p=new Date,g=localStorage.getItem("swal-initiation");g?(p.getTime()-Date.parse(g))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let b=document.createElement("audio");b.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",b.loop=!0,document.body.appendChild(b),setTimeout(()=>{b.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${p}`)}Zt.prototype.disableButtons=Yb,Zt.prototype.enableButtons=Zb,Zt.prototype.getInput=Gb,Zt.prototype.disableInput=Qb,Zt.prototype.enableInput=Jb,Zt.prototype.hideLoading=Xu,Zt.prototype.disableLoading=Xu,Zt.prototype.showValidationMessage=Xb,Zt.prototype.resetValidationMessage=eC,Zt.prototype.close=_o,Zt.prototype.closePopup=_o,Zt.prototype.closeModal=_o,Zt.prototype.closeToast=_o,Zt.prototype.rejectPromise=jb,Zt.prototype.update=iC,Zt.prototype._destroy=oC,Object.assign(Zt,EA),Object.keys(aA).forEach(p=>{Zt[p]=function(){return hi&&hi[p]?hi[p](...arguments):null}}),Zt.DismissReason=Ia,Zt.version="11.14.4";let rd=Zt;return rd.default=rd,rd});typeof Di<"u"&&Di.Sweetalert2&&(Di.swal=Di.sweetAlert=Di.Swal=Di.SweetAlert=Di.Sweetalert2);typeof document<"u"&&function(t,e){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=e);else try{r.innerHTML=e}catch{r.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function yC(t,e){return Object.is(t,e)}var an=null,id=!1,od=1,ji=Symbol("SIGNAL");function Xe(t){let e=an;return an=t,e}function bC(){return an}var dc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function um(t){if(id)throw new Error("");if(an===null)return;an.consumerOnSignalRead(t);let e=an.nextProducerIndex++;if(cd(an),e<an.producerNode.length&&an.producerNode[e]!==t&&uc(an)){let r=an.producerNode[e];ld(r,an.producerIndexOfThis[e])}an.producerNode[e]!==t&&(an.producerNode[e]=t,an.producerIndexOfThis[e]=uc(an)?xC(t,an,e):0),an.producerLastReadVersion[e]=t.version}function oP(){od++}function CC(t){if(!(uc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===od)){if(!t.producerMustRecompute(t)&&!pm(t)){t.dirty=!1,t.lastCleanEpoch=od;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=od}}function wC(t){if(t.liveConsumerNode===void 0)return;let e=id;id=!0;try{for(let r of t.liveConsumerNode)r.dirty||sP(r)}finally{id=e}}function _C(){return an?.consumerAllowSignalWrites!==!1}function sP(t){t.dirty=!0,wC(t),t.consumerMarkedDirty?.(t)}function ad(t){return t&&(t.nextProducerIndex=0),Xe(t)}function dm(t,e){if(Xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(uc(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)ld(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pm(t){cd(t);for(let e=0;e<t.producerNode.length;e++){let r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(CC(r),n!==r.version))return!0}return!1}function fm(t){if(cd(t),uc(t))for(let e=0;e<t.producerNode.length;e++)ld(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xC(t,e,r){if(SC(t),t.liveConsumerNode.length===0&&EC(t))for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=xC(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(e)-1}function ld(t,e){if(SC(t),t.liveConsumerNode.length===1&&EC(t))for(let n=0;n<t.producerNode.length;n++)ld(t.producerNode[n],t.producerIndexOfThis[n]);let r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];cd(i),i.producerIndexOfThis[n]=e}}function uc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function cd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function SC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function EC(t){return t.producerNode!==void 0}function IC(t){let e=Object.create(aP);e.computation=t;let r=()=>{if(CC(e),um(e),e.value===sd)throw e.error;return e.value};return r[ji]=e,r}var lm=Symbol("UNSET"),cm=Symbol("COMPUTING"),sd=Symbol("ERRORED"),aP=Ee(j({},dc),{value:lm,dirty:!0,error:null,equal:yC,producerMustRecompute(t){return t.value===lm||t.value===cm},producerRecomputeValue(t){if(t.value===cm)throw new Error("Detected cycle in computations.");let e=t.value;t.value=cm;let r=ad(t),n;try{n=t.computation()}catch(i){n=sd,t.error=i}finally{dm(t,r)}if(e!==lm&&e!==sd&&n!==sd&&t.equal(e,n)){t.value=e;return}t.value=n,t.version++}});function lP(){throw new Error}var MC=lP;function DC(){MC()}function kC(t){MC=t}var cP=null;function TC(t){let e=Object.create(AC);e.value=t;let r=()=>(um(e),e.value);return r[ji]=e,r}function hm(t,e){_C()||DC(),t.equal(t.value,e)||(t.value=e,uP(t))}function OC(t,e){_C()||DC(),hm(t,e(t.value))}var AC=Ee(j({},dc),{equal:yC,value:void 0});function uP(t){t.version++,oP(),wC(t),cP?.()}function He(t){return typeof t=="function"}function Pa(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var ud=Pa(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function pc(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Xt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(He(n))try{n()}catch(o){e=o instanceof ud?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{PC(o)}catch(s){e=e??[],s instanceof ud?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ud(e)}}add(e){var r;if(e&&e!==this)if(this.closed)PC(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&pc(r,e)}remove(e){let{_finalizers:r}=this;r&&pc(r,e),e instanceof t&&e._removeParent(this)}};Xt.EMPTY=(()=>{let t=new Xt;return t.closed=!0,t})();var mm=Xt.EMPTY;function dd(t){return t instanceof Xt||t&&"closed"in t&&He(t.remove)&&He(t.add)&&He(t.unsubscribe)}function PC(t){He(t)?t():t.unsubscribe()}var Jr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Na={setTimeout(t,e,...r){let{delegate:n}=Na;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=Na;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pd(t){Na.setTimeout(()=>{let{onUnhandledError:e}=Jr;if(e)e(t);else throw t})}function fc(){}var NC=gm("C",void 0,void 0);function RC(t){return gm("E",void 0,t)}function FC(t){return gm("N",t,void 0)}function gm(t,e,r){return{kind:t,value:e,error:r}}var vs=null;function Ra(t){if(Jr.useDeprecatedSynchronousErrorHandling){let e=!vs;if(e&&(vs={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=vs;if(vs=null,r)throw n}}else t()}function LC(t){Jr.useDeprecatedSynchronousErrorHandling&&vs&&(vs.errorThrown=!0,vs.error=t)}var ys=class extends Xt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dd(e)&&e.add(this)):this.destination=fP}static create(e,r,n){return new Ui(e,r,n)}next(e){this.isStopped?ym(FC(e),this):this._next(e)}error(e){this.isStopped?ym(RC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ym(NC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dP=Function.prototype.bind;function vm(t,e){return dP.call(t,e)}var bm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){fd(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){fd(n)}else fd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){fd(r)}}},Ui=class extends ys{constructor(e,r,n){super();let i;if(He(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&Jr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vm(e.next,o),error:e.error&&vm(e.error,o),complete:e.complete&&vm(e.complete,o)}):i=e}this.destination=new bm(i)}};function fd(t){Jr.useDeprecatedSynchronousErrorHandling?LC(t):pd(t)}function pP(t){throw t}function ym(t,e){let{onStoppedNotification:r}=Jr;r&&Na.setTimeout(()=>r(t,e))}var fP={closed:!0,next:fc,error:pP,complete:fc};var Fa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vr(t){return t}function Cm(...t){return wm(t)}function wm(t){return t.length===0?vr:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var it=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=mP(r)?r:new Ui(r,n,i);return Ra(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=VC(n),new n((i,o)=>{let s=new Ui({next:a=>{try{r(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[Fa](){return this}pipe(...r){return wm(r)(this)}toPromise(r){return r=VC(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function VC(t){var e;return(e=t??Jr.Promise)!==null&&e!==void 0?e:Promise}function hP(t){return t&&He(t.next)&&He(t.error)&&He(t.complete)}function mP(t){return t&&t instanceof ys||hP(t)&&dd(t)}function _m(t){return He(t?.lift)}function nt(t){return e=>{if(_m(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(t,e,r,n,i){return new xm(t,e,r,n,i)}var xm=class extends ys{constructor(e,r,n,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function La(){return nt((t,e)=>{let r=null;t._refCount++;let n=rt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){r=null;return}let i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var Va=class extends it{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,_m(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xt;let r=this.getSubject();e.add(this.source.subscribe(rt(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xt.EMPTY)}return e}refCount(){return La()(this)}};var BC=Pa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class t extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new hd(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new BC}next(r){Ra(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Ra(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Ra(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?mm:(this.currentObservers=null,o.push(r),new Xt(()=>{this.currentObservers=null,pc(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new it;return r.source=this,r}}return t.create=(e,r)=>new hd(e,r),t})(),hd=class extends Ze{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:mm}};var Lt=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Sm={now(){return(Sm.delegate||Date).now()},delegate:void 0};var md=class extends Ze{constructor(e=1/0,r=1/0,n=Sm){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;r||(n.push(e),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=n?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){let{_bufferSize:e,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=r.now(),a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}};var yr=new it(t=>t.complete());function jC(t){return t&&He(t.schedule)}function UC(t){return t[t.length-1]}function gd(t){return He(UC(t))?t.pop():void 0}function xo(t){return jC(UC(t))?t.pop():void 0}function HC(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function $C(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bs(t){return this instanceof bs?(this.v=t,this):new bs(t)}function zC(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(C){return function(_){return Promise.resolve(_).then(C,d)}}function a(C,_){n[C]&&(i[C]=function(S){return new Promise(function(M,L){o.push([C,S,M,L])>1||l(C,S)})},_&&(i[C]=_(i[C])))}function l(C,_){try{c(n[C](_))}catch(S){v(o[0][3],S)}}function c(C){C.value instanceof bs?Promise.resolve(C.value.v).then(u,d):v(o[0][2],C)}function u(C){l("next",C)}function d(C){l("throw",C)}function v(C,_){C(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function qC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof $C=="function"?$C(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var vd=t=>t&&typeof t.length=="number"&&typeof t!="function";function yd(t){return He(t?.then)}function bd(t){return He(t[Fa])}function Cd(t){return Symbol.asyncIterator&&He(t?.[Symbol.asyncIterator])}function wd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _d=gP();function xd(t){return He(t?.[_d])}function Sd(t){return zC(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:n,done:i}=yield bs(r.read());if(i)return yield bs(void 0);yield yield bs(n)}}finally{r.releaseLock()}})}function Ed(t){return He(t?.getReader)}function Vt(t){if(t instanceof it)return t;if(t!=null){if(bd(t))return vP(t);if(vd(t))return yP(t);if(yd(t))return bP(t);if(Cd(t))return GC(t);if(xd(t))return CP(t);if(Ed(t))return wP(t)}throw wd(t)}function vP(t){return new it(e=>{let r=t[Fa]();if(He(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yP(t){return new it(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function bP(t){return new it(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,pd)})}function CP(t){return new it(e=>{for(let r of t)if(e.next(r),e.closed)return;e.complete()})}function GC(t){return new it(e=>{_P(t,e).catch(r=>e.error(r))})}function wP(t){return GC(Sd(t))}function _P(t,e){var r,n,i,o;return HC(this,void 0,void 0,function*(){try{for(r=qC(t);n=yield r.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}e.complete()})}function er(t,e,r,n=0,i=!1){let o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Id(t,e=0){return nt((r,n)=>{r.subscribe(rt(n,i=>er(n,t,()=>n.next(i),e),()=>er(n,t,()=>n.complete(),e),i=>er(n,t,()=>n.error(i),e)))})}function Md(t,e=0){return nt((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function WC(t,e){return Vt(t).pipe(Md(e),Id(e))}function KC(t,e){return Vt(t).pipe(Md(e),Id(e))}function ZC(t,e){return new it(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function YC(t,e){return new it(r=>{let n;return er(r,e,()=>{n=t[_d](),er(r,e,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){r.error(s);return}o?r.complete():r.next(i)},0,!0)}),()=>He(n?.return)&&n.return()})}function Dd(t,e){if(!t)throw new Error("Iterable cannot be null");return new it(r=>{er(r,e,()=>{let n=t[Symbol.asyncIterator]();er(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function JC(t,e){return Dd(Sd(t),e)}function QC(t,e){if(t!=null){if(bd(t))return WC(t,e);if(vd(t))return ZC(t,e);if(yd(t))return KC(t,e);if(Cd(t))return Dd(t,e);if(xd(t))return YC(t,e);if(Ed(t))return JC(t,e)}throw wd(t)}function ft(t,e){return e?QC(t,e):Vt(t)}function be(...t){let e=xo(t);return ft(t,e)}function $i(t,e){let r=He(t)?t:()=>t,n=i=>i.error(r());return new it(e?i=>e.schedule(n,0,i):n)}function br(t){return!!t&&(t instanceof it||He(t.lift)&&He(t.subscribe))}var Hi=Pa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Se(t,e){return nt((r,n)=>{let i=0;r.subscribe(rt(n,o=>{n.next(t.call(e,o,i++))}))})}var{isArray:xP}=Array;function SP(t,e){return xP(e)?t(...e):t(e)}function kd(t){return Se(e=>SP(t,e))}var{isArray:EP}=Array,{getPrototypeOf:IP,prototype:MP,keys:DP}=Object;function Td(t){if(t.length===1){let e=t[0];if(EP(e))return{args:e,keys:null};if(kP(e)){let r=DP(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}function kP(t){return t&&typeof t=="object"&&IP(t)===MP}function Od(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function Ba(...t){let e=xo(t),r=gd(t),{args:n,keys:i}=Td(t);if(n.length===0)return ft([],e);let o=new it(TP(n,e,i?s=>Od(i,s):vr));return r?o.pipe(kd(r)):o}function TP(t,e,r=vr){return n=>{XC(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)XC(e,()=>{let c=ft(t[l],e),u=!1;c.subscribe(rt(n,d=>{o[l]=d,u||(u=!0,a--),a||n.next(r(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function XC(t,e,r){t?er(r,t,e):e()}function ew(t,e,r,n,i,o,s,a){let l=[],c=0,u=0,d=!1,v=()=>{d&&!l.length&&!c&&e.complete()},C=S=>c<n?_(S):l.push(S),_=S=>{o&&e.next(S),c++;let M=!1;Vt(r(S,u++)).subscribe(rt(e,L=>{i?.(L),o?C(L):e.next(L)},()=>{M=!0},void 0,()=>{if(M)try{for(c--;l.length&&c<n;){let L=l.shift();s?er(e,s,()=>_(L)):_(L)}v()}catch(L){e.error(L)}}))};return t.subscribe(rt(e,C,()=>{d=!0,v()})),()=>{a?.()}}function Yt(t,e,r=1/0){return He(e)?Yt((n,i)=>Se((o,s)=>e(n,o,i,s))(Vt(t(n,i))),r):(typeof e=="number"&&(r=e),nt((n,i)=>ew(n,i,t,r)))}function So(t=1/0){return Yt(vr,t)}function tw(){return So(1)}function zi(...t){return tw()(ft(t,xo(t)))}function Cs(t){return new it(e=>{Vt(t()).subscribe(e)})}function qi(...t){let e=gd(t),{args:r,keys:n}=Td(t),i=new it(o=>{let{length:s}=r;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Vt(r[u]).subscribe(rt(o,v=>{d||(d=!0,c--),a[u]=v},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(n?Od(n,a):a),o.complete())}))}});return e?i.pipe(kd(e)):i}function tr(t,e){return nt((r,n)=>{let i=0;r.subscribe(rt(n,o=>t.call(e,o,i++)&&n.next(o)))})}function _n(t){return nt((e,r)=>{let n=null,i=!1,o;n=e.subscribe(rt(r,void 0,void 0,s=>{o=Vt(t(s,_n(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function nw(t,e,r,n,i){return(o,s)=>{let a=r,l=e,c=0;o.subscribe(rt(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),n&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Qr(t,e){return He(e)?Yt(t,e,1):Yt(t,1)}function Eo(t){return nt((e,r)=>{let n=!1;e.subscribe(rt(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function nr(t){return t<=0?()=>yr:nt((e,r)=>{let n=0;e.subscribe(rt(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Em(t){return Se(()=>t)}function Ad(t=OP){return nt((e,r)=>{let n=!1;e.subscribe(rt(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function OP(){return new Hi}function ws(t){return nt((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function mi(t,e){let r=arguments.length>=2;return n=>n.pipe(t?tr((i,o)=>t(i,o,n)):vr,nr(1),r?Eo(e):Ad(()=>new Hi))}function ja(t){return t<=0?()=>yr:nt((e,r)=>{let n=[];e.subscribe(rt(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function Im(t,e){let r=arguments.length>=2;return n=>n.pipe(t?tr((i,o)=>t(i,o,n)):vr,ja(1),r?Eo(e):Ad(()=>new Hi))}function Mm(t,e){return nt(nw(t,e,arguments.length>=2,!0))}function rw(t={}){let{connector:e=()=>new Ze,resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,v=()=>{a?.unsubscribe(),a=void 0},C=()=>{v(),s=l=void 0,u=d=!1},_=()=>{let S=s;C(),S?.unsubscribe()};return nt((S,M)=>{c++,!d&&!u&&v();let L=l=l??e();M.add(()=>{c--,c===0&&!d&&!u&&(a=Dm(_,i))}),L.subscribe(M),!s&&c>0&&(s=new Ui({next:re=>L.next(re),error:re=>{d=!0,v(),a=Dm(C,r,re),L.error(re)},complete:()=>{u=!0,v(),a=Dm(C,n),L.complete()}}),Vt(S).subscribe(s))})(o)}}function Dm(t,e,...r){if(e===!0){t();return}if(e===!1)return;let n=new Ui({next:()=>{n.unsubscribe(),t()}});return Vt(e(...r)).subscribe(n)}function Pd(t,e,r){let n,i=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:r}=t:n=t??1/0,rw({connector:()=>new md(n,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function km(...t){let e=xo(t);return nt((r,n)=>{(e?zi(t,r,e):zi(t,r)).subscribe(n)})}function ct(t,e){return nt((r,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();r.subscribe(rt(n,l=>{i?.unsubscribe();let c=0,u=o++;Vt(t(l,u)).subscribe(i=rt(n,d=>n.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function en(t){return nt((e,r)=>{Vt(t).subscribe(rt(r,()=>r.complete(),fc)),!r.closed&&e.subscribe(r)})}function yt(t,e,r){let n=He(t)||e||r?{next:t,error:e,complete:r}:t;return n?nt((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(rt(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):vr}var Ww="https://g.co/ng/security#xss",Ce=class extends Error{constructor(e,r){super(bp(e,r)),this.code=e}};function bp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Sc(t){return{toString:t}.toString()}var Nd="__parameters__";function AP(t){return function(...r){if(t){let n=t(...r);for(let i in n)this[i]=n[i]}}}function Kw(t,e,r){return Sc(()=>{let n=AP(e);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Nd)?l[Nd]:Object.defineProperty(l,Nd,{value:[]})[Nd];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Gi=globalThis;function wt(t){for(let e in t)if(t[e]===wt)return e;throw Error("Could not find renamed property on target object.")}function PP(t,e){for(let r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function qn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(qn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function qm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var NP=wt({__forward_ref__:wt});function xn(t){return t.__forward_ref__=xn,t.toString=function(){return qn(this())},t}function zn(t){return Zw(t)?t():t}function Zw(t){return typeof t=="function"&&t.hasOwnProperty(NP)&&t.__forward_ref__===xn}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cp(t){return iw(t,Jw)||iw(t,Qw)}function Yw(t){return Cp(t)!==null}function iw(t,e){return t.hasOwnProperty(e)?t[e]:null}function RP(t){let e=t&&(t[Jw]||t[Qw]);return e||null}function ow(t){return t&&(t.hasOwnProperty(sw)||t.hasOwnProperty(FP))?t[sw]:null}var Jw=wt({\u0275prov:wt}),sw=wt({\u0275inj:wt}),Qw=wt({ngInjectableDef:wt}),FP=wt({ngInjectorDef:wt}),le=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=Z({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Xw(t){return t&&!!t.\u0275providers}var LP=wt({\u0275cmp:wt}),VP=wt({\u0275dir:wt}),BP=wt({\u0275pipe:wt}),jP=wt({\u0275mod:wt}),Wd=wt({\u0275fac:wt}),mc=wt({__NG_ELEMENT_ID__:wt}),aw=wt({__NG_ENV_ID__:wt});function rr(t){return typeof t=="string"?t:t==null?"":String(t)}function UP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():rr(t)}function $P(t,e){let r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Ce(-200,t)}function r0(t,e){throw new Ce(-201,!1)}var Ye=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ye||{}),Gm;function e_(){return Gm}function ir(t){let e=Gm;return Gm=t,e}function t_(t,e,r){let n=Cp(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&Ye.Optional)return null;if(e!==void 0)return e;r0(t,"Injector")}var HP={},gc=HP,Wm="__NG_DI_FLAG__",Kd="ngTempTokenPath",zP="ngTokenPath",qP=/\n/gm,GP="\u0275",lw="__source",qa;function WP(){return qa}function Io(t){let e=qa;return qa=t,e}function KP(t,e=Ye.Default){if(qa===void 0)throw new Ce(-203,!1);return qa===null?t_(t,void 0,e):qa.get(t,e&Ye.Optional?null:void 0,e)}function ie(t,e=Ye.Default){return(e_()||KP)(zn(t),e)}function H(t,e=Ye.Default){return ie(t,wp(e))}function wp(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Km(t){let e=[];for(let r=0;r<t.length;r++){let n=zn(t[r]);if(Array.isArray(n)){if(n.length===0)throw new Ce(900,!1);let i,o=Ye.Default;for(let s=0;s<n.length;s++){let a=n[s],l=ZP(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(ie(i,o))}else e.push(ie(n))}return e}function n_(t,e){return t[Wm]=e,t.prototype[Wm]=e,t}function ZP(t){return t[Wm]}function YP(t,e,r,n){let i=t[Kd];throw e[lw]&&i.unshift(e[lw]),t.message=JP(`
`+t.message,i,r,n),t[zP]=i,t[Kd]=null,t}function JP(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==GP?t.slice(2):t;let i=qn(e);if(Array.isArray(e))i=e.map(qn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):qn(a)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(qP,`
  `)}`}var Ec=n_(Kw("Optional"),8);var _p=n_(Kw("SkipSelf"),4);function Is(t,e){let r=t.hasOwnProperty(Wd);return r?t[Wd]:null}function QP(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],o=e[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}function XP(t){return t.flat(Number.POSITIVE_INFINITY)}function i0(t,e){t.forEach(r=>Array.isArray(r)?i0(r,e):e(r))}function r_(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function Zd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function eN(t,e){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function tN(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(i===1)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=r,t[e+1]=n}}function o0(t,e,r){let n=Ic(t,e);return n>=0?t[n|1]=r:(n=~n,tN(t,n,e,r)),n}function Tm(t,e){let r=Ic(t,e);if(r>=0)return t[r|1]}function Ic(t,e){return nN(t,e,1)}function nN(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){let o=n+(i-n>>1),s=t[o<<r];if(e===s)return o<<r;s>e?i=o:n=o+1}return~(i<<r)}var Wa={},or=[],Ka=new le(""),i_=new le("",-1),o_=new le(""),Yd=class{get(e,r=gc){if(r===gc){let n=new Error(`NullInjectorError: No provider for ${qn(e)}!`);throw n.name="NullInjectorError",n}return r}},s_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(s_||{}),yi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yi||{}),ko=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ko||{});function rN(t,e,r){let n=t.length;for(;;){let i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===n||t.charCodeAt(i+o)<=32)return i}r=i+1}}function Zm(t,e,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let o=r[n++],s=r[n++],a=r[n++];t.setAttribute(e,s,a,o)}else{let o=i,s=r[++n];iN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function a_(t){return t===3||t===4||t===6}function iN(t){return t.charCodeAt(0)===64}function vc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){let i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?cw(t,r,i,null,e[++n]):cw(t,r,i,null,null))}}return t}function cw(t,e,r,n,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(t[o+1]=i);return}else if(n===t[o+1]){t[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,r),n!==null&&t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}var l_="ng-template";function oN(t,e,r,n){let i=0;if(n){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rN(e[i+1].toLowerCase(),r,0)!==-1)return!0}else if(s0(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===r)return!0}return!1}function s0(t){return t.type===4&&t.value!==l_}function sN(t,e,r){let n=t.type===4&&!r?l_:t.value;return e===n}function aN(t,e,r){let n=4,i=t.attrs,o=i!==null?uN(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Xr(n)&&!Xr(l))return!1;if(s&&Xr(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!sN(t,l,r)||l===""&&e.length===1){if(Xr(n))return!1;s=!0}}else if(n&8){if(i===null||!oN(t,i,l,r)){if(Xr(n))return!1;s=!0}}else{let c=e[++a],u=lN(l,i,s0(t),r);if(u===-1){if(Xr(n))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),n&2&&c!==d){if(Xr(n))return!1;s=!0}}}}return Xr(n)||s}function Xr(t){return(t&1)===0}function lN(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return dN(e,t)}function c_(t,e,r=!1){for(let n=0;n<e.length;n++)if(aN(t,e[n],r))return!0;return!1}function cN(t){let e=t.attrs;if(e!=null){let r=e.indexOf(5);if(!(r&1))return e[r+1]}return null}function uN(t){for(let e=0;e<t.length;e++){let r=t[e];if(a_(r))return e}return t.length}function dN(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function pN(t,e){e:for(let r=0;r<e.length;r++){let n=e[r];if(t.length===n.length){for(let i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function uw(t,e){return t?":not("+e.trim()+")":e}function fN(t){let e=t[0],r=1,n=2,i="",o=!1;for(;r<t.length;){let s=t[r];if(typeof s=="string")if(n&2){let a=t[++r];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!Xr(s)&&(e+=uw(o,i),i=""),n=s,o=o||!Xr(n);r++}return i!==""&&(e+=uw(o,i)),e}function hN(t){return t.map(fN).join(",")}function mN(t){let e=[],r=[],n=1,i=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++n]):i===8&&r.push(o);else{if(!Xr(i))break;i=o}n++}return{attrs:e,classes:r}}function ae(t){return Sc(()=>{let e=h_(t),r=Ee(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===s_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yi.Emulated,styles:t.styles||or,_:null,schemas:t.schemas||null,tView:null,id:""});m_(r);let n=t.dependencies;return r.directiveDefs=pw(n,!1),r.pipeDefs=pw(n,!0),r.id=yN(r),r})}function gN(t){return Wi(t)||u_(t)}function vN(t){return t!==null}function Ln(t){return Sc(()=>({type:t.type,bootstrap:t.bootstrap||or,declarations:t.declarations||or,imports:t.imports||or,exports:t.exports||or,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dw(t,e){if(t==null)return Wa;let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],o,s,a=ko.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(r[o]=a!==ko.None?[n,a]:n,e[o]=s):r[o]=n}return r}function et(t){return Sc(()=>{let e=h_(t);return m_(e),e})}function Ar(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wi(t){return t[LP]||null}function u_(t){return t[VP]||null}function d_(t){return t[BP]||null}function p_(t){let e=Wi(t)||u_(t)||d_(t);return e!==null?e.standalone:!1}function f_(t,e){let r=t[jP]||null;if(!r&&e===!0)throw new Error(`Type ${qn(t)} does not have '\u0275mod' property.`);return r}function h_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Wa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||or,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dw(t.inputs,e),outputs:dw(t.outputs),debugInfo:null}}function m_(t){t.features?.forEach(e=>e(t))}function pw(t,e){if(!t)return null;let r=e?d_:gN;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(vN)}function yN(t){let e=0,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ls(t){return{\u0275providers:t}}function a0(...t){return{\u0275providers:g_(!0,t),\u0275fromNgModule:!0}}function g_(t,...e){let r=[],n=new Set,i,o=s=>{r.push(s)};return i0(e,s=>{let a=s;Ym(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&v_(i,o),r}function v_(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];l0(i,o=>{e(o,n)})}}function Ym(t,e,r,n){if(t=zn(t),!t)return!1;let i=null,o=ow(t),s=!o&&Wi(t);if(!o&&!s){let l=t.ngModule;if(o=ow(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Ym(c,e,r,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let c;try{i0(o.imports,u=>{Ym(u,e,r,n)&&(c||=[],c.push(u))})}finally{}c!==void 0&&v_(c,e)}if(!a){let c=Is(i)||(()=>new i);e({provide:i,useFactory:c,deps:or},i),e({provide:o_,useValue:i,multi:!0},i),e({provide:Ka,useValue:()=>ie(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=t;l0(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function l0(t,e){for(let r of t)Xw(r)&&(r=r.\u0275providers),Array.isArray(r)?l0(r,e):e(r)}var bN=wt({provide:String,useValue:wt});function y_(t){return t!==null&&typeof t=="object"&&bN in t}function CN(t){return!!(t&&t.useExisting)}function wN(t){return!!(t&&t.useFactory)}function Za(t){return typeof t=="function"}function _N(t){return!!t.useClass}var xp=new le(""),Ud={},xN={},Om;function Sp(){return Om===void 0&&(Om=new Yd),Om}var Gn=class{},yc=class extends Gn{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qm(e,s=>this.processProvider(s)),this.records.set(i_,Ua(void 0,this)),i.has("environment")&&this.records.set(Gn,Ua(void 0,this));let o=this.records.get(xp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(o_,or,Ye.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Xe(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=Io(this),n=ir(void 0),i;try{return e()}finally{Io(r),ir(n)}}get(e,r=gc,n=Ye.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(aw))return e[aw](this);n=wp(n);let i,o=Io(this),s=ir(void 0);try{if(!(n&Ye.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=DN(e)&&Cp(e);c&&this.injectableDefInScope(c)?l=Ua(Jm(e),Ud):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&Ye.Self?Sp():this.parent;return r=n&Ye.Optional&&r===gc?null:r,a.get(e,r)}catch(a){if(a.name==="NullInjectorError"){if((a[Kd]=a[Kd]||[]).unshift(qn(e)),o)throw a;return YP(a,e,"R3InjectorError",this.source)}else throw a}finally{ir(s),Io(o)}}resolveInjectorInitializers(){let e=Xe(null),r=Io(this),n=ir(void 0),i;try{let o=this.get(Ka,or,Ye.Self);for(let s of o)s()}finally{Io(r),ir(n),Xe(e)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push(qn(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(e){e=zn(e);let r=Za(e)?e:zn(e&&e.provide),n=EN(e);if(!Za(e)&&e.multi===!0){let i=this.records.get(r);i||(i=Ua(void 0,Ud,!0),i.factory=()=>Km(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){let n=Xe(null);try{return r.value===Ud&&(r.value=xN,r.value=r.factory()),typeof r.value=="object"&&r.value&&MN(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Xe(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let r=zn(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function Jm(t){let e=Cp(t),r=e!==null?e.factory:Is(t);if(r!==null)return r;if(t instanceof le)throw new Ce(204,!1);if(t instanceof Function)return SN(t);throw new Ce(204,!1)}function SN(t){if(t.length>0)throw new Ce(204,!1);let r=RP(t);return r!==null?()=>r.factory(t):()=>new t}function EN(t){if(y_(t))return Ua(void 0,t.useValue);{let e=b_(t);return Ua(e,Ud)}}function b_(t,e,r){let n;if(Za(t)){let i=zn(t);return Is(i)||Jm(i)}else if(y_(t))n=()=>zn(t.useValue);else if(wN(t))n=()=>t.useFactory(...Km(t.deps||[]));else if(CN(t))n=()=>ie(zn(t.useExisting));else{let i=zn(t&&(t.useClass||t.provide));if(IN(t))n=()=>new i(...Km(t.deps));else return Is(i)||Jm(i)}return n}function Ua(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function IN(t){return!!t.deps}function MN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function DN(t){return typeof t=="function"||typeof t=="object"&&t instanceof le}function Qm(t,e){for(let r of t)Array.isArray(r)?Qm(r,e):r&&Xw(r)?Qm(r.\u0275providers,e):e(r)}function Pr(t,e){t instanceof yc&&t.assertNotDestroyed();let r,n=Io(t),i=ir(void 0);try{return e()}finally{Io(n),ir(i)}}function C_(){return e_()!==void 0||WP()!=null}function kN(t){if(!C_())throw new Ce(-203,!1)}function TN(t){return typeof t=="function"}var Ji=0,Ue=1,Ve=2,Rn=3,ti=4,sr=5,Ya=6,Jd=7,Pn=8,Ja=9,bi=10,Bt=11,bc=12,fw=13,ol=14,Cr=15,Ms=16,$a=17,Ki=18,Ep=19,w_=20,Mo=21,Am=22,Tr=23,ln=25,__=1;var Ds=7,Qd=8,Qa=9,Nn=10,Xd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Xd||{});function Do(t){return Array.isArray(t)&&typeof t[__]=="object"}function Qi(t){return Array.isArray(t)&&t[__]===!0}function c0(t){return(t.flags&4)!==0}function Ip(t){return t.componentOffset>-1}function Mp(t){return(t.flags&1)===1}function To(t){return!!t.template}function Xm(t){return(t[Ve]&512)!==0}var eg=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function x_(t,e,r,n){e!==null?e.applyValueToInputSignal(e,n):t[r]=n}function Sn(){return S_}function S_(t){return t.type.prototype.ngOnChanges&&(t.setInput=AN),ON}Sn.ngInherit=!0;function ON(){let t=I_(this),e=t?.current;if(e){let r=t.previous;if(r===Wa)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function AN(t,e,r,n,i){let o=this.declaredInputs[n],s=I_(t)||PN(t,{previous:Wa,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new eg(c&&c.currentValue,r,l===Wa),x_(t,e,i,r)}var E_="__ngSimpleChanges__";function I_(t){return t[E_]||null}function PN(t,e){return t[E_]=e}var hw=null;var gi=function(t,e,r){hw?.(t,e,r)},NN="svg",RN="math";function Ci(t){for(;Array.isArray(t);)t=t[Ji];return t}function M_(t,e){return Ci(e[t])}function Nr(t,e){return Ci(e[t.index])}function u0(t,e){return t.data[e]}function Dp(t,e){return t[e]}function No(t,e){let r=e[t];return Do(r)?r:r[Ji]}function FN(t){return(t[Ve]&4)===4}function d0(t){return(t[Ve]&128)===128}function LN(t){return Qi(t[Rn])}function Oo(t,e){return e==null?null:t[e]}function D_(t){t[$a]=0}function k_(t){t[Ve]&1024||(t[Ve]|=1024,d0(t)&&Tp(t))}function VN(t,e){for(;t>0;)e=e[ol],t--;return e}function kp(t){return!!(t[Ve]&9216||t[Tr]?.dirty)}function tg(t){t[bi].changeDetectionScheduler?.notify(8),t[Ve]&64&&(t[Ve]|=1024),kp(t)&&Tp(t)}function Tp(t){t[bi].changeDetectionScheduler?.notify(0);let e=ks(t);for(;e!==null&&!(e[Ve]&8192||(e[Ve]|=8192,!d0(e)));)e=ks(e)}function T_(t,e){if((t[Ve]&256)===256)throw new Ce(911,!1);t[Mo]===null&&(t[Mo]=[]),t[Mo].push(e)}function BN(t,e){if(t[Mo]===null)return;let r=t[Mo].indexOf(e);r!==-1&&t[Mo].splice(r,1)}function ks(t){let e=t[Rn];return Qi(e)?e[Rn]:e}var Ke={lFrame:j_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var O_=!1;function jN(){return Ke.lFrame.elementDepthCount}function UN(){Ke.lFrame.elementDepthCount++}function $N(){Ke.lFrame.elementDepthCount--}function A_(){return Ke.bindingsEnabled}function P_(){return Ke.skipHydrationRootTNode!==null}function HN(t){return Ke.skipHydrationRootTNode===t}function zN(){Ke.skipHydrationRootTNode=null}function Re(){return Ke.lFrame.lView}function jt(){return Ke.lFrame.tView}function U(t){return Ke.lFrame.contextLView=t,t[Pn]}function $(t){return Ke.lFrame.contextLView=null,t}function En(){let t=N_();for(;t!==null&&t.type===64;)t=t.parent;return t}function N_(){return Ke.lFrame.currentTNode}function qN(){let t=Ke.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Vs(t,e){let r=Ke.lFrame;r.currentTNode=t,r.isParent=e}function p0(){return Ke.lFrame.isParent}function f0(){Ke.lFrame.isParent=!1}function GN(){return Ke.lFrame.contextLView}function R_(){return O_}function mw(t){O_=t}function sl(){let t=Ke.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function F_(){return Ke.lFrame.bindingIndex}function WN(t){return Ke.lFrame.bindingIndex=t}function al(){return Ke.lFrame.bindingIndex++}function Op(t){let e=Ke.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function KN(){return Ke.lFrame.inI18n}function ZN(t,e){let r=Ke.lFrame;r.bindingIndex=r.bindingRootIndex=t,ng(e)}function YN(){return Ke.lFrame.currentDirectiveIndex}function ng(t){Ke.lFrame.currentDirectiveIndex=t}function JN(t){let e=Ke.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function L_(){return Ke.lFrame.currentQueryIndex}function h0(t){Ke.lFrame.currentQueryIndex=t}function QN(t){let e=t[Ue];return e.type===2?e.declTNode:e.type===1?t[sr]:null}function V_(t,e,r){if(r&Ye.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(r&Ye.Host);)if(i=QN(o),i===null||(o=o[ol],i.type&10))break;if(i===null)return!1;e=i,t=o}let n=Ke.lFrame=B_();return n.currentTNode=e,n.lView=t,!0}function m0(t){let e=B_(),r=t[Ue];Ke.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function B_(){let t=Ke.lFrame,e=t===null?null:t.child;return e===null?j_(t):e}function j_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function U_(){let t=Ke.lFrame;return Ke.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var $_=U_;function g0(){let t=U_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function XN(t){return(Ke.lFrame.contextLView=VN(t,Ke.lFrame.contextLView))[Pn]}function _i(){return Ke.lFrame.selectedIndex}function Ts(t){Ke.lFrame.selectedIndex=t}function Ap(){let t=Ke.lFrame;return u0(t.tView,t.selectedIndex)}function eR(){return Ke.lFrame.currentNamespace}var H_=!0;function Pp(){return H_}function Np(t){H_=t}function tR(t,e,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(n){let s=S_(e);(r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s)}i&&(r.preOrderHooks??=[]).push(0-t,i),o&&((r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o))}function Rp(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){let o=t.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-r,s),a&&((t.contentHooks??=[]).push(r,a),(t.contentCheckHooks??=[]).push(r,a)),l&&(t.viewHooks??=[]).push(-r,l),c&&((t.viewHooks??=[]).push(r,c),(t.viewCheckHooks??=[]).push(r,c)),u!=null&&(t.destroyHooks??=[]).push(r,u)}}function $d(t,e,r){z_(t,e,3,r)}function Hd(t,e,r,n){(t[Ve]&3)===r&&z_(t,e,r,n)}function Pm(t,e){let r=t[Ve];(r&3)===e&&(r&=16383,r+=1,t[Ve]=r)}function z_(t,e,r,n){let i=n!==void 0?t[$a]&65535:0,o=n??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(t[$a]+=65536),(a<o||o==-1)&&(nR(t,r,e,l),t[$a]=(t[$a]&4294901760)+l+2),l++}function gw(t,e){gi(4,t,e);let r=Xe(null);try{e.call(t)}finally{Xe(r),gi(5,t,e)}}function nR(t,e,r,n){let i=r[n]<0,o=r[n+1],s=i?-r[n]:r[n],a=t[s];i?t[Ve]>>14<t[$a]>>16&&(t[Ve]&3)===e&&(t[Ve]+=16384,gw(a,o)):gw(a,o)}var Ga=-1,Os=class{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function rR(t){return t instanceof Os}function iR(t){return(t.flags&8)!==0}function oR(t){return(t.flags&16)!==0}var Nm={},rg=class{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=wp(n);let i=this.injector.get(e,Nm,n);return i!==Nm||r===Nm?i:this.parentInjector.get(e,r,n)}};function q_(t){return t!==Ga}function ep(t){return t&32767}function sR(t){return t>>16}function tp(t,e){let r=sR(t),n=e;for(;r>0;)n=n[ol],r--;return n}var ig=!0;function np(t){let e=ig;return ig=t,e}var aR=256,G_=aR-1,W_=5,lR=0,vi={};function cR(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(mc)&&(n=r[mc]),n==null&&(n=r[mc]=lR++);let i=n&G_,o=1<<i;e.data[t+(i>>W_)]|=o}function rp(t,e){let r=K_(t,e);if(r!==-1)return r;let n=e[Ue];n.firstCreatePass&&(t.injectorIndex=e.length,Rm(n.data,t),Rm(e,null),Rm(n.blueprint,null));let i=v0(t,e),o=t.injectorIndex;if(q_(i)){let s=ep(i),a=tp(i,e),l=a[Ue].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Rm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function K_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function v0(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=X_(i),n===null)return Ga;if(r++,i=i[ol],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Ga}function og(t,e,r){cR(t,e,r)}function uR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let r=t.attrs;if(r){let n=r.length,i=0;for(;i<n;){let o=r[i];if(a_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<n&&typeof r[i]=="string";)i++;else{if(o===e)return r[i+1];i=i+2}}}return null}function Z_(t,e,r){if(r&Ye.Optional||t!==void 0)return t;r0(e,"NodeInjector")}function Y_(t,e,r,n){if(r&Ye.Optional&&n===void 0&&(n=null),!(r&(Ye.Self|Ye.Host))){let i=t[Ja],o=ir(void 0);try{return i?i.get(e,n,r&Ye.Optional):t_(e,n,r&Ye.Optional)}finally{ir(o)}}return Z_(n,e,r)}function J_(t,e,r,n=Ye.Default,i){if(t!==null){if(e[Ve]&2048&&!(n&Ye.Self)){let s=hR(t,e,r,n,vi);if(s!==vi)return s}let o=Q_(t,e,r,n,vi);if(o!==vi)return o}return Y_(e,r,n,i)}function Q_(t,e,r,n,i){let o=pR(r);if(typeof o=="function"){if(!V_(e,t,n))return n&Ye.Host?Z_(i,r,n):Y_(e,r,n,i);try{let s;if(s=o(n),s==null&&!(n&Ye.Optional))r0(r);else return s}finally{$_()}}else if(typeof o=="number"){let s=null,a=K_(t,e),l=Ga,c=n&Ye.Host?e[Cr][sr]:null;for((a===-1||n&Ye.SkipSelf)&&(l=a===-1?v0(t,e):e[a+8],l===Ga||!yw(n,!1)?a=-1:(s=e[Ue],a=ep(l),e=tp(l,e)));a!==-1;){let u=e[Ue];if(vw(o,a,u.data)){let d=dR(a,e,r,s,n,c);if(d!==vi)return d}l=e[a+8],l!==Ga&&yw(n,e[Ue].data[a+8]===c)&&vw(o,a,e)?(s=u,a=ep(l),e=tp(l,e)):a=-1}}return i}function dR(t,e,r,n,i,o){let s=e[Ue],a=s.data[t+8],l=n==null?Ip(a)&&ig:n!=s&&(a.type&3)!==0,c=i&Ye.Host&&o===a,u=zd(a,s,r,l,c);return u!==null?As(e,s,u,a):vi}function zd(t,e,r,n,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=n?a:a+u,v=i?a+u:c;for(let C=d;C<v;C++){let _=s[C];if(C<l&&r===_||C>=l&&_.type===r)return C}if(i){let C=s[l];if(C&&To(C)&&C.type===r)return l}return null}function As(t,e,r,n){let i=t[r],o=e.data;if(rR(i)){let s=i;s.resolving&&$P(UP(o[r]));let a=np(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?ir(s.injectImpl):null,u=V_(t,n,Ye.Default);try{i=t[r]=s.factory(void 0,o,t,n),e.firstCreatePass&&r>=n.directiveStart&&tR(r,o[r],e)}finally{c!==null&&ir(c),np(a),s.resolving=!1,$_()}}return i}function pR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(mc)?t[mc]:void 0;return typeof e=="number"?e>=0?e&G_:fR:e}function vw(t,e,r){let n=1<<t;return!!(r[e+(t>>W_)]&n)}function yw(t,e){return!(t&Ye.Self)&&!(t&Ye.Host&&e)}var Es=class{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return J_(this._tNode,this._lView,e,wp(n),r)}};function fR(){return new Es(En(),Re())}function pn(t){return Sc(()=>{let e=t.prototype.constructor,r=e[Wd]||sg(e),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){let o=i[Wd]||sg(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function sg(t){return Zw(t)?()=>{let e=sg(zn(t));return e&&e()}:Is(t)}function hR(t,e,r,n,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Ve]&2048&&!(s[Ve]&512);){let a=Q_(o,s,r,n|Ye.Self,vi);if(a!==vi)return a;let l=o.parent;if(!l){let c=s[w_];if(c){let u=c.get(r,vi,n);if(u!==vi)return u}l=X_(s),s=s[ol]}o=l}return i}function X_(t){let e=t[Ue],r=e.type;return r===2?e.declTNode:r===1?t[sr]:null}function y0(t){return uR(En(),t)}function bw(t,e=null,r=null,n){let i=ex(t,e,r,n);return i.resolveInjectorInitializers(),i}function ex(t,e=null,r=null,n,i=new Set){let o=[r||or,a0(t)];return n=n||(typeof t=="object"?void 0:qn(t)),new yc(o,e||Sp(),n||null,i)}var xs=class xs{static create(e,r){if(Array.isArray(e))return bw({name:""},r,e,"");{let n=e.name??"";return bw({name:n},e.parent,e.providers,n)}}};xs.THROW_IF_NOT_FOUND=gc,xs.NULL=new Yd,xs.\u0275prov=Z({token:xs,providedIn:"any",factory:()=>ie(i_)}),xs.__NG_ELEMENT_ID__=-1;var Wn=xs;var mR=new le("");mR.__NG_ELEMENT_ID__=t=>{let e=En();if(e===null)throw new Ce(204,!1);if(e.type&2)return e.value;if(t&Ye.Optional)return null;throw new Ce(204,!1)};var gR="ngOriginalError";function Fm(t){return t[gR]}var tx=!0,b0=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vR,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),ag=class extends b0{constructor(e){super(),this._lView=e}onDestroy(e){return T_(this._lView,e),()=>BN(this._lView,e)}};function vR(){return new ag(Re())}var Ro=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var lg=class extends Ze{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,C_()&&(this.destroyRef=H(b0,{optional:!0})??void 0,this.pendingTasks=H(Ro,{optional:!0})??void 0)}emit(e){let r=Xe(null);try{super.next(e)}finally{Xe(r)}}subscribe(e,r,n){let i=e,o=r||(()=>null),s=n;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Xt&&e.add(a),a}wrapInTimeout(e){return r=>{let n=this.pendingTasks?.add();setTimeout(()=>{e(r),n!==void 0&&this.pendingTasks?.remove(n)})}}},Ae=lg;function ip(...t){}function nx(t){let e,r;function n(){t=ip;try{r!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(r),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),n()}),typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(()=>{t(),n()})),()=>n()}function Cw(t){return queueMicrotask(()=>t()),()=>{t=ip}}var C0="isAngularZone",op=C0+"_ID",yR=0,Dt=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1);let{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=tx}=e;if(typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&n,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,wR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(C0)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Ce(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,bR,ip,ip);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},bR={};function w0(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function CR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){nx(()=>{t.callbackScheduled=!1,cg(t),t.isCheckStableRunning=!0,w0(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),cg(t)}function wR(t){let e=()=>{CR(t)},r=yR++;t._inner=t._inner.fork({name:"angular",properties:{[C0]:!0,[op]:r,[op+r]:!0},onInvokeTask:(n,i,o,s,a,l)=>{if(_R(l))return n.invokeTask(o,s,a,l);try{return ww(t),n.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),_w(t)}},onInvoke:(n,i,o,s,a,l,c)=>{try{return ww(t),n.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!xR(l)&&e(),_w(t)}},onHasTask:(n,i,o,s)=>{n.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,cg(t),w0(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,o,s)=>(n.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function cg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ww(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _w(t){t._nesting--,w0(t)}var ug=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,r,n){return e.apply(r,n)}runGuarded(e,r,n){return e.apply(r,n)}runOutsideAngular(e){return e()}runTask(e,r,n,i){return e.apply(r,n)}};function _R(t){return rx(t,"__ignore_ng_zone__")}function xR(t){return rx(t,"__scheduler_tick__")}function rx(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Zi=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&Fm(e);for(;r&&Fm(r);)r=Fm(r);return r||null}},SR=new le("",{providedIn:"root",factory:()=>{let t=H(Dt),e=H(Zi);return r=>t.runOutsideAngular(()=>e.handleError(r))}});function ER(){return ll(En(),Re())}function ll(t,e){return new bt(Nr(t,e))}var bt=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=ER;let t=e;return t})();function IR(t){return t instanceof bt?t.nativeElement:t}function MR(){return this._results[Symbol.iterator]()}var dg=class t{get changes(){return this._changes??=new Ae}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let r=t.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=MR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,r){return this._results.reduce(e,r)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,r){this.dirty=!1;let n=XP(e);(this._changesDetected=!QP(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function ix(t){return(t.flags&128)===128}var ox=new Map,DR=0;function kR(){return DR++}function TR(t){ox.set(t[Ep],t)}function pg(t){ox.delete(t[Ep])}var xw="__ngContext__";function Ao(t,e){Do(e)?(t[xw]=e[Ep],TR(e)):t[xw]=e}function sx(t){return lx(t[bc])}function ax(t){return lx(t[ti])}function lx(t){for(;t!==null&&!Qi(t);)t=t[ti];return t}var fg;function cx(t){fg=t}function ux(){if(fg!==void 0)return fg;if(typeof document<"u")return document;throw new Ce(210,!1)}var _0=new le("",{providedIn:"root",factory:()=>OR}),OR="ng",x0=new le(""),ni=new le("",{providedIn:"platform",factory:()=>"unknown"});var S0=new le("",{providedIn:"root",factory:()=>ux().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),E0={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},dx=new le("",{providedIn:"root",factory:()=>E0});var AR="h",PR="b";var NR=()=>null;function I0(t,e,r=!1){return NR(t,e,r)}var px=!1,RR=new le("",{providedIn:"root",factory:()=>px});var Rd;function FR(){if(Rd===void 0&&(Rd=null,Gi.trustedTypes))try{Rd=Gi.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rd}function Fp(t){return FR()?.createHTML(t)||t}var Fd;function fx(){if(Fd===void 0&&(Fd=null,Gi.trustedTypes))try{Fd=Gi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fd}function Sw(t){return fx()?.createHTML(t)||t}function Ew(t){return fx()?.createScriptURL(t)||t}var Yi=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ww})`}},hg=class extends Yi{getTypeName(){return"HTML"}},mg=class extends Yi{getTypeName(){return"Style"}},gg=class extends Yi{getTypeName(){return"Script"}},vg=class extends Yi{getTypeName(){return"URL"}},yg=class extends Yi{getTypeName(){return"ResourceURL"}};function wr(t){return t instanceof Yi?t.changingThisBreaksApplicationSecurity:t}function Xi(t,e){let r=LR(t);if(r!=null&&r!==e){if(r==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${Ww})`)}return r===e}function LR(t){return t instanceof Yi&&t.getTypeName()||null}function hx(t){return new hg(t)}function mx(t){return new mg(t)}function gx(t){return new gg(t)}function vx(t){return new vg(t)}function yx(t){return new yg(t)}function VR(t){let e=new Cg(t);return BR()?new bg(e):e}var bg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let r=new window.DOMParser().parseFromString(Fp(e),"text/html").body;return r===null?this.inertDocumentHelper.getInertBodyElement(e):(r.firstChild?.remove(),r)}catch{return null}}},Cg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let r=this.inertDocument.createElement("template");return r.innerHTML=Fp(e),r}};function BR(){try{return!!new window.DOMParser().parseFromString(Fp(""),"text/html")}catch{return!1}}var jR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lp(t){return t=String(t),t.match(jR)?t:"unsafe:"+t}function eo(t){let e={};for(let r of t.split(","))e[r]=!0;return e}function Mc(...t){let e={};for(let r of t)for(let n in r)r.hasOwnProperty(n)&&(e[n]=!0);return e}var bx=eo("area,br,col,hr,img,wbr"),Cx=eo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wx=eo("rp,rt"),UR=Mc(wx,Cx),$R=Mc(Cx,eo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),HR=Mc(wx,eo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Iw=Mc(bx,$R,HR,UR),_x=eo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zR=eo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qR=eo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),GR=Mc(_x,zR,qR),WR=eo("script,style,template"),wg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let r=e.firstChild,n=!0,i=[];for(;r;){if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild){i.push(r),r=YR(r);continue}for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=ZR(r);if(o){r=o;break}r=i.pop()}}return this.buf.join("")}startElement(e){let r=Mw(e).toLowerCase();if(!Iw.hasOwnProperty(r))return this.sanitizedSomething=!0,!WR.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);let n=e.attributes;for(let i=0;i<n.length;i++){let o=n.item(i),s=o.name,a=s.toLowerCase();if(!GR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;_x[a]&&(l=Lp(l)),this.buf.push(" ",s,'="',Dw(l),'"')}return this.buf.push(">"),!0}endElement(e){let r=Mw(e).toLowerCase();Iw.hasOwnProperty(r)&&!bx.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(e){this.buf.push(Dw(e))}};function KR(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function ZR(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw xx(e);return e}function YR(t){let e=t.firstChild;if(e&&KR(t,e))throw xx(e);return e}function Mw(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function xx(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var JR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QR=/([^\#-~ |!])/g;function Dw(t){return t.replace(/&/g,"&amp;").replace(JR,function(e){let r=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((r-55296)*1024+(n-56320)+65536)+";"}).replace(QR,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ld;function M0(t,e){let r=null;try{Ld=Ld||VR(t);let n=e?String(e):"";r=Ld.getInertBodyElement(n);let i=5,o=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=r.innerHTML,r=Ld.getInertBodyElement(n)}while(n!==o);let a=new wg().sanitizeChildren(kw(r)||r);return Fp(a)}finally{if(r){let n=kw(r)||r;for(;n.firstChild;)n.firstChild.remove()}}}function kw(t){return"content"in t&&XR(t)?t.content:null}function XR(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ri=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ri||{});function Fo(t){let e=D0();return e?Sw(e.sanitize(ri.HTML,t)||""):Xi(t,"HTML")?Sw(wr(t)):M0(ux(),rr(t))}function Ut(t){let e=D0();return e?e.sanitize(ri.URL,t)||"":Xi(t,"URL")?wr(t):Lp(rr(t))}function eF(t){let e=D0();if(e)return Ew(e.sanitize(ri.RESOURCE_URL,t)||"");if(Xi(t,"ResourceURL"))return Ew(wr(t));throw new Ce(904,!1)}function tF(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?eF:Ut}function Sx(t,e,r){return tF(e,r)(t)}function D0(){let t=Re();return t&&t[bi].sanitizer}var nF=/^>|^->|<!--|-->|--!>|<!-$/g,rF=/(<|>)/g,iF="\u200B$1\u200B";function oF(t){return t.replace(nF,e=>e.replace(rF,iF))}function Bs(t){return t.ownerDocument}function Ex(t){return t instanceof Function?t():t}function sF(t){return(t??H(Wn)).get(ni)==="browser"}var wi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wi||{}),aF;function k0(t,e){return aF(t,e)}function Ha(t,e,r,n,i){if(n!=null){let o,s=!1;Qi(n)?o=n:Do(n)&&(s=!0,n=n[Ji]);let a=Ci(n);t===0&&r!==null?i==null?Tx(e,r,a):sp(e,r,a,i||null,!0):t===1&&r!==null?sp(e,r,a,i||null,!0):t===2?wF(e,a,s):t===3&&e.destroyNode(a),o!=null&&xF(e,t,o,r,i)}}function lF(t,e){return t.createText(e)}function cF(t,e,r){t.setValue(e,r)}function uF(t,e){return t.createComment(oF(e))}function Ix(t,e,r){return t.createElement(e,r)}function dF(t,e){Mx(t,e),e[Ji]=null,e[sr]=null}function pF(t,e,r,n,i,o){n[Ji]=i,n[sr]=e,jp(t,n,r,1,i,o)}function Mx(t,e){e[bi].changeDetectionScheduler?.notify(9),jp(t,e,e[Bt],2,null,null)}function fF(t){let e=t[bc];if(!e)return Lm(t[Ue],t);for(;e;){let r=null;if(Do(e))r=e[bc];else{let n=e[Nn];n&&(r=n)}if(!r){for(;e&&!e[ti]&&e!==t;)Do(e)&&Lm(e[Ue],e),e=e[Rn];e===null&&(e=t),Do(e)&&Lm(e[Ue],e),r=e&&e[ti]}e=r}}function hF(t,e,r,n){let i=Nn+n,o=r.length;n>0&&(r[i-1][ti]=e),n<o-Nn?(e[ti]=r[i],r_(r,Nn+n,e)):(r.push(e),e[ti]=null),e[Rn]=r;let s=e[Ms];s!==null&&r!==s&&Dx(s,e);let a=e[Ki];a!==null&&a.insertView(t),tg(e),e[Ve]|=128}function Dx(t,e){let r=t[Qa],n=e[Rn];if(Do(n))t[Ve]|=Xd.HasTransplantedViews;else{let i=n[Rn][Cr];e[Cr]!==i&&(t[Ve]|=Xd.HasTransplantedViews)}r===null?t[Qa]=[e]:r.push(e)}function T0(t,e){let r=t[Qa],n=r.indexOf(e);r.splice(n,1)}function Cc(t,e){if(t.length<=Nn)return;let r=Nn+e,n=t[r];if(n){let i=n[Ms];i!==null&&i!==t&&T0(i,n),e>0&&(t[r-1][ti]=n[ti]);let o=Zd(t,Nn+e);dF(n[Ue],n);let s=o[Ki];s!==null&&s.detachView(o[Ue]),n[Rn]=null,n[ti]=null,n[Ve]&=-129}return n}function Vp(t,e){if(!(e[Ve]&256)){let r=e[Bt];r.destroyNode&&jp(t,e,r,3,null,null),fF(e)}}function Lm(t,e){if(e[Ve]&256)return;let r=Xe(null);try{e[Ve]&=-129,e[Ve]|=256,e[Tr]&&fm(e[Tr]),gF(t,e),mF(t,e),e[Ue].type===1&&e[Bt].destroy();let n=e[Ms];if(n!==null&&Qi(e[Rn])){n!==e[Rn]&&T0(n,e);let i=e[Ki];i!==null&&i.detachView(t)}pg(e)}finally{Xe(r)}}function mF(t,e){let r=t.cleanup,n=e[Jd];if(r!==null)for(let o=0;o<r.length-1;o+=2)if(typeof r[o]=="string"){let s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[r[o+1]];r[o].call(s)}n!==null&&(e[Jd]=null);let i=e[Mo];if(i!==null){e[Mo]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function gF(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=e[r[n]];if(!(i instanceof Os)){let o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];gi(4,a,l);try{l.call(a)}finally{gi(5,a,l)}}else{gi(4,i,o);try{o.call(i)}finally{gi(5,i,o)}}}}}function kx(t,e,r){return vF(t,e.parent,r)}function vF(t,e,r){let n=e;for(;n!==null&&n.type&168;)e=n,n=e.parent;if(n===null)return r[Ji];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=t.data[n.directiveStart+i];if(o===yi.None||o===yi.Emulated)return null}return Nr(n,r)}}function sp(t,e,r,n,i){t.insertBefore(e,r,n,i)}function Tx(t,e,r){t.appendChild(e,r)}function Tw(t,e,r,n,i){n!==null?sp(t,e,r,n,i):Tx(t,e,r)}function Ox(t,e){return t.parentNode(e)}function yF(t,e){return t.nextSibling(e)}function Ax(t,e,r){return CF(t,e,r)}function bF(t,e,r){return t.type&40?Nr(t,r):null}var CF=bF,Ow;function Bp(t,e,r,n){let i=kx(t,n,e),o=e[Bt],s=n.parent||e[sr],a=Ax(s,n,e);if(i!=null)if(Array.isArray(r))for(let l=0;l<r.length;l++)Tw(o,i,r[l],a,!1);else Tw(o,i,r,a,!1);Ow!==void 0&&Ow(o,n,e,r,i)}function hc(t,e){if(e!==null){let r=e.type;if(r&3)return Nr(e,t);if(r&4)return _g(-1,t[e.index]);if(r&8){let n=e.child;if(n!==null)return hc(t,n);{let i=t[e.index];return Qi(i)?_g(-1,i):Ci(i)}}else{if(r&128)return hc(t,e.next);if(r&32)return k0(e,t)()||Ci(t[e.index]);{let n=Px(t,e);if(n!==null){if(Array.isArray(n))return n[0];let i=ks(t[Cr]);return hc(i,n)}else return hc(t,e.next)}}}return null}function Px(t,e){if(e!==null){let n=t[Cr][sr],i=e.projection;return n.projection[i]}return null}function _g(t,e){let r=Nn+t+1;if(r<e.length){let n=e[r],i=n[Ue].firstChild;if(i!==null)return hc(n,i)}return e[Ds]}function wF(t,e,r){t.removeChild(null,e,r)}function O0(t,e,r,n,i,o,s){for(;r!=null;){if(r.type===128){r=r.next;continue}let a=n[r.index],l=r.type;if(s&&e===0&&(a&&Ao(Ci(a),n),r.flags|=2),(r.flags&32)!==32)if(l&8)O0(t,e,r.child,n,i,o,!1),Ha(e,t,i,a,o);else if(l&32){let c=k0(r,n),u;for(;u=c();)Ha(e,t,i,u,o);Ha(e,t,i,a,o)}else l&16?Nx(t,e,n,r,i,o):Ha(e,t,i,a,o);r=s?r.projectionNext:r.next}}function jp(t,e,r,n,i,o){O0(r,n,t.firstChild,e,i,o,!1)}function _F(t,e,r){let n=e[Bt],i=kx(t,r,e),o=r.parent||e[sr],s=Ax(o,r,e);Nx(n,0,e,r,i,s)}function Nx(t,e,r,n,i,o){let s=r[Cr],l=s[sr].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ha(e,t,i,u,o)}else{let c=l,u=s[Rn];ix(n)&&(c.flags|=128),O0(t,e,c,u,i,o,!0)}}function xF(t,e,r,n,i){let o=r[Ds],s=Ci(r);o!==s&&Ha(e,t,n,o,i);for(let a=Nn;a<r.length;a++){let l=r[a];jp(l[Ue],l,t,e,n,o)}}function SF(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let o=n.indexOf("-")===-1?void 0:wi.DashCase;i==null?t.removeStyle(r,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wi.Important),t.setStyle(r,n,i,o))}}function EF(t,e,r){t.setAttribute(e,"style",r)}function Rx(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function Fx(t,e,r){let{mergedAttrs:n,classes:i,styles:o}=r;n!==null&&Zm(t,e,n),i!==null&&Rx(t,e,i),o!==null&&EF(t,e,o)}var Vn={};function m(t=1){Lx(jt(),Re(),_i()+t,!1)}function Lx(t,e,r,n){if(!n)if((e[Ve]&3)===3){let o=t.preOrderCheckHooks;o!==null&&$d(e,o,r)}else{let o=t.preOrderHooks;o!==null&&Hd(e,o,0,r)}Ts(r)}function T(t,e=Ye.Default){let r=Re();if(r===null)return ie(t,e);let n=En();return J_(n,r,zn(t),e)}function Vx(){let t="invalid";throw new Error(t)}function Bx(t,e,r,n,i,o){let s=Xe(null);try{let a=null;i&ko.SignalBased&&(a=e[n][ji]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ko.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(e,o)),t.setInput!==null?t.setInput(e,a,o,r,n):x_(e,a,n,o)}finally{Xe(s)}}function IF(t,e){let r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)Ts(~i);else{let o=i,s=r[++n],a=r[++n];ZN(s,o);let l=e[o];a(2,l)}}}finally{Ts(-1)}}function Up(t,e,r,n,i,o,s,a,l,c,u){let d=e.blueprint.slice();return d[Ji]=i,d[Ve]=n|4|128|8|64,(c!==null||t&&t[Ve]&2048)&&(d[Ve]|=2048),D_(d),d[Rn]=d[ol]=t,d[Pn]=r,d[bi]=s||t&&t[bi],d[Bt]=a||t&&t[Bt],d[Ja]=l||t&&t[Ja]||null,d[sr]=o,d[Ep]=kR(),d[Ya]=u,d[w_]=c,d[Cr]=e.type==2?t[Cr]:d,d}function cl(t,e,r,n,i){let o=t.data[e];if(o===null)o=MF(t,e,r,n,i),KN()&&(o.flags|=32);else if(o.type&64){o.type=r,o.value=n,o.attrs=i;let s=qN();o.injectorIndex=s===null?-1:s.injectorIndex}return Vs(o,!0),o}function MF(t,e,r,n,i){let o=N_(),s=p0(),a=s?o:o&&o.parent,l=t.data[e]=PF(t,a,r,e,n,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function jx(t,e,r,n){if(r===0)return-1;let i=e.length;for(let o=0;o<r;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function Ux(t,e,r,n,i){let o=_i(),s=n&2;try{Ts(-1),s&&e.length>ln&&Lx(t,e,ln,!1),gi(s?2:0,i),r(n,i)}finally{Ts(o),gi(s?3:1,i)}}function A0(t,e,r){if(c0(e)){let n=Xe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=r[s];a.contentQueries(1,l,s)}}}finally{Xe(n)}}}function P0(t,e,r){A_()&&(BF(t,e,r,Nr(r,e)),(r.flags&64)===64&&zx(t,e,r))}function N0(t,e,r=Nr){let n=e.localNames;if(n!==null){let i=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?r(e,t):t[s];t[i++]=a}}}function $x(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=R0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function R0(t,e,r,n,i,o,s,a,l,c,u){let d=ln+n,v=d+i,C=DF(d,v),_=typeof c=="function"?c():c;return C[Ue]={type:t,blueprint:C,template:r,queries:null,viewQuery:a,declTNode:e,data:C.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}function DF(t,e){let r=[];for(let n=0;n<e;n++)r.push(n<t?null:Vn);return r}function kF(t,e,r,n){let o=n.get(RR,px)||r===yi.ShadowDom,s=t.selectRootElement(e,o);return TF(s),s}function TF(t){OF(t)}var OF=()=>null;function AF(t,e,r,n){let i=Wx(e);i.push(r),t.firstCreatePass&&Kx(t).push(n,i.length-1)}function PF(t,e,r,n,i,o){let s=e?e.injectorIndex:-1,a=0;return P_()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Aw(t,e,r,n,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,l=ko.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(i!==null){if(!i.hasOwnProperty(o))continue;c=i[o]}t===0?Pw(n,r,c,a,l):Pw(n,r,c,a)}return n}function Pw(t,e,r,n,i){let o;t.hasOwnProperty(r)?(o=t[r]).push(e,n):o=t[r]=[e,n],i!==void 0&&o.push(i)}function NF(t,e,r){let n=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=n;u<i;u++){let d=o[u],v=r?r.get(d):null,C=v?v.inputs:null,_=v?v.outputs:null;l=Aw(0,d.inputs,u,l,C),c=Aw(1,d.outputs,u,c,_);let S=l!==null&&s!==null&&!s0(e)?YF(l,u,s):null;a.push(S)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function RF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function F0(t,e,r,n,i,o,s,a){let l=Nr(e,r),c=e.inputs,u;!a&&c!=null&&(u=c[n])?(V0(t,r,u,n,i),Ip(e)&&FF(r,e.index)):e.type&3?(n=RF(n),i=s!=null?s(i,e.value||"",n):i,o.setProperty(l,n,i)):e.type&12}function FF(t,e){let r=No(e,t);r[Ve]&16||(r[Ve]|=64)}function L0(t,e,r,n){if(A_()){let i=n===null?null:{"":-1},o=UF(t,r),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Hx(t,e,r,s,i,a),i&&$F(r,n,i)}r.mergedAttrs=vc(r.mergedAttrs,r.attrs)}function Hx(t,e,r,n,i,o){for(let c=0;c<n.length;c++)og(rp(r,e),t,n[c].type);zF(r,t.data.length,n.length);for(let c=0;c<n.length;c++){let u=n[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=jx(t,e,n.length,null);for(let c=0;c<n.length;c++){let u=n[c];r.mergedAttrs=vc(r.mergedAttrs,u.hostAttrs),qF(t,r,e,l,u),HF(l,u,i),u.contentQueries!==null&&(r.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(r.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}NF(t,r,o)}function LF(t,e,r,n,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;VF(s)!=a&&s.push(a),s.push(r,n,o)}}function VF(t){let e=t.length;for(;e>0;){let r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function BF(t,e,r,n){let i=r.directiveStart,o=r.directiveEnd;Ip(r)&&GF(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||rp(r,e),Ao(n,e);let s=r.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],c=As(e,t,a,r);if(Ao(c,e),s!==null&&ZF(e,a-i,c,l,r,s),To(l)){let u=No(r.index,e);u[Pn]=As(e,t,a,r)}}}function zx(t,e,r){let n=r.directiveStart,i=r.directiveEnd,o=r.index,s=YN();try{Ts(o);for(let a=n;a<i;a++){let l=t.data[a],c=e[a];ng(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&jF(l,c)}}finally{Ts(-1),ng(s)}}function jF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function UF(t,e){let r=t.directiveRegistry,n=null,i=null;if(r)for(let o=0;o<r.length;o++){let s=r[o];if(c_(e,s.selectors,!1))if(n||(n=[]),To(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let l=a.length;xg(t,e,l)}else n.unshift(s),xg(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function xg(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function $F(t,e,r){if(e){let n=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=r[e[i+1]];if(o==null)throw new Ce(-301,!1);n.push(e[i],o)}}}function HF(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;To(e)&&(r[""]=t)}}function zF(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function qF(t,e,r,n,i){t.data[n]=i;let o=i.factory||(i.factory=Is(i.type,!0)),s=new Os(o,To(i),T);t.blueprint[n]=s,r[n]=s,LF(t,e,n,jx(t,r,i.hostVars,Vn),i)}function GF(t,e,r){let n=Nr(e,t),i=$x(r),o=t[bi].rendererFactory,s=16;r.signals?s=4096:r.onPush&&(s=64);let a=$p(t,Up(t,i,null,s,n,e,null,o.createRenderer(n,r),null,null,null));t[e.index]=a}function WF(t,e,r,n,i,o){let s=Nr(t,e);KF(e[Bt],s,o,t.value,r,n,i)}function KF(t,e,r,n,i,o,s){if(o==null)t.removeAttribute(e,i,r);else{let a=s==null?rr(o):s(o,n||"",i);t.setAttribute(e,i,a,r)}}function ZF(t,e,r,n,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];Bx(n,r,l,c,u,d)}}function YF(t,e,r){let n=null,i=0;for(;i<r.length;){let o=r[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){n===null&&(n=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],r[i+1]);break}}i+=2}return n}function qx(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function Gx(t,e){let r=t.contentQueries;if(r!==null){let n=Xe(null);try{for(let i=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s!==-1){let a=t.data[s];h0(o),a.contentQueries(2,e[s],s)}}}finally{Xe(n)}}}function $p(t,e){return t[bc]?t[fw][ti]=e:t[bc]=e,t[fw]=e,e}function Sg(t,e,r){h0(0);let n=Xe(null);try{e(t,r)}finally{Xe(n)}}function Wx(t){return t[Jd]??=[]}function Kx(t){return t.cleanup??=[]}function Zx(t,e){let r=t[Ja],n=r?r.get(Zi,null):null;n&&n.handleError(e)}function V0(t,e,r,n,i){for(let o=0;o<r.length;){let s=r[o++],a=r[o++],l=r[o++],c=e[s],u=t.data[s];Bx(u,c,n,a,l,i)}}function B0(t,e,r){let n=M_(e,t);cF(t[Bt],n,r)}function JF(t,e){let r=No(e,t),n=r[Ue];QF(n,r);let i=r[Ji];i!==null&&r[Ya]===null&&(r[Ya]=I0(i,r[Ja])),j0(n,r,r[Pn])}function QF(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function j0(t,e,r){m0(e);try{let n=t.viewQuery;n!==null&&Sg(1,n,r);let i=t.template;i!==null&&Ux(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ki]?.finishViewCreation(t),t.staticContentQueries&&Gx(t,e),t.staticViewQueries&&Sg(2,t.viewQuery,r);let o=t.components;o!==null&&XF(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[Ve]&=-5,g0()}}function XF(t,e){for(let r=0;r<e.length;r++)JF(t,e[r])}function Dc(t,e,r,n){let i=Xe(null);try{let o=e.tView,a=t[Ve]&4096?4096:16,l=Up(t,o,r,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=t[e.index];l[Ms]=c;let u=t[Ki];return u!==null&&(l[Ki]=u.createEmbeddedView(o)),j0(o,l,r),l}finally{Xe(i)}}function Yx(t,e){let r=Nn+e;if(r<t.length)return t[r]}function Xa(t,e){return!e||e.firstChild===null||ix(t)}function kc(t,e,r,n=!0){let i=e[Ue];if(hF(i,e,t,r),n){let s=_g(r,t),a=e[Bt],l=Ox(a,t[Ds]);l!==null&&pF(i,t[sr],a,e,l,s)}let o=e[Ya];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Jx(t,e){let r=Cc(t,e);return r!==void 0&&Vp(r[Ue],r),r}function ap(t,e,r,n,i=!1){for(;r!==null;){if(r.type===128){r=i?r.projectionNext:r.next;continue}let o=e[r.index];o!==null&&n.push(Ci(o)),Qi(o)&&e3(o,n);let s=r.type;if(s&8)ap(t,e,r.child,n);else if(s&32){let a=k0(r,e),l;for(;l=a();)n.push(l)}else if(s&16){let a=Px(e,r);if(Array.isArray(a))n.push(...a);else{let l=ks(e[Cr]);ap(l[Ue],l,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function e3(t,e){for(let r=Nn;r<t.length;r++){let n=t[r],i=n[Ue].firstChild;i!==null&&ap(n[Ue],n,i,e)}t[Ds]!==t[Ji]&&e.push(t[Ds])}var Qx=[];function t3(t){return t[Tr]??n3(t)}function n3(t){let e=Qx.pop()??Object.create(i3);return e.lView=t,e}function r3(t){t.lView[Tr]!==t&&(t.lView=null,Qx.push(t))}var i3=Ee(j({},dc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Tp(t.lView)},consumerOnSignalRead(){this.lView[Tr]=this}});function o3(t){let e=t[Tr]??Object.create(s3);return e.lView=t,e}var s3=Ee(j({},dc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ks(t.lView);for(;e&&!Xx(e[Ue]);)e=ks(e);e&&k_(e)},consumerOnSignalRead(){this.lView[Tr]=this}});function Xx(t){return t.type!==2}var a3=100;function eS(t,e=!0,r=0){let n=t[bi],i=n.rendererFactory,o=!1;o||i.begin?.();try{l3(t,r)}catch(s){throw e&&Zx(t,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush())}}function l3(t,e){let r=R_();try{mw(!0),Eg(t,e);let n=0;for(;kp(t);){if(n===a3)throw new Ce(103,!1);n++,Eg(t,1)}}finally{mw(r)}}function c3(t,e,r,n){let i=e[Ve];if((i&256)===256)return;let o=!1,s=!1;!o&&e[bi].inlineEffectRunner?.flush(),m0(e);let a=!0,l=null,c=null;o||(Xx(t)?(c=t3(e),l=ad(c)):bC()===null?(a=!1,c=o3(e),l=ad(c)):e[Tr]&&(fm(e[Tr]),e[Tr]=null));try{D_(e),WN(t.bindingStartIndex),r!==null&&Ux(t,e,r,2,n);let u=(i&3)===3;if(!o)if(u){let C=t.preOrderCheckHooks;C!==null&&$d(e,C,null)}else{let C=t.preOrderHooks;C!==null&&Hd(e,C,0,null),Pm(e,0)}if(s||u3(e),tS(e,0),t.contentQueries!==null&&Gx(t,e),!o)if(u){let C=t.contentCheckHooks;C!==null&&$d(e,C)}else{let C=t.contentHooks;C!==null&&Hd(e,C,1),Pm(e,1)}IF(t,e);let d=t.components;d!==null&&rS(e,d,0);let v=t.viewQuery;if(v!==null&&Sg(2,v,n),!o)if(u){let C=t.viewCheckHooks;C!==null&&$d(e,C)}else{let C=t.viewHooks;C!==null&&Hd(e,C,2),Pm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Am]){for(let C of e[Am])C();e[Am]=null}o||(e[Ve]&=-73)}catch(u){throw o||Tp(e),u}finally{c!==null&&(dm(c,l),a&&r3(c)),g0()}}function tS(t,e){for(let r=sx(t);r!==null;r=ax(r))for(let n=Nn;n<r.length;n++){let i=r[n];nS(i,e)}}function u3(t){for(let e=sx(t);e!==null;e=ax(e)){if(!(e[Ve]&Xd.HasTransplantedViews))continue;let r=e[Qa];for(let n=0;n<r.length;n++){let i=r[n];k_(i)}}}function d3(t,e,r){let n=No(e,t);nS(n,r)}function nS(t,e){d0(t)&&Eg(t,e)}function Eg(t,e){let n=t[Ue],i=t[Ve],o=t[Tr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&pm(o)),s||=!1,o&&(o.dirty=!1),t[Ve]&=-9217,s)c3(n,t,n.template,t[Pn]);else if(i&8192){tS(t,1);let a=n.components;a!==null&&rS(t,a,1)}}function rS(t,e,r){for(let n=0;n<e.length;n++)d3(t,e[n],r)}function U0(t,e){let r=R_()?64:1088;for(t[bi].changeDetectionScheduler?.notify(e);t;){t[Ve]|=r;let n=ks(t);if(Xm(t)&&!n)return t;t=n}return null}var Ps=class{get rootNodes(){let e=this._lView,r=e[Ue];return ap(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pn]}set context(e){this._lView[Pn]=e}get destroyed(){return(this._lView[Ve]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rn];if(Qi(e)){let r=e[Qd],n=r?r.indexOf(this):-1;n>-1&&(Cc(e,n),Zd(r,n))}this._attachedToViewContainer=!1}Vp(this._lView[Ue],this._lView)}onDestroy(e){T_(this._lView,e)}markForCheck(){U0(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ve]&=-129}reattach(){tg(this._lView),this._lView[Ve]|=128}detectChanges(){this._lView[Ve]|=1024,eS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Xm(this._lView),r=this._lView[Ms];r!==null&&!e&&T0(r,this._lView),Mx(this._lView[Ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=e;let r=Xm(this._lView),n=this._lView[Ms];n!==null&&!r&&Dx(n,this._lView),tg(this._lView)}},Ns=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=h3;let t=e;return t})(),p3=Ns,f3=class extends p3{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){let i=Dc(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:n});return new Ps(i)}};function h3(){return Hp(En(),Re())}function Hp(t,e){return t.type&4?new f3(e,t,ll(t,e)):null}var ZQ=new RegExp(`^(\\d+)*(${PR}|${AR})*(.*)`);var m3=()=>null;function el(t,e){return m3(t,e)}var tl=class{},$0=new le("",{providedIn:"root",factory:()=>!1});var iS=new le(""),oS=new le(""),Ig=class{},lp=class{};function g3(t){let e=Error(`No component factory found for ${qn(t)}.`);return e[v3]=t,e}var v3="ngComponent";var Mg=class{resolveComponentFactory(e){throw g3(e)}},X0=class X0{};X0.NULL=new Mg;var nl=X0,rl=class{},tn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>y3();let t=e;return t})();function y3(){let t=Re(),e=En(),r=No(e.index,t);return(Do(r)?r:t)[Bt]}var b3=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function cp(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=qm(i,a);else if(o==2){let l=a,c=e[++s];n=qm(n,l+": "+c+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}var up=class extends nl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let r=Wi(e);return new Rs(r,this.ngModule)}};function Nw(t,e){let r=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ko.None;e?r.push({propName:s,templateName:n,isSignal:(a&ko.SignalBased)!==0}):r.push({propName:s,templateName:n})}return r}function C3(t){let e=t.toLowerCase();return e==="svg"?NN:e==="math"?RN:null}var Rs=class extends lp{get inputs(){let e=this.componentDef,r=e.inputTransforms,n=Nw(e.inputs,!0);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return Nw(this.componentDef.outputs,!1)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=hN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){let o=Xe(null);try{i=i||this.ngModule;let s=i instanceof Gn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new rg(e,s):e,l=a.get(rl,null);if(l===null)throw new Ce(407,!1);let c=a.get(b3,null),u=a.get(tl,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},v=l.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",_=n?kF(v,n,this.componentDef.encapsulation,a):Ix(v,C,C3(C)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);let M=null;_!==null&&(M=I0(_,a,!0));let L=R0(0,null,null,1,0,null,null,null,null,null,null),re=Up(null,L,null,S,null,null,d,v,a,null,M);m0(re);let ue,_e,Oe=null;try{let V=this.componentDef,W,Q=null;V.findHostDirectiveDefs?(W=[],Q=new Map,V.findHostDirectiveDefs(V,W,Q),W.push(V)):W=[V];let R=w3(re,_);Oe=_3(R,_,V,W,re,d,v),_e=u0(L,ln),_&&E3(v,V,_,n),r!==void 0&&I3(_e,this.ngContentSelectors,r),ue=S3(Oe,V,W,Q,re,[M3]),j0(L,re,null)}catch(V){throw Oe!==null&&pg(Oe),pg(re),V}finally{g0()}return new Dg(this.componentType,ue,ll(_e,re),re,_e)}finally{Xe(o)}}},Dg=class extends Ig{constructor(e,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Ps(i,void 0,!1),this.componentType=e}setInput(e,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;let o=this._rootLView;V0(o[Ue],o,i,e,r),this.previousInputValues.set(e,r);let s=No(this._tNode.index,o);U0(s,1)}}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function w3(t,e){let r=t[Ue],n=ln;return t[n]=e,cl(r,n,2,"#host",null)}function _3(t,e,r,n,i,o,s){let a=i[Ue];x3(n,t,e,s);let l=null;e!==null&&(l=I0(e,i[Ja]));let c=o.rendererFactory.createRenderer(e,r),u=16;r.signals?u=4096:r.onPush&&(u=64);let d=Up(i,$x(r),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&xg(a,t,n.length-1),$p(i,d),i[t.index]=d}function x3(t,e,r,n){for(let i of t)e.mergedAttrs=vc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(cp(e,e.mergedAttrs,!0),r!==null&&Fx(n,r,e))}function S3(t,e,r,n,i,o){let s=En(),a=i[Ue],l=Nr(s,i);Hx(a,i,s,r,null,n);for(let u=0;u<r.length;u++){let d=s.directiveStart+u,v=As(i,a,d,s);Ao(v,i)}zx(a,i,s),l&&Ao(l,i);let c=As(i,a,s.directiveStart+s.componentOffset,s);if(t[Pn]=i[Pn]=c,o!==null)for(let u of o)u(c,e);return A0(a,s,i),c}function E3(t,e,r,n){if(n)Zm(t,r,["ng-version","18.2.2"]);else{let{attrs:i,classes:o}=mN(e.selectors[0]);i&&Zm(t,r,i),o&&o.length>0&&Rx(t,r,o.join(" "))}}function I3(t,e,r){let n=t.projection=[];for(let i=0;i<e.length;i++){let o=r[i];n.push(o!=null?Array.from(o):null)}}function M3(){let t=En();Rp(Re()[Ue],t)}var to=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=D3;let t=e;return t})();function D3(){let t=En();return aS(t,Re())}var k3=to,sS=class extends k3{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return ll(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){let e=v0(this._hostTNode,this._hostLView);if(q_(e)){let r=tp(e,this._hostLView),n=ep(e),i=r[Ue].data[n+8];return new Es(i,r)}else return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let r=Rw(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-Nn}createEmbeddedView(e,r,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=el(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(r||{},o,s);return this.insertImpl(a,i,Xa(this._hostTNode,s)),a}createComponent(e,r,n,i,o){let s=e&&!TN(e),a;if(s)a=r;else{let _=r||{};a=_.index,n=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let l=s?e:new Rs(Wi(e)),c=n||this.parentInjector;if(!o&&l.ngModule==null){let S=(s?c:this.parentInjector).get(Gn,null);S&&(o=S)}let u=Wi(l.componentType??{}),d=el(this._lContainer,u?.id??null),v=d?.firstChild??null,C=l.create(c,i,v,o);return this.insertImpl(C.hostView,a,Xa(this._hostTNode,d)),C}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){let i=e._lView;if(LN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Rn],c=new sS(l,l[sr],l[Rn]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(r),s=this._lContainer;return kc(s,i,o,n),e.attachToViewContainerRef(),r_(Vm(s),o,e),e}move(e,r){return this.insert(e,r)}indexOf(e){let r=Rw(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){let r=this._adjustIndex(e,-1),n=Cc(this._lContainer,r);n&&(Zd(Vm(this._lContainer),r),Vp(n[Ue],n))}detach(e){let r=this._adjustIndex(e,-1),n=Cc(this._lContainer,r);return n&&Zd(Vm(this._lContainer),r)!=null?new Ps(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function Rw(t){return t[Qd]}function Vm(t){return t[Qd]||(t[Qd]=[])}function aS(t,e){let r,n=e[t.index];return Qi(n)?r=n:(r=qx(n,e,null,t),e[t.index]=r,$p(e,r)),O3(r,e,t,n),new sS(r,t,e)}function T3(t,e){let r=t[Bt],n=r.createComment(""),i=Nr(e,t),o=Ox(r,i);return sp(r,o,n,yF(r,i),!1),n}var O3=N3,A3=()=>!1;function P3(t,e,r){return A3(t,e,r)}function N3(t,e,r,n){if(t[Ds])return;let i;r.type&8?i=Ci(n):i=T3(e,r),t[Ds]=i}var kg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Tg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let r=e.queries;if(r!==null){let n=e.contentQueries!==null?e.contentQueries[0]:r.length,i=[];for(let o=0;o<n;o++){let s=r.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let r=0;r<this.queries.length;r++)H0(e,r).matches!==null&&this.queries[r].setDirty()}},dp=class{constructor(e,r,n=null){this.flags=r,this.read=n,typeof e=="string"?this.predicate=$3(e):this.predicate=e}},Og=class t{constructor(e=[]){this.queries=e}elementStart(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,r)}elementEnd(e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(e)}embeddedTView(e){let r=null;for(let n=0;n<this.length;n++){let i=r!==null?r.length:0,o=this.getByIndex(n).embeddedTView(e,i);o&&(o.indexInDeclarationView=n,r!==null?r.push(o):r=[o])}return r!==null?new t(r):null}template(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,r)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ag=class t{constructor(e,r=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(e,r){this.isApplyingToNode(r)&&this.matchTNode(e,r)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,r){this.elementStart(e,r)}embeddedTView(e,r){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,r),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(e,r,R3(r,o)),this.matchTNodeWithReadOption(e,r,zd(r,e,o,!1,!1))}else n===Ns?r.type&4&&this.matchTNodeWithReadOption(e,r,-1):this.matchTNodeWithReadOption(e,r,zd(r,e,n,!1,!1))}matchTNodeWithReadOption(e,r,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===bt||i===to||i===Ns&&r.type&4)this.addMatch(r.index,-2);else{let o=zd(r,e,i,!1,!1);o!==null&&this.addMatch(r.index,o)}else this.addMatch(r.index,n)}}addMatch(e,r){this.matches===null?this.matches=[e,r]:this.matches.push(e,r)}};function R3(t,e){let r=t.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1]}return null}function F3(t,e){return t.type&11?ll(t,e):t.type&4?Hp(t,e):null}function L3(t,e,r,n){return r===-1?F3(e,t):r===-2?V3(t,e,n):As(t,t[Ue],r,e)}function V3(t,e,r){if(r===bt)return ll(e,t);if(r===Ns)return Hp(e,t);if(r===to)return aS(e,t)}function lS(t,e,r,n){let i=e[Ki].queries[n];if(i.matches===null){let o=t.data,s=r.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(L3(e,u,s[l+1],r.metadata.read))}}i.matches=a}return i.matches}function Pg(t,e,r,n){let i=t.queries.getByIndex(r),o=i.matches;if(o!==null){let s=lS(t,e,i,r);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=Nn;d<u.length;d++){let v=u[d];v[Ms]===v[Rn]&&Pg(v[Ue],v,c,n)}if(u[Qa]!==null){let d=u[Qa];for(let v=0;v<d.length;v++){let C=d[v];Pg(C[Ue],C,c,n)}}}}}return n}function B3(t,e){return t[Ki].queries[e].queryList}function cS(t,e,r){let n=new dg((r&4)===4);return AF(t,e,n,n.destroy),(e[Ki]??=new Tg).queries.push(new kg(n))-1}function j3(t,e,r){let n=jt();return n.firstCreatePass&&(uS(n,new dp(t,e,r),-1),(e&2)===2&&(n.staticViewQueries=!0)),cS(n,Re(),e)}function U3(t,e,r,n){let i=jt();if(i.firstCreatePass){let o=En();uS(i,new dp(e,r,n),o.index),H3(i,t),(r&2)===2&&(i.staticContentQueries=!0)}return cS(i,Re(),r)}function $3(t){return t.split(",").map(e=>e.trim())}function uS(t,e,r){t.queries===null&&(t.queries=new Og),t.queries.track(new Ag(e,r))}function H3(t,e){let r=t.contentQueries||(t.contentQueries=[]),n=r.length?r[r.length-1]:-1;e!==n&&r.push(t.queries.length-1,e)}function H0(t,e){return t.queries.getByIndex(e)}function z3(t,e){let r=t[Ue],n=H0(r,e);return n.crossesNgTemplate?Pg(r,t,e,[]):lS(r,t,n,e)}var Fw=new Set;function xi(t){Fw.has(t)||(Fw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function q3(t){return typeof t=="function"&&t[ji]!==void 0}function Tc(t,e){xi("NgSignals");let r=TC(t),n=r[ji];return e?.equal&&(n.equal=e.equal),r.set=i=>hm(n,i),r.update=i=>OC(n,i),r.asReadonly=G3.bind(r),r}function G3(){let t=this[ji];if(t.readonlyFn===void 0){let e=()=>this();e[ji]=t,t.readonlyFn=e}return t.readonlyFn}function dS(t){return q3(t)&&typeof t.set=="function"}function W3(t){return Object.getPrototypeOf(t.prototype).constructor}function In(t){let e=W3(t.type),r=!0,n=[t];for(;e;){let i;if(To(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ce(903,!1);i=e.\u0275dir}if(i){if(r){n.push(i);let s=t;s.inputs=Vd(t.inputs),s.inputTransforms=Vd(t.inputTransforms),s.declaredInputs=Vd(t.declaredInputs),s.outputs=Vd(t.outputs);let a=i.hostBindings;a&&Q3(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&Y3(t,l),c&&J3(t,c),K3(t,i),PP(t.outputs,i.outputs),To(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===In&&(r=!1)}}e=Object.getPrototypeOf(e)}Z3(n)}function K3(t,e){for(let r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;let n=e.inputs[r];if(n!==void 0&&(t.inputs[r]=n,t.declaredInputs[r]=e.declaredInputs[r],e.inputTransforms!==null)){let i=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Z3(t){let e=0,r=null;for(let n=t.length-1;n>=0;n--){let i=t[n];i.hostVars=e+=i.hostVars,i.hostAttrs=vc(i.hostAttrs,r=vc(r,i.hostAttrs))}}function Vd(t){return t===Wa?{}:t===or?[]:t}function Y3(t,e){let r=t.viewQuery;r?t.viewQuery=(n,i)=>{e(n,i),r(n,i)}:t.viewQuery=e}function J3(t,e){let r=t.contentQueries;r?t.contentQueries=(n,i,o)=>{e(n,i,o),r(n,i,o)}:t.contentQueries=e}function Q3(t,e){let r=t.hostBindings;r?t.hostBindings=(n,i)=>{e(n,i),r(n,i)}:t.hostBindings=e}function ul(t){let e=t.inputConfig,r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];Array.isArray(i)&&i[3]&&(r[n]=i[3])}t.inputTransforms=r}var Po=class{},wc=class{};var Ng=class extends Po{constructor(e,r,n,i=!0){super(),this.ngModuleType=e,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new up(this);let o=f_(e);this._bootstrapComponents=Ex(o.bootstrap),this._r3Injector=ex(e,r,[{provide:Po,useValue:this},{provide:nl,useValue:this.componentFactoryResolver},...n],qn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Rg=class extends wc{constructor(e){super(),this.moduleType=e}create(e){return new Ng(this.moduleType,e,[])}};var pp=class extends Po{constructor(e){super(),this.componentFactoryResolver=new up(this),this.instance=null;let r=new yc([...e.providers,{provide:Po,useValue:this},{provide:nl,useValue:this.componentFactoryResolver}],e.parent||Sp(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zp(t,e,r=null){return new pp({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}function pS(t){return z0(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function X3(t,e){if(Array.isArray(t))for(let r=0;r<t.length;r++)e(t[r]);else{let r=t[Symbol.iterator](),n;for(;!(n=r.next()).done;)e(n.value)}}function z0(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function qp(t,e,r){return t[e]=r}function eL(t,e){return t[e]}function Or(t,e,r){let n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function _c(t,e,r,n){let i=Or(t,e,r);return Or(t,e+1,n)||i}function fS(t,e,r,n,i){let o=_c(t,e,r,n);return Or(t,e+2,i)||o}function tL(t,e,r,n,i,o){let s=_c(t,e,r,n);return _c(t,e+2,i,o)||s}function nL(t){return(t.flags&32)===32}function rL(t,e,r,n,i,o,s,a,l){let c=e.consts,u=cl(e,t,4,s||null,a||null);L0(e,r,u,Oo(c,l)),Rp(e,u);let d=u.tView=R0(2,u,n,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function fp(t,e,r,n,i,o,s,a,l,c){let u=r+ln,d=e.firstCreatePass?rL(u,e,t,n,i,o,s,a,l):e.data[u];Vs(d,!1);let v=iL(e,t,d,r);Pp()&&Bp(e,t,v,d),Ao(v,t);let C=qx(v,t,v,d);return t[u]=C,$p(t,C),P3(C,d,t),Mp(d)&&P0(e,t,d),l!=null&&N0(t,d,c),d}function Y(t,e,r,n,i,o,s,a){let l=Re(),c=jt(),u=Oo(c.consts,o);return fp(l,c,t,e,r,n,i,u,s,a),Y}var iL=oL;function oL(t,e,r,n){return Np(!0),e[Bt].createComment("")}var za=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(za||{}),hS=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Ss=class Ss{constructor(){this.ngZone=H(Dt),this.scheduler=H(tl),this.errorHandler=H(Zi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Ss.PHASES)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[e]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[e](r.pipelinedValue))}catch(n){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(n)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Ss.PHASES=[za.EarlyRead,za.Write,za.MixedReadWrite,za.Read],Ss.\u0275prov=Z({token:Ss,providedIn:"root",factory:()=>new Ss});var Fg=Ss,Lg=class{constructor(e,r,n,i){this.impl=e,this.hooks=r,this.once=n,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function q0(t,e){!e?.injector&&kN(q0);let r=e?.injector??H(Wn);return sF(r)?(xi("NgAfterNextRender"),aL(t,r,e,!0)):lL}function sL(t,e){if(t instanceof Function){let r=[void 0,void 0,void 0,void 0];return r[e]=t,r}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function aL(t,e,r,n){let i=e.get(hS);i.impl??=e.get(Fg);let o=r?.phase??za.MixedReadWrite,s=new Lg(i.impl,sL(t,o),n,e.get(b0));return i.impl.register(s),s}var lL={destroy(){}};function no(t,e,r,n){let i=Re(),o=al();if(Or(i,o,e)){let s=jt(),a=Ap();WF(a,i,t,e,r,n)}return no}function mS(t,e,r,n){return Or(t,al(),r)?e+rr(r)+n:Vn}function cL(t,e,r,n,i,o){let s=F_(),a=_c(t,s,r,i);return Op(2),a?e+rr(r)+n+rr(i)+o:Vn}function uL(t,e,r,n,i,o,s,a,l,c,u,d,v,C,_,S){let M=F_(),L=tL(t,M,r,i,s,l);return L=fS(t,M+4,u,v,_)||L,Op(7),L?e+rr(r)+n+rr(i)+o+rr(s)+a+rr(l)+c+rr(u)+d+rr(v)+C+rr(_)+S:Vn}function Bd(t,e){return t<<17|e<<2}function Fs(t){return t>>17&32767}function dL(t){return(t&2)==2}function pL(t,e){return t&131071|e<<17}function Vg(t){return t|2}function il(t){return(t&131068)>>2}function Bm(t,e){return t&-131069|e<<2}function fL(t){return(t&1)===1}function Bg(t){return t|1}function hL(t,e,r,n,i,o){let s=o?e.classBindings:e.styleBindings,a=Fs(s),l=il(s);t[n]=r;let c=!1,u;if(Array.isArray(r)){let d=r;u=d[1],(u===null||Ic(d,u)>0)&&(c=!0)}else u=r;if(i)if(l!==0){let v=Fs(t[a+1]);t[n+1]=Bd(v,a),v!==0&&(t[v+1]=Bm(t[v+1],n)),t[a+1]=pL(t[a+1],n)}else t[n+1]=Bd(a,0),a!==0&&(t[a+1]=Bm(t[a+1],n)),a=n;else t[n+1]=Bd(l,0),a===0?a=n:t[l+1]=Bm(t[l+1],n),l=n;c&&(t[n+1]=Vg(t[n+1])),Lw(t,u,n,!0),Lw(t,u,n,!1),mL(e,u,t,n,o),s=Bd(a,l),o?e.classBindings=s:e.styleBindings=s}function mL(t,e,r,n,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ic(o,e)>=0&&(r[n+1]=Bg(r[n+1]))}function Lw(t,e,r,n){let i=t[r+1],o=e===null,s=n?Fs(i):il(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];gL(l,e)&&(a=!0,t[s+1]=n?Bg(c):Vg(c)),s=n?Fs(c):il(c)}a&&(t[r+1]=n?Vg(i):Bg(i))}function gL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ic(t,e)>=0:!1}var ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vL(t){return t.substring(ei.key,ei.keyEnd)}function yL(t){return bL(t),gS(t,vS(t,0,ei.textEnd))}function gS(t,e){let r=ei.textEnd;return r===e?-1:(e=ei.keyEnd=CL(t,ei.key=e,r),vS(t,e,r))}function bL(t){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=t.length}function vS(t,e,r){for(;e<r&&t.charCodeAt(e)<=32;)e++;return e}function CL(t,e,r){for(;e<r&&t.charCodeAt(e)>32;)e++;return e}function O(t,e,r){let n=Re(),i=al();if(Or(n,i,e)){let o=jt(),s=Ap();F0(o,s,n,t,e,n[Bt],r,!1)}return O}function jg(t,e,r,n,i){let o=e.inputs,s=i?"class":"style";V0(t,r,o[s],s,n)}function Oc(t,e,r){return yS(t,e,r,!1),Oc}function pe(t,e){return yS(t,e,null,!0),pe}function ar(t){_L(DL,wL,t,!0)}function wL(t,e){for(let r=yL(e);r>=0;r=gS(e,r))o0(t,vL(e),!0)}function yS(t,e,r,n){let i=Re(),o=jt(),s=Op(2);if(o.firstUpdatePass&&CS(o,t,s,n),e!==Vn&&Or(i,s,e)){let a=o.data[_i()];wS(o,a,i,i[Bt],t,i[s+1]=TL(e,r),n,s)}}function _L(t,e,r,n){let i=jt(),o=Op(2);i.firstUpdatePass&&CS(i,null,o,n);let s=Re();if(r!==Vn&&Or(s,o,r)){let a=i.data[_i()];if(_S(a,n)&&!bS(i,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(r=qm(l,r||"")),jg(i,a,s,r,n)}else kL(i,a,s,s[Bt],s[o+1],s[o+1]=ML(t,e,r),n,o)}}function bS(t,e){return e>=t.expandoStartIndex}function CS(t,e,r,n){let i=t.data;if(i[r+1]===null){let o=i[_i()],s=bS(t,r);_S(o,n)&&e===null&&!s&&(e=!1),e=xL(i,o,e,n),hL(i,o,e,r,s,n)}}function xL(t,e,r,n){let i=JN(t),o=n?e.residualClasses:e.residualStyles;if(i===null)(n?e.classBindings:e.styleBindings)===0&&(r=jm(null,t,e,r,n),r=xc(r,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(r=jm(i,t,e,r,n),o===null){let l=SL(t,e,n);l!==void 0&&Array.isArray(l)&&(l=jm(null,t,e,l[1],n),l=xc(l,e.attrs,n),EL(t,e,n,l))}else o=IL(t,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),r}function SL(t,e,r){let n=r?e.classBindings:e.styleBindings;if(il(n)!==0)return t[Fs(n)]}function EL(t,e,r,n){let i=r?e.classBindings:e.styleBindings;t[Fs(i)]=n}function IL(t,e,r){let n,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;n=xc(n,s,r)}return xc(n,e.attrs,r)}function jm(t,e,r,n,i){let o=null,s=r.directiveEnd,a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<s&&(o=e[a],n=xc(n,o.hostAttrs,i),o!==t);)a++;return t!==null&&(r.directiveStylingLast=a),n}function xc(t,e,r){let n=r?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),o0(t,s,r?!0:e[++o]))}return t===void 0?null:t}function ML(t,e,r){if(r==null||r==="")return or;let n=[],i=wr(r);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(n,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(n,o,i[o]);else typeof i=="string"&&e(n,i);return n}function DL(t,e,r){let n=String(e);n!==""&&!n.includes(" ")&&o0(t,n,r)}function kL(t,e,r,n,i,o,s,a){i===Vn&&(i=or);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let v=l<i.length?i[l+1]:void 0,C=c<o.length?o[c+1]:void 0,_=null,S;u===d?(l+=2,c+=2,v!==C&&(_=d,S=C)):d===null||u!==null&&u<d?(l+=2,_=u):(c+=2,_=d,S=C),_!==null&&wS(t,e,r,n,_,S,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}function wS(t,e,r,n,i,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=fL(c)?Vw(l,e,r,i,il(c),s):void 0;if(!hp(u)){hp(o)||dL(c)&&(o=Vw(l,null,r,i,a,s));let d=M_(_i(),r);SF(n,s,d,i,o)}}function Vw(t,e,r,n,i,o){let s=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,v=r[i+1];v===Vn&&(v=d?or:void 0);let C=d?Tm(v,n):u===n?v:void 0;if(c&&!hp(C)&&(C=Tm(l,n)),hp(C)&&(a=C,s))return a;let _=t[i+1];i=s?Fs(_):il(_)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Tm(l,n))}return a}function hp(t){return t!==void 0}function TL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=qn(wr(t)))),t}function _S(t,e){return(t.flags&(e?8:16))!==0}var Ug=class{destroy(e){}updateValue(e,r){}swap(e,r){let n=Math.min(e,r),i=Math.max(e,r),o=this.detach(i);if(i-n>1){let s=this.detach(n);this.attach(n,o),this.attach(i,s)}else this.attach(n,o)}move(e,r){this.attach(r,this.detach(e))}};function Um(t,e,r,n,i){return t===r&&Object.is(e,n)?1:Object.is(i(t,e),i(r,n))?-1:0}function OL(t,e,r){let n,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=t.at(o),u=e[o],d=Um(o,c,o,u,r);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let v=t.at(s),C=e[l],_=Um(s,v,l,C,r);if(_!==0){_<0&&t.updateValue(s,C),s--,l--;continue}let S=r(o,c),M=r(s,v),L=r(o,u);if(Object.is(L,M)){let re=r(l,C);Object.is(re,S)?(t.swap(o,s),t.updateValue(s,C),l--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(n??=new mp,i??=jw(t,o,s,r),$g(t,n,o,L))t.updateValue(o,u),o++,s++;else if(i.has(L))n.set(S,t.detach(o)),s--;else{let re=t.create(o,e[o]);t.attach(o,re),o++,s++}}for(;o<=l;)Bw(t,n,r,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let u=t.at(o),d=c.value,v=Um(o,u,o,d,r);if(v!==0)v<0&&t.updateValue(o,d),o++,c=l.next();else{n??=new mp,i??=jw(t,o,s,r);let C=r(o,d);if($g(t,n,o,C))t.updateValue(o,d),o++,s++,c=l.next();else if(!i.has(C))t.attach(o,t.create(o,d)),o++,s++,c=l.next();else{let _=r(o,u);n.set(_,t.detach(o)),s--}}}for(;!c.done;)Bw(t,n,r,t.length,c.value),c=l.next()}for(;o<=s;)t.destroy(t.detach(s--));n?.forEach(l=>{t.destroy(l)})}function $g(t,e,r,n){return e!==void 0&&e.has(n)?(t.attach(r,e.get(n)),e.delete(n),!0):!1}function Bw(t,e,r,n,i){if($g(t,e,n,r(n,i)))t.updateValue(n,i);else{let o=t.create(n,i);t.attach(n,o)}}function jw(t,e,r,n){let i=new Set;for(let o=e;o<=r;o++)i.add(n(o,t.at(o)));return i}var mp=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let r=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(r)?(this.kvMap.set(e,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,r){if(this.kvMap.has(e)){let n=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(n);)n=i.get(n);i.set(n,r)}else this.kvMap.set(e,r)}forEach(e){for(let[r,n]of this.kvMap)if(e(n,r),this._vMap!==void 0){let i=this._vMap;for(;i.has(n);)n=i.get(n),e(n,r)}}};function fe(t,e){xi("NgControlFlow");let r=Re(),n=al(),i=r[n]!==Vn?r[n]:-1,o=i!==-1?gp(r,ln+i):void 0,s=0;if(Or(r,n,t)){let a=Xe(null);try{if(o!==void 0&&Jx(o,s),t!==-1){let l=ln+t,c=gp(r,l),u=Gg(r[Ue],l),d=el(c,u.tView.ssrId),v=Dc(r,u,e,{dehydratedView:d});kc(c,v,s,Xa(u,d))}}finally{Xe(a)}}else if(o!==void 0){let a=Yx(o,s);a!==void 0&&(a[Pn]=e)}}var Hg=class{constructor(e,r,n){this.lContainer=e,this.$implicit=r,this.$index=n}get $count(){return this.lContainer.length-Nn}};function ze(t){return t}function Rr(t,e){return e}var zg=class{constructor(e,r,n){this.hasEmptyBlock=e,this.trackByFn=r,this.liveCollection=n}};function Me(t,e,r,n,i,o,s,a,l,c,u,d,v){xi("NgControlFlow");let C=Re(),_=jt(),S=l!==void 0,M=Re(),L=a?s.bind(M[Cr][Pn]):s,re=new zg(S,L);M[ln+t]=re,fp(C,_,t+1,e,r,n,i,Oo(_.consts,o)),S&&fp(C,_,t+2,l,c,u,d,Oo(_.consts,v))}var qg=class extends Ug{constructor(e,r,n){super(),this.lContainer=e,this.hostLView=r,this.templateTNode=n,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Nn}at(e){return this.getLView(e)[Pn].$implicit}attach(e,r){let n=r[Ya];this.needsIndexUpdate||=e!==this.length,kc(this.lContainer,r,e,Xa(this.templateTNode,n))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,AL(this.lContainer,e)}create(e,r){let n=el(this.lContainer,this.templateTNode.tView.ssrId),i=Dc(this.hostLView,this.templateTNode,new Hg(this.lContainer,r,e),{dehydratedView:n});return this.operationsCounter?.recordCreate(),i}destroy(e){Vp(e[Ue],e),this.operationsCounter?.recordDestroy()}updateValue(e,r){this.getLView(e)[Pn].$implicit=r}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Pn].$index=e}getLView(e){return PL(this.lContainer,e)}};function De(t){let e=Xe(null),r=_i();try{let n=Re(),i=n[Ue],o=n[r],s=r+1,a=gp(n,s);if(o.liveCollection===void 0){let c=Gg(i,s);o.liveCollection=new qg(a,n,c)}else o.liveCollection.reset();let l=o.liveCollection;if(OL(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=al(),u=l.length===0;if(Or(n,c,u)){let d=r+2,v=gp(n,d);if(u){let C=Gg(i,d),_=el(v,C.tView.ssrId),S=Dc(n,C,void 0,{dehydratedView:_});kc(v,S,0,Xa(C,_))}else Jx(v,0)}}}finally{Xe(e)}}function gp(t,e){return t[e]}function AL(t,e){return Cc(t,e)}function PL(t,e){return Yx(t,e)}function Gg(t,e){return u0(t,e)}function NL(t,e,r,n,i,o){let s=e.consts,a=Oo(s,i),l=cl(e,t,2,n,a);return L0(e,r,l,Oo(s,o)),l.attrs!==null&&cp(l,l.attrs,!1),l.mergedAttrs!==null&&cp(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function f(t,e,r,n){let i=Re(),o=jt(),s=ln+t,a=i[Bt],l=o.firstCreatePass?NL(s,o,i,e,r,n):o.data[s],c=RL(o,i,l,a,e,t);i[s]=c;let u=Mp(l);return Vs(l,!0),Fx(a,c,l),!nL(l)&&Pp()&&Bp(o,i,c,l),jN()===0&&Ao(c,i),UN(),u&&(P0(o,i,l),A0(o,l,i)),n!==null&&N0(i,l),f}function h(){let t=En();p0()?f0():(t=t.parent,Vs(t,!1));let e=t;HN(e)&&zN(),$N();let r=jt();return r.firstCreatePass&&(Rp(r,t),c0(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&iR(e)&&jg(r,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&oR(e)&&jg(r,e,Re(),e.stylesWithoutHost,!1),h}function I(t,e,r,n){return f(t,e,r,n),h(),I}var RL=(t,e,r,n,i,o)=>(Np(!0),Ix(n,i,eR()));function FL(t,e,r,n,i){let o=e.consts,s=Oo(o,n),a=cl(e,t,8,"ng-container",s);s!==null&&cp(a,s,!0);let l=Oo(o,i);return L0(e,r,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Lo(t,e,r){let n=Re(),i=jt(),o=t+ln,s=i.firstCreatePass?FL(o,i,n,e,r):i.data[o];Vs(s,!0);let a=LL(i,n,s,t);return n[o]=a,Pp()&&Bp(i,n,a,s),Ao(a,n),Mp(s)&&(P0(i,n,s),A0(i,s,n)),r!=null&&N0(n,s),Lo}function Vo(){let t=En(),e=jt();return p0()?f0():(t=t.parent,Vs(t,!1)),e.firstCreatePass&&(Rp(e,t),c0(t)&&e.queries.elementEnd(t)),Vo}function It(t,e,r){return Lo(t,e,r),Vo(),It}var LL=(t,e,r,n)=>(Np(!0),uF(e[Bt],""));function ve(){return Re()}var _s=void 0;function VL(t){let e=t,r=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return r===1&&n===0?1:5}var BL=["en",[["a","p"],["AM","PM"],_s],[["AM","PM"],_s,_s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_s,"{1} 'at' {0}",_s],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",VL],$m={};function lr(t){let e=jL(t),r=Uw(e);if(r)return r;let n=e.split("-")[0];if(r=Uw(n),r)return r;if(n==="en")return BL;throw new Ce(701,!1)}function Uw(t){return t in $m||($m[t]=Gi.ng&&Gi.ng.common&&Gi.ng.common.locales&&Gi.ng.common.locales[t]),$m[t]}var $t=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}($t||{});function jL(t){return t.toLowerCase().replace(/_/g,"-")}var vp="en-US",UL="USD";var $L=vp;function HL(t){typeof t=="string"&&($L=t.toLowerCase().replace(/_/g,"-"))}var zL=(t,e,r)=>{};function P(t,e,r,n){let i=Re(),o=jt(),s=En();return xS(o,i,i[Bt],s,t,e,n),P}function qL(t,e,r,n){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===r&&i[o+1]===n){let a=e[Jd],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function xS(t,e,r,n,i,o,s){let a=Mp(n),c=t.firstCreatePass&&Kx(t),u=e[Pn],d=Wx(e),v=!0;if(n.type&3||s){let S=Nr(n,e),M=s?s(S):S,L=d.length,re=s?_e=>s(Ci(_e[n.index])):n.index,ue=null;if(!s&&a&&(ue=qL(t,e,i,n.index)),ue!==null){let _e=ue.__ngLastListenerFn__||ue;_e.__ngNextListenerFn__=o,ue.__ngLastListenerFn__=o,v=!1}else{o=Hw(n,e,u,o),zL(S,i,o);let _e=r.listen(M,i,o);d.push(o,_e),c&&c.push(i,re,L,L+1)}}else o=Hw(n,e,u,o);let C=n.outputs,_;if(v&&C!==null&&(_=C[i])){let S=_.length;if(S)for(let M=0;M<S;M+=2){let L=_[M],re=_[M+1],Oe=e[L][re].subscribe(o),V=d.length;d.push(o,Oe),c&&c.push(i,n.index,V,-(V+1))}}}function $w(t,e,r,n){let i=Xe(null);try{return gi(6,e,r),r(n)!==!1}catch(o){return Zx(t,o),!1}finally{gi(7,e,r),Xe(i)}}function Hw(t,e,r,n){return function i(o){if(o===Function)return n;let s=t.componentOffset>-1?No(t.index,e):e;U0(s,5);let a=$w(e,r,n,o),l=i.__ngNextListenerFn__;for(;l;)a=$w(e,r,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function N(t=1){return XN(t)}function GL(t,e){let r=null,n=cN(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){r=i;continue}if(n===null?c_(t,o,!0):pN(n,o))return i}return r}function SS(t){let e=Re()[Cr][sr];if(!e.projection){let r=t?t.length:1,n=e.projection=eN(r,null),i=n.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?GL(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o)}o=o.next}}}function ES(t,e=0,r,n,i,o){let s=Re(),a=jt(),l=n?t+1:null;l!==null&&fp(s,a,l,n,i,o,null,r);let c=cl(a,ln+t,16,null,r||null);c.projection===null&&(c.projection=e),f0();let d=!s[Ya]||P_();s[Cr][sr].projection[c.projection]===null&&l!==null?WL(s,a,l):d&&(c.flags&32)!==32&&_F(a,s,c)}function WL(t,e,r){let n=ln+r,i=e.data[n],o=t[n],s=el(o,i.tView.ssrId),a=Dc(t,i,void 0,{dehydratedView:s});kc(o,a,0,Xa(i,s))}function G0(t,e,r){return IS(t,"",e,"",r),G0}function IS(t,e,r,n,i){let o=Re(),s=mS(o,e,r,n);if(s!==Vn){let a=jt(),l=Ap();F0(a,l,o,t,s,o[Bt],i,!1)}return IS}function MS(t,e,r,n){U3(t,e,r,n)}function Ac(t,e,r){j3(t,e,r)}function js(t){let e=Re(),r=jt(),n=L_();h0(n+1);let i=H0(r,n);if(t.dirty&&FN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=z3(e,n);t.reset(o,IR),t.notifyOnChanges()}return!0}return!1}function Us(){return B3(Re(),L_())}function KL(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}function nn(t){let e=GN();return Dp(e,ln+t)}function y(t,e=""){let r=Re(),n=jt(),i=t+ln,o=n.firstCreatePass?cl(n,i,1,e,null):n.data[i],s=ZL(n,r,o,e,t);r[i]=s,Pp()&&Bp(n,r,s,o),Vs(o,!1)}var ZL=(t,e,r,n,i)=>(Np(!0),lF(e[Bt],n));function k(t){return A("",t,""),k}function A(t,e,r){let n=Re(),i=mS(n,t,e,r);return i!==Vn&&B0(n,_i(),i),A}function at(t,e,r,n,i){let o=Re(),s=cL(o,t,e,r,n,i);return s!==Vn&&B0(o,_i(),s),at}function W0(t,e,r,n,i,o,s,a,l,c,u,d,v,C,_){let S=Re(),M=uL(S,t,e,r,n,i,o,s,a,l,c,u,d,v,C,_);return M!==Vn&&B0(S,_i(),M),W0}function $s(t,e,r){dS(e)&&(e=e());let n=Re(),i=al();if(Or(n,i,e)){let o=jt(),s=Ap();F0(o,s,n,t,e,n[Bt],r,!1)}return $s}function dl(t,e){let r=dS(t);return r&&t.set(e),r}function Hs(t,e){let r=Re(),n=jt(),i=En();return xS(n,r,r[Bt],i,t,e),Hs}function YL(t,e,r){let n=jt();if(n.firstCreatePass){let i=To(t);Wg(r,n.data,n.blueprint,i,!0),Wg(e,n.data,n.blueprint,i,!1)}}function Wg(t,e,r,n,i){if(t=zn(t),Array.isArray(t))for(let o=0;o<t.length;o++)Wg(t[o],e,r,n,i);else{let o=jt(),s=Re(),a=En(),l=Za(t)?t:zn(t.provide),c=b_(t),u=a.providerIndexes&1048575,d=a.directiveStart,v=a.providerIndexes>>20;if(Za(t)||!t.multi){let C=new Os(c,i,T),_=zm(l,e,i?u:u+v,d);_===-1?(og(rp(a,s),o,l),Hm(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(C),s.push(C)):(r[_]=C,s[_]=C)}else{let C=zm(l,e,u+v,d),_=zm(l,e,u,u+v),S=C>=0&&r[C],M=_>=0&&r[_];if(i&&!M||!i&&!S){og(rp(a,s),o,l);let L=XL(i?QL:JL,r.length,i,n,c);!i&&M&&(r[_].providerFactory=L),Hm(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(L),s.push(L)}else{let L=DS(r[i?_:C],c,!i&&n);Hm(o,t,C>-1?C:_,L)}!i&&n&&M&&r[_].componentProviders++}}}function Hm(t,e,r,n){let i=Za(e),o=_N(e);if(i||o){let l=(o?zn(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(r);u===-1?c.push(r,[n,l]):c[u+1].push(n,l)}else c.push(r,l)}}}function DS(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function zm(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function JL(t,e,r,n){return Kg(this.multi,[])}function QL(t,e,r,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=As(r,r[Ue],this.providerFactory.index,n);o=a.slice(0,s),Kg(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Kg(i,o);return o}function Kg(t,e){for(let r=0;r<t.length;r++){let n=t[r];e.push(n())}return e}function XL(t,e,r,n,i){let o=new Os(t,r,T);return o.multi=[],o.index=e,o.componentProviders=0,DS(o,i,n&&!r),o}function fn(t,e=[]){return r=>{r.providersResolver=(n,i)=>YL(n,i?i(t):t,e)}}var eV=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=g_(!1,n.type),o=i.length>0?zp([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Z({token:e,providedIn:"environment",factory:()=>new e(ie(Gn))});let t=e;return t})();function ge(t){xi("NgStandalone"),t.getStandaloneInjector=e=>e.get(eV).getOrCreateStandaloneInjector(t)}function cn(t,e,r){let n=sl()+t,i=Re();return i[n]===Vn?qp(i,n,r?e.call(r):e()):eL(i,n)}function un(t,e,r,n){return kS(Re(),sl(),t,e,r,n)}function Bo(t,e,r,n,i){return TS(Re(),sl(),t,e,r,n,i)}function K0(t,e){let r=t[e];return r===Vn?void 0:r}function kS(t,e,r,n,i,o){let s=e+r;return Or(t,s,i)?qp(t,s+1,o?n.call(o,i):n(i)):K0(t,s+1)}function TS(t,e,r,n,i,o,s){let a=e+r;return _c(t,a,i,o)?qp(t,a+2,s?n.call(s,i,o):n(i,o)):K0(t,a+2)}function tV(t,e,r,n,i,o,s,a){let l=e+r;return fS(t,l,i,o,s)?qp(t,l+3,a?n.call(a,i,o,s):n(i,o,s)):K0(t,l+3)}function w(t,e){let r=jt(),n,i=t+ln;r.firstCreatePass?(n=nV(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];let o=n.factory||(n.factory=Is(n.type,!0)),s,a=ir(T);try{let l=np(!1),c=o();return np(l),KL(r,Re(),i,c),c}finally{ir(a)}}function nV(t,e){if(e)for(let r=e.length-1;r>=0;r--){let n=e[r];if(t===n.name)return n}}function x(t,e,r){let n=t+ln,i=Re(),o=Dp(i,n);return Z0(i,n)?kS(i,sl(),e,o.transform,r,o):o.transform(r)}function $e(t,e,r,n){let i=t+ln,o=Re(),s=Dp(o,i);return Z0(o,i)?TS(o,sl(),e,s.transform,r,n,s):s.transform(r,n)}function OS(t,e,r,n,i){let o=t+ln,s=Re(),a=Dp(s,o);return Z0(s,o)?tV(s,sl(),e,a.transform,r,n,i,a):a.transform(r,n,i)}function Z0(t,e){return t[Ue].data[e].pure}function Mn(t,e){return Hp(t,e)}var Gp=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var AS=new le("");function jo(t){return!!t&&typeof t.then=="function"}function Y0(t){return!!t&&typeof t.subscribe=="function"}var pl=new le(""),PS=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=H(pl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(jo(s))n.push(s);else if(Y0(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pc=new le("");function rV(){kC(()=>{throw new Ce(600,!1)})}function iV(t){return t.isBoundToModule}var oV=10;function sV(t,e,r){try{let n=r();return jo(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}var Si=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(SR),this.afterRenderManager=H(hS),this.zonelessEnabled=H($0),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ze,this.afterTick=new Ze,this.componentTypes=[],this.components=[],this.isStable=H(Ro).hasPendingTasks.pipe(Se(n=>!n)),this._injector=H(Gn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof lp;if(!this._injector.get(PS).done){let C=!o&&p_(n),_=!1;throw new Ce(405,_)}let a;o?a=n:a=this._injector.get(nl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=iV(a)?void 0:this._injector.get(Po),c=i||a.selector,u=a.create(Wn.NULL,[],c,l),d=u.location.nativeElement,v=u.injector.get(AS,null);return v?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),qd(this.components,u),v?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ce(101,!1);let n=Xe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Xe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(rl,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<oV;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)aV(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>kp(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;qd(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(Pc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ce(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qd(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function aV(t,e,r,n){if(!r&&!kp(t))return;eS(t,e,r&&!n?0:1)}var Zg=class{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}},Wp=(()=>{let e=class e{compileModuleSync(n){return new Rg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),o=f_(n),s=Ex(o.declarations).reduce((a,l)=>{let c=Wi(l);return c&&a.push(new Rs(c)),a},[]);return new Zg(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lV=(()=>{let e=class e{constructor(){this.zone=H(Dt),this.changeDetectionScheduler=H(tl),this.applicationRef=H(Si)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cV=new le("",{factory:()=>!1});function NS({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:r}){return t??=()=>new Dt(Ee(j({},FS()),{scheduleInRootZone:r})),[{provide:Dt,useFactory:t},{provide:Ka,multi:!0,useFactory:()=>{let n=H(lV,{optional:!0});return()=>n.initialize()}},{provide:Ka,multi:!0,useFactory:()=>{let n=H(uV);return()=>{n.initialize()}}},e===!0?{provide:iS,useValue:!0}:[],{provide:oS,useValue:r??tx}]}function RS(t){let e=t?.ignoreChangesOutsideZone,r=t?.scheduleInRootZone,n=NS({ngZoneFactory:()=>{let i=FS(t);return i.scheduleInRootZone=r,i.shouldCoalesceEventChangeDetection&&xi("NgZone_CoalesceEvent"),new Dt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:r});return Ls([{provide:cV,useValue:!0},{provide:$0,useValue:!1},n])}function FS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var uV=(()=>{let e=class e{constructor(){this.subscription=new Xt,this.initialized=!1,this.zone=H(Dt),this.pendingTasks=H(Ro)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Dt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Dt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dV=(()=>{let e=class e{constructor(){this.appRef=H(Si),this.taskService=H(Ro),this.ngZone=H(Dt),this.zonelessEnabled=H($0),this.disableScheduling=H(iS,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Xt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(op):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(H(oS,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ug||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Cw:nx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(op+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pV(){return typeof $localize<"u"&&$localize.locale||vp}var fl=new le("",{providedIn:"root",factory:()=>H(fl,Ye.Optional|Ye.SkipSelf)||pV()}),LS=new le("",{providedIn:"root",factory:()=>UL});var VS=new le("");function jd(t){return!!t.platformInjector}function fV(t){let e=jd(t)?t.r3Injector:t.moduleRef.injector,r=e.get(Dt);return r.run(()=>{jd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let n=e.get(Zi,null),i;if(r.runOutsideAngular(()=>{i=r.onError.subscribe({next:o=>{n.handleError(o)}})}),jd(t)){let o=()=>e.destroy(),s=t.platformInjector.get(VS);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{qd(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return sV(n,r,()=>{let o=e.get(PS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(fl,vp);if(HL(s||vp),jd(t)){let a=e.get(Si);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return hV(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function hV(t,e){let r=t.injector.get(Si);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(n=>r.bootstrap(n));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(r);else throw new Ce(-403,!1);e.push(t)}var Gd=null;function mV(t=[],e){return Wn.create({name:e,providers:[{provide:xp,useValue:"platform"},{provide:VS,useValue:new Set([()=>Gd=null])},...t]})}function gV(t=[]){if(Gd)return Gd;let e=mV(t);return Gd=e,rV(),vV(e),e}function vV(t){t.get(x0,null)?.forEach(r=>r())}var Fr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yV;let t=e;return t})();function yV(t){return bV(En(),Re(),(t&16)===16)}function bV(t,e,r){if(Ip(t)&&!r){let n=No(t.index,e);return new Ps(n,n)}else if(t.type&175){let n=e[Cr];return new Ps(n,e)}return null}var Yg=class{constructor(){}supports(e){return pS(e)}create(e){return new Jg(e)}},CV=(t,e)=>e,Jg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||CV}forEachItem(e){let r;for(r=this._itHead;r!==null;r=r._next)e(r)}forEachOperation(e){let r=this._itHead,n=this._removalsHead,i=0,o=null;for(;r||n;){let s=!n||r&&r.currentIndex<zw(n,i,o)?r:n,a=zw(s,i,o),l=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(r=r._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let v=0;v<c;v++){let C=v<o.length?o[v]:o[v]=0,_=C+v;u<=_&&_<c&&(o[v]=C+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)e(r)}forEachMovedItem(e){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)e(r)}forEachIdentityChange(e){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)e(r)}diff(e){if(e==null&&(e=[]),!pS(e))throw new Ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._itHead,n=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,o,s,a),n=!0):(n&&(r=this._verifyReinsertion(r,o,s,a)),Object.is(r.item,o)||this._addIdentityChange(r,o)),r=r._next}else i=0,X3(e,a=>{s=this._trackByFn(i,a),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,a,s,i),n=!0):(n&&(r=this._verifyReinsertion(r,a,s,i)),Object.is(r.item,a)||this._addIdentityChange(r,a)),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,r,n,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,i),e!==null?(Object.is(e.item,r)||this._addIdentityChange(e,r),this._moveAfter(e,o,i)):e=this._addAfter(new Qg(r,n),o,i)),e}_verifyReinsertion(e,r,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let r=e._next;this._addToRemovals(this._unlink(e)),e=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,r,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,r,n),this._addToMoves(e,n),e}_moveAfter(e,r,n){return this._unlink(e),this._insertAfter(e,r,n),this._addToMoves(e,n),e}_addAfter(e,r,n){return this._insertAfter(e,r,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,r,n){let i=r===null?this._itHead:r._next;return e._next=i,e._prev=r,i===null?this._itTail=e:i._prev=e,r===null?this._itHead=e:r._next=e,this._linkedRecords===null&&(this._linkedRecords=new yp),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let r=e._prev,n=e._next;return r===null?this._itHead=n:r._next=n,n===null?this._itTail=r:n._prev=r,e}_addToMoves(e,r){return e.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,r){return e.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Qg=class{constructor(e,r){this.item=e,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Xg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,r){let n;for(n=this._head;n!==null;n=n._nextDup)if((r===null||r<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let r=e._prevDup,n=e._nextDup;return r===null?this._head=n:r._nextDup=n,n===null?this._tail=r:n._prevDup=r,this._head===null}},yp=class{constructor(){this.map=new Map}put(e){let r=e.trackById,n=this.map.get(r);n||(n=new Xg,this.map.set(r,n)),n.add(e)}get(e,r){let n=e,i=this.map.get(n);return i?i.get(e,r):null}remove(e){let r=e.trackById;return this.map.get(r).remove(e)&&this.map.delete(r),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zw(t,e,r){let n=t.previousIndex;if(n===null)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+e+i}var e0=class{constructor(){}supports(e){return e instanceof Map||z0(e)}create(){return new t0}},t0=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let r;for(r=this._mapHead;r!==null;r=r._next)e(r)}forEachPreviousItem(e){let r;for(r=this._previousMapHead;r!==null;r=r._nextPrevious)e(r)}forEachChangedItem(e){let r;for(r=this._changesHead;r!==null;r=r._nextChanged)e(r)}forEachAddedItem(e){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)e(r)}forEachRemovedItem(e){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)e(r)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||z0(e)))throw new Ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,i)=>{if(r&&r.key===i)this._maybeAddToChanges(r,n),this._appendAfter=r,r=r._next;else{let o=this._getOrCreateRecordForKey(i,n);r=this._insertBeforeOrAppend(r,o)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let n=r;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,r){if(e){let n=e._prev;return r._next=e,r._prev=n,e._prev=r,n&&(n._next=r),e===this._mapHead&&(this._mapHead=r),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(e,r){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,r);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let n=new n0(e);return this._records.set(e,n),n.currentValue=r,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,r){Object.is(r,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=r,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,r){e instanceof Map?e.forEach(r):Object.keys(e).forEach(n=>r(e[n],n))}},n0=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function qw(){return new J0([new Yg])}var J0=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,i){if(i!=null){let o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||qw()),deps:[[e,new _p,new Ec]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i!=null)return i;throw new Ce(901,!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:qw});let t=e;return t})();function Gw(){return new Kp([new e0])}var Kp=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,i){if(i){let o=i.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Gw()),deps:[[e,new _p,new Ec]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i)return i;throw new Ce(901,!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:Gw});let t=e;return t})();function BS(t){try{let{rootComponent:e,appProviders:r,platformProviders:n}=t,i=gV(n),o=[NS({}),{provide:tl,useExisting:dV},...r||[]],s=new pp({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return fV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var jS=new le("");function Lr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Q0(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function Nc(t,e){xi("NgSignals");let r=IC(t);return e?.equal&&(r[ji].equal=e.equal),r}function ii(t){let e=Xe(null);try{return t()}finally{Xe(e)}}function US(t,e){let r=Wi(t),n=e.elementInjector||Sp();return new Rs(r).create(n,e.projectableNodes,e.hostElement,e.environmentInjector)}function $S(t){let e=Wi(t);if(!e)return null;let r=new Rs(e);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var QS=null;function so(){return QS}function XS(t){QS??=t}var rf=class{};var qt=new le(""),fv=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>H(_V),providedIn:"platform"});let t=e;return t})(),eE=new le(""),_V=(()=>{let e=class e extends fv{constructor(){super(),this._doc=H(qt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return so().getBaseHref(this._doc)}onPopState(n){let i=so().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=so().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function hv(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function HS(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function io(t){return t&&t[0]!=="?"?"?"+t:t}var ao=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>H(mv),providedIn:"root"});let t=e;return t})(),tE=new le(""),mv=(()=>{let e=class e extends ao{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??H(qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hv(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+io(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+io(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+io(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(ie(fv),ie(tE,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nE=(()=>{let e=class e extends ao{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=hv(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+io(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+io(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(ie(fv),ie(tE,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),ml=(()=>{let e=class e{constructor(n){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=EV(HS(zS(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+io(i))}normalize(n){return e.stripTrailingSlash(SV(this._basePath,zS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+io(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+io(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};e.normalizeQueryParams=io,e.joinWithSlash=hv,e.stripTrailingSlash=HS,e.\u0275fac=function(i){return new(i||e)(ie(ao))},e.\u0275prov=Z({token:e,factory:()=>xV(),providedIn:"root"});let t=e;return t})();function xV(){return new ml(ie(ao))}function SV(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function zS(t){return t.replace(/\/index.html$/,"")}function EV(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}var rE={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},gv=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(gv||{});var Kn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Kn||{}),_t=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(_t||{}),_r=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(_r||{}),Dn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function IV(t){return lr(t)[$t.LocaleId]}function MV(t,e,r){let n=lr(t),i=[n[$t.DayPeriodsFormat],n[$t.DayPeriodsStandalone]],o=Vr(i,e);return Vr(o,r)}function DV(t,e,r){let n=lr(t),i=[n[$t.DaysFormat],n[$t.DaysStandalone]],o=Vr(i,e);return Vr(o,r)}function kV(t,e,r){let n=lr(t),i=[n[$t.MonthsFormat],n[$t.MonthsStandalone]],o=Vr(i,e);return Vr(o,r)}function TV(t,e){let n=lr(t)[$t.Eras];return Vr(n,e)}function Zp(t,e){let r=lr(t);return Vr(r[$t.DateFormat],e)}function Yp(t,e){let r=lr(t);return Vr(r[$t.TimeFormat],e)}function Jp(t,e){let n=lr(t)[$t.DateTimeFormat];return Vr(n,e)}function si(t,e){let r=lr(t),n=r[$t.NumberSymbols][e];if(typeof n>"u"){if(e===Dn.CurrencyDecimal)return r[$t.NumberSymbols][Dn.Decimal];if(e===Dn.CurrencyGroup)return r[$t.NumberSymbols][Dn.Group]}return n}function iE(t,e){return lr(t)[$t.NumberFormats][e]}function OV(t){return lr(t)[$t.Currencies]}function oE(t){if(!t[$t.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[$t.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function AV(t){let e=lr(t);return oE(e),(e[$t.ExtraData][2]||[]).map(n=>typeof n=="string"?ev(n):[ev(n[0]),ev(n[1])])}function PV(t,e,r){let n=lr(t);oE(n);let i=[n[$t.ExtraData][0],n[$t.ExtraData][1]],o=Vr(i,e)||[];return Vr(o,r)||[]}function Vr(t,e){for(let r=e;r>-1;r--)if(typeof t[r]<"u")return t[r];throw new Error("Locale data API: locale data undefined")}function ev(t){let[e,r]=t.split(":");return{hours:+e,minutes:+r}}function NV(t,e,r="en"){let n=OV(r)[t]||rE[t]||[],i=n[1];return e==="narrow"&&typeof i=="string"?i:n[0]||t}var RV=2;function FV(t){let e,r=rE[t];return r&&(e=r[2]),typeof e=="number"?e:RV}var LV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Qp={},VV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,oo=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(oo||{}),dt=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(dt||{}),ut=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ut||{});function BV(t,e,r,n){let i=KV(t);e=ro(r,e)||e;let s=[],a;for(;e;)if(a=VV.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let l=i.getTimezoneOffset();n&&(l=aE(n,l),i=WV(i,n,!0));let c="";return s.forEach(u=>{let d=qV(u);c+=d?d(i,r,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function of(t,e,r){let n=new Date(0);return n.setFullYear(t,e,r),n.setHours(0,0,0),n}function ro(t,e){let r=IV(t);if(Qp[r]??={},Qp[r][e])return Qp[r][e];let n="";switch(e){case"shortDate":n=Zp(t,_r.Short);break;case"mediumDate":n=Zp(t,_r.Medium);break;case"longDate":n=Zp(t,_r.Long);break;case"fullDate":n=Zp(t,_r.Full);break;case"shortTime":n=Yp(t,_r.Short);break;case"mediumTime":n=Yp(t,_r.Medium);break;case"longTime":n=Yp(t,_r.Long);break;case"fullTime":n=Yp(t,_r.Full);break;case"short":let i=ro(t,"shortTime"),o=ro(t,"shortDate");n=Xp(Jp(t,_r.Short),[i,o]);break;case"medium":let s=ro(t,"mediumTime"),a=ro(t,"mediumDate");n=Xp(Jp(t,_r.Medium),[s,a]);break;case"long":let l=ro(t,"longTime"),c=ro(t,"longDate");n=Xp(Jp(t,_r.Long),[l,c]);break;case"full":let u=ro(t,"fullTime"),d=ro(t,"fullDate");n=Xp(Jp(t,_r.Full),[u,d]);break}return n&&(Qp[r][e]=n),n}function Xp(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(r,n){return e!=null&&n in e?e[n]:r})),t}function oi(t,e,r="-",n,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=r));let s=String(t);for(;s.length<e;)s="0"+s;return n&&(s=s.slice(s.length-e)),o+s}function jV(t,e){return oi(t,3).substring(0,e)}function rn(t,e,r=0,n=!1,i=!1){return function(o,s){let a=UV(t,o);if((r>0||a>-r)&&(a+=r),t===dt.Hours)a===0&&r===-12&&(a=12);else if(t===dt.FractionalSeconds)return jV(a,e);let l=si(s,Dn.MinusSign);return oi(a,e,l,n,i)}}function UV(t,e){switch(t){case dt.FullYear:return e.getFullYear();case dt.Month:return e.getMonth();case dt.Date:return e.getDate();case dt.Hours:return e.getHours();case dt.Minutes:return e.getMinutes();case dt.Seconds:return e.getSeconds();case dt.FractionalSeconds:return e.getMilliseconds();case dt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Mt(t,e,r=Kn.Format,n=!1){return function(i,o){return $V(i,o,t,e,r,n)}}function $V(t,e,r,n,i,o){switch(r){case ut.Months:return kV(e,i,n)[t.getMonth()];case ut.Days:return DV(e,i,n)[t.getDay()];case ut.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let c=AV(e),u=PV(e,i,n),d=c.findIndex(v=>{if(Array.isArray(v)){let[C,_]=v,S=s>=C.hours&&a>=C.minutes,M=s<_.hours||s===_.hours&&a<_.minutes;if(C.hours<_.hours){if(S&&M)return!0}else if(S||M)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return MV(e,i,n)[s<12?0:1];case ut.Eras:return TV(e,n)[t.getFullYear()<=0?0:1];default:let l=r;throw new Error(`unexpected translation type ${l}`)}}function ef(t){return function(e,r,n){let i=-1*n,o=si(r,Dn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case oo.Short:return(i>=0?"+":"")+oi(s,2,o)+oi(Math.abs(i%60),2,o);case oo.ShortGMT:return"GMT"+(i>=0?"+":"")+oi(s,1,o);case oo.Long:return"GMT"+(i>=0?"+":"")+oi(s,2,o)+":"+oi(Math.abs(i%60),2,o);case oo.Extended:return n===0?"Z":(i>=0?"+":"")+oi(s,2,o)+":"+oi(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var HV=0,nf=4;function zV(t){let e=of(t,HV,1).getDay();return of(t,0,1+(e<=nf?nf:nf+7)-e)}function sE(t){let e=t.getDay(),r=e===0?-3:nf-e;return of(t.getFullYear(),t.getMonth(),t.getDate()+r)}function tv(t,e=!1){return function(r,n){let i;if(e){let o=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,s=r.getDate();i=1+Math.floor((s+o)/7)}else{let o=sE(r),s=zV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return oi(i,t,si(n,Dn.MinusSign))}}function tf(t,e=!1){return function(r,n){let o=sE(r).getFullYear();return oi(o,t,si(n,Dn.MinusSign),e)}}var nv={};function qV(t){if(nv[t])return nv[t];let e;switch(t){case"G":case"GG":case"GGG":e=Mt(ut.Eras,_t.Abbreviated);break;case"GGGG":e=Mt(ut.Eras,_t.Wide);break;case"GGGGG":e=Mt(ut.Eras,_t.Narrow);break;case"y":e=rn(dt.FullYear,1,0,!1,!0);break;case"yy":e=rn(dt.FullYear,2,0,!0,!0);break;case"yyy":e=rn(dt.FullYear,3,0,!1,!0);break;case"yyyy":e=rn(dt.FullYear,4,0,!1,!0);break;case"Y":e=tf(1);break;case"YY":e=tf(2,!0);break;case"YYY":e=tf(3);break;case"YYYY":e=tf(4);break;case"M":case"L":e=rn(dt.Month,1,1);break;case"MM":case"LL":e=rn(dt.Month,2,1);break;case"MMM":e=Mt(ut.Months,_t.Abbreviated);break;case"MMMM":e=Mt(ut.Months,_t.Wide);break;case"MMMMM":e=Mt(ut.Months,_t.Narrow);break;case"LLL":e=Mt(ut.Months,_t.Abbreviated,Kn.Standalone);break;case"LLLL":e=Mt(ut.Months,_t.Wide,Kn.Standalone);break;case"LLLLL":e=Mt(ut.Months,_t.Narrow,Kn.Standalone);break;case"w":e=tv(1);break;case"ww":e=tv(2);break;case"W":e=tv(1,!0);break;case"d":e=rn(dt.Date,1);break;case"dd":e=rn(dt.Date,2);break;case"c":case"cc":e=rn(dt.Day,1);break;case"ccc":e=Mt(ut.Days,_t.Abbreviated,Kn.Standalone);break;case"cccc":e=Mt(ut.Days,_t.Wide,Kn.Standalone);break;case"ccccc":e=Mt(ut.Days,_t.Narrow,Kn.Standalone);break;case"cccccc":e=Mt(ut.Days,_t.Short,Kn.Standalone);break;case"E":case"EE":case"EEE":e=Mt(ut.Days,_t.Abbreviated);break;case"EEEE":e=Mt(ut.Days,_t.Wide);break;case"EEEEE":e=Mt(ut.Days,_t.Narrow);break;case"EEEEEE":e=Mt(ut.Days,_t.Short);break;case"a":case"aa":case"aaa":e=Mt(ut.DayPeriods,_t.Abbreviated);break;case"aaaa":e=Mt(ut.DayPeriods,_t.Wide);break;case"aaaaa":e=Mt(ut.DayPeriods,_t.Narrow);break;case"b":case"bb":case"bbb":e=Mt(ut.DayPeriods,_t.Abbreviated,Kn.Standalone,!0);break;case"bbbb":e=Mt(ut.DayPeriods,_t.Wide,Kn.Standalone,!0);break;case"bbbbb":e=Mt(ut.DayPeriods,_t.Narrow,Kn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Mt(ut.DayPeriods,_t.Abbreviated,Kn.Format,!0);break;case"BBBB":e=Mt(ut.DayPeriods,_t.Wide,Kn.Format,!0);break;case"BBBBB":e=Mt(ut.DayPeriods,_t.Narrow,Kn.Format,!0);break;case"h":e=rn(dt.Hours,1,-12);break;case"hh":e=rn(dt.Hours,2,-12);break;case"H":e=rn(dt.Hours,1);break;case"HH":e=rn(dt.Hours,2);break;case"m":e=rn(dt.Minutes,1);break;case"mm":e=rn(dt.Minutes,2);break;case"s":e=rn(dt.Seconds,1);break;case"ss":e=rn(dt.Seconds,2);break;case"S":e=rn(dt.FractionalSeconds,1);break;case"SS":e=rn(dt.FractionalSeconds,2);break;case"SSS":e=rn(dt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ef(oo.Short);break;case"ZZZZZ":e=ef(oo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ef(oo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ef(oo.Long);break;default:return null}return nv[t]=e,e}function aE(t,e){t=t.replace(/:/g,"");let r=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(r)?e:r}function GV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function WV(t,e,r){let n=r?-1:1,i=t.getTimezoneOffset(),o=aE(e,i);return GV(t,n*(o-i))}function KV(t){if(qS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return of(i,o-1,s)}let r=parseFloat(t);if(!isNaN(t-r))return new Date(r);let n;if(n=t.match(LV))return ZV(n)}let e=new Date(t);if(!qS(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function ZV(t){let e=new Date(0),r=0,n=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-r,a=Number(t[5]||0)-n,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,l,c),e}function qS(t){return t instanceof Date&&!isNaN(t.valueOf())}var YV=/^(\d+)?\.((\d+)(-(\d+))?)?$/,GS=22,sf=".",Rc="0",JV=";",QV=",",rv="#",WS="\xA4",XV="%";function lE(t,e,r,n,i,o,s=!1){let a="",l=!1;if(!isFinite(t))a=si(r,Dn.Infinity);else{let c=rB(t);s&&(c=nB(c));let u=e.minInt,d=e.minFrac,v=e.maxFrac;if(o){let re=o.match(YV);if(re===null)throw new Error(`${o} is not a valid digit info`);let ue=re[1],_e=re[3],Oe=re[5];ue!=null&&(u=iv(ue)),_e!=null&&(d=iv(_e)),Oe!=null?v=iv(Oe):_e!=null&&d>v&&(v=d)}iB(c,d,v);let C=c.digits,_=c.integerLen,S=c.exponent,M=[];for(l=C.every(re=>!re);_<u;_++)C.unshift(0);for(;_<0;_++)C.unshift(0);_>0?M=C.splice(_,C.length):(M=C,C=[0]);let L=[];for(C.length>=e.lgSize&&L.unshift(C.splice(-e.lgSize,C.length).join(""));C.length>e.gSize;)L.unshift(C.splice(-e.gSize,C.length).join(""));C.length&&L.unshift(C.join("")),a=L.join(si(r,n)),M.length&&(a+=si(r,i)+M.join("")),S&&(a+=si(r,Dn.Exponential)+"+"+S)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function eB(t,e,r,n,i){let o=iE(e,gv.Currency),s=cE(o,si(e,Dn.MinusSign));return s.minFrac=FV(n),s.maxFrac=s.minFrac,lE(t,s,e,Dn.CurrencyGroup,Dn.CurrencyDecimal,i).replace(WS,r).replace(WS,"").trim()}function tB(t,e,r){let n=iE(e,gv.Percent),i=cE(n,si(e,Dn.MinusSign));return lE(t,i,e,Dn.Group,Dn.Decimal,r,!0).replace(new RegExp(XV,"g"),si(e,Dn.PercentSign))}function cE(t,e="-"){let r={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(JV),i=n[0],o=n[1],s=i.indexOf(sf)!==-1?i.split(sf):[i.substring(0,i.lastIndexOf(Rc)+1),i.substring(i.lastIndexOf(Rc)+1)],a=s[0],l=s[1]||"";r.posPre=a.substring(0,a.indexOf(rv));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Rc?r.minFrac=r.maxFrac=u+1:d===rv?r.maxFrac=u+1:r.posSuf+=d}let c=a.split(QV);if(r.gSize=c[1]?c[1].length:0,r.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-r.posPre.length-r.posSuf.length,d=o.indexOf(rv);r.negPre=o.substring(0,d).replace(/'/g,""),r.negSuf=o.slice(d+u).replace(/'/g,"")}else r.negPre=e+r.posPre,r.negSuf=r.posSuf;return r}function nB(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function rB(t){let e=Math.abs(t)+"",r=0,n,i,o,s,a;for((i=e.indexOf(sf))>-1&&(e=e.replace(sf,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Rc;o++);if(o===(a=e.length))n=[0],i=1;else{for(a--;e.charAt(a)===Rc;)a--;for(i-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(e.charAt(o))}return i>GS&&(n=n.splice(0,GS-1),r=i-1,i=1),{digits:n,exponent:r,integerLen:i}}function iB(t,e,r){if(e>r)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${r}).`);let n=t.digits,i=n.length-t.integerLen,o=Math.min(Math.max(e,i),r),s=o+t.integerLen,a=n[s];if(s>0){n.splice(Math.max(t.integerLen,s));for(let d=s;d<n.length;d++)n[d]=0}else{i=Math.max(0,i),t.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let d=1;d<s;d++)n[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[s-1]++;for(;i<Math.max(0,o);i++)n.push(0);let l=o!==0,c=e+t.integerLen,u=n.reduceRight(function(d,v,C,_){return v=v+d,_[C]=v<10?v:v-10,l&&(_[C]===0&&C>=c?_.pop():l=!1),v>=10?1:0},0);u&&(n.unshift(u),t.integerLen++)}function iv(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function af(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ov=/\s+/,KS=[],Fc=(()=>{let e=class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=KS,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(ov):KS}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(ov):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(ov).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(T(bt),T(tn))},e.\u0275dir=et({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var sv=class{constructor(e,r,n,i){this.$implicit=e,this.ngForOf=r,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},lf=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new sv(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let l=i.get(s);i.move(l,a),ZS(l,o)}});for(let o=0,s=i.length;o<s;o++){let l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);ZS(s,o)})}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(T(to),T(Ns),T(J0))},e.\u0275dir=et({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function ZS(t,e){t.context.$implicit=e.item}var zs=(()=>{let e=class e{constructor(n,i){this._viewContainer=n,this._context=new av,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){YS("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){YS("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};e.\u0275fac=function(i){return new(i||e)(T(to),T(Ns))},e.\u0275dir=et({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),av=class{constructor(){this.$implicit=null,this.ngIf=null}};function YS(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${qn(e)}'.`)}var cf=(()=>{let e=class e{constructor(n,i,o){this._ngEl=n,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){let[o,s]=n.split("."),a=o.indexOf("-")===-1?void 0:wi.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(T(bt),T(Kp),T(tn))},e.\u0275dir=et({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),cr=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(n,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)(T(to))},e.\u0275dir=et({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Sn]});let t=e;return t})();function Lc(t,e){return new Ce(2100,!1)}var lv=class{createSubscription(e,r){return ii(()=>e.subscribe({next:r,error:n=>{throw n}}))}dispose(e){ii(()=>e.unsubscribe())}},cv=class{createSubscription(e,r){return e.then(r,n=>{throw n})}dispose(e){}},oB=new cv,sB=new lv,ai=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(jo(n))return oB;if(Y0(n))return sB;throw Lc(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(T(Fr,16))},e.\u0275pipe=Ar({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var aB="mediumDate",lB=new le(""),cB=new le(""),hn=(()=>{let e=class e{constructor(n,i,o){this.locale=n,this.defaultTimezone=i,this.defaultOptions=o}transform(n,i,o,s){if(n==null||n===""||n!==n)return null;try{let a=i??this.defaultOptions?.dateFormat??aB,l=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return BV(n,a,s||this.locale,l)}catch(a){throw Lc(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(T(fl,16),T(lB,24),T(cB,24))},e.\u0275pipe=Ar({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();function uB(t,e){return{key:t,value:e}}var uE=(()=>{let e=class e{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=JS}transform(n,i=JS){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let o=this.differ.diff(n),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(uB(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.\u0275fac=function(i){return new(i||e)(T(Kp,16))},e.\u0275pipe=Ar({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function JS(t,e){let r=t.key,n=e.key;if(r===n)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(r===null)return 1;if(n===null)return-1;if(typeof r=="string"&&typeof n=="string")return r<n?-1:1;if(typeof r=="number"&&typeof n=="number")return r-n;if(typeof r=="boolean"&&typeof n=="boolean")return r<n?-1:1;let i=String(r),o=String(n);return i==o?0:i<o?-1:1}var dE=(()=>{let e=class e{constructor(n){this._locale=n}transform(n,i,o){if(!pE(n))return null;o||=this._locale;try{let s=fE(n);return tB(s,o,i)}catch(s){throw Lc(e,s.message)}}};e.\u0275fac=function(i){return new(i||e)(T(fl,16))},e.\u0275pipe=Ar({name:"percent",type:e,pure:!0,standalone:!0});let t=e;return t})(),ur=(()=>{let e=class e{constructor(n,i="USD"){this._locale=n,this._defaultCurrencyCode=i}transform(n,i=this._defaultCurrencyCode,o="symbol",s,a){if(!pE(n))return null;a||=this._locale,typeof o=="boolean"&&(o=o?"symbol":"code");let l=i||this._defaultCurrencyCode;o!=="code"&&(o==="symbol"||o==="symbol-narrow"?l=NV(l,o==="symbol"?"wide":"narrow",a):l=o);try{let c=fE(n);return eB(c,a,l,i,s)}catch(c){throw Lc(e,c.message)}}};e.\u0275fac=function(i){return new(i||e)(T(fl,16),T(LS,16))},e.\u0275pipe=Ar({name:"currency",type:e,pure:!0,standalone:!0});let t=e;return t})();function pE(t){return!(t==null||t===""||t!==t)}function fE(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var hE=(()=>{let e=class e{transform(n,i,o){if(n==null)return null;if(!this.supports(n))throw Lc(e,n);return n.slice(i,o)}supports(n){return typeof n=="string"||Array.isArray(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Ar({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var uf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ln({type:e}),e.\u0275inj=Fn({});let t=e;return t})(),vv="browser",dB="server";function pB(t){return t===vv}function Vc(t){return t===dB}var mE=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>pB(H(ni))?new uv(H(qt),window):new dv});let t=e;return t})(),uv=class{constructor(e,r){this.document=e,this.window=r,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let r=fB(this.document,e);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let r=e.getBoundingClientRect(),n=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}};function fB(t,e){let r=t.getElementById(e)||t.getElementsByName(e)[0];if(r)return r;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=n.nextNode()}}return null}var dv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},hl=class{};var gE=t=>t.src,hB=new le("",{providedIn:"root",factory:()=>gE});var mB=new le("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set}),gB=(()=>{let e=class e{constructor(){this.preloadedImages=H(mB),this.document=H(qt)}createPreloadLinkTag(n,i,o,s){if(this.preloadedImages.has(i))return;this.preloadedImages.add(i);let a=n.createElement("link");n.setAttribute(a,"as","image"),n.setAttribute(a,"href",i),n.setAttribute(a,"rel","preload"),n.setAttribute(a,"fetchpriority","high"),s&&n.setAttribute(a,"imageSizes",s),o&&n.setAttribute(a,"imageSrcset",o),n.appendChild(this.document.head,a)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vB=/^((\s*\d+w\s*(,|$)){1,})$/;var yB=[1,2],bB=640;var CB=1920,wB=1080;var vE=(()=>{let e=class e{constructor(){this.imageLoader=H(hB),this.config=_B(H(dx)),this.renderer=H(tn),this.imgElement=H(bt).nativeElement,this.injector=H(Wn),this.isServer=Vc(H(ni)),this.preloadLinkCreator=H(gB),this.lcpObserver=null,this._renderedSrc=null,this.priority=!1,this.disableOptimizedSrcset=!1,this.fill=!1}ngOnInit(){xi("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");let n=this.updateSrcAndSrcset();this.sizes&&this.setHostAttribute("sizes",this.sizes),this.isServer&&this.priority&&this.preloadLinkCreator.createPreloadLinkTag(this.renderer,this.getRewrittenSrc(),n,this.sizes)}ngOnChanges(n){if(n.ngSrc&&!n.ngSrc.isFirstChange()){let i=this._renderedSrc;this.updateSrcAndSrcset(!0);let o=this._renderedSrc;this.lcpObserver!==null&&i&&o&&i!==o&&this.injector.get(Dt).runOutsideAngular(()=>{this.lcpObserver?.updateImage(i,o)})}}callImageLoader(n){let i=n;return this.loaderParams&&(i.loaderParams=this.loaderParams),this.imageLoader(i)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){if(!this._renderedSrc){let n={src:this.ngSrc};this._renderedSrc=this.callImageLoader(n)}return this._renderedSrc}getRewrittenSrcset(){let n=vB.test(this.ngSrcset);return this.ngSrcset.split(",").filter(o=>o!=="").map(o=>{o=o.trim();let s=n?parseFloat(o):parseFloat(o)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:s})} ${o}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:n}=this.config,i=n;return this.sizes?.trim()==="100vw"&&(i=n.filter(s=>s>=bB)),i.map(s=>`${this.callImageLoader({src:this.ngSrc,width:s})} ${s}w`).join(", ")}updateSrcAndSrcset(n=!1){n&&(this._renderedSrc=null);let i=this.getRewrittenSrc();this.setHostAttribute("src",i);let o;return this.ngSrcset?o=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(o=this.getAutomaticSrcset()),o&&this.setHostAttribute("srcset",o),o}getFixedSrcset(){return yB.map(i=>`${this.callImageLoader({src:this.ngSrc,width:this.width*i})} ${i}x`).join(", ")}shouldGenerateAutomaticSrcset(){let n=!1;return this.sizes||(n=this.width>CB||this.height>wB),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==gE&&!n}generatePlaceholder(n){let{placeholderResolution:i}=this.config;return n===!0?`url(${this.callImageLoader({src:this.ngSrc,width:i,isPlaceholder:!0})})`:typeof n=="string"?`url(${n})`:null}shouldBlurPlaceholder(n){return!n||!n.hasOwnProperty("blur")?!0:!!n.blur}removePlaceholderOnLoad(n){let i=()=>{let a=this.injector.get(Fr);o(),s(),this.placeholder=!1,a.markForCheck()},o=this.renderer.listen(n,"load",i),s=this.renderer.listen(n,"error",i)}ngOnDestroy(){}setHostAttribute(n,i){this.renderer.setAttribute(this.imgElement,n,i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=et({type:e,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(i,o){i&2&&Oc("position",o.fill?"absolute":null)("width",o.fill?"100%":null)("height",o.fill?"100%":null)("inset",o.fill?"0":null)("background-size",o.placeholder?"cover":null)("background-position",o.placeholder?"50% 50%":null)("background-repeat",o.placeholder?"no-repeat":null)("background-image",o.placeholder?o.generatePlaceholder(o.placeholder):null)("filter",o.placeholder&&o.shouldBlurPlaceholder(o.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",xB],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",Q0],height:[2,"height","height",Q0],loading:"loading",priority:[2,"priority","priority",Lr],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",Lr],fill:[2,"fill","fill",Lr],placeholder:[2,"placeholder","placeholder",SB],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},standalone:!0,features:[ul,Sn]});let t=e;return t})();function _B(t){let e={};return t.breakpoints&&(e.breakpoints=t.breakpoints.sort((r,n)=>r-n)),Object.assign({},E0,t,e)}function xB(t){return typeof t=="string"?t:wr(t)}function SB(t){return typeof t=="string"&&t!=="true"&&t!=="false"&&t!==""?t:Lr(t)}var jc=class{},pf=class{},dr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{let n=r.indexOf(":");if(n>0){let i=r.slice(0,n),o=i.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){let r=new t;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){let r=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,r);let i=(e.op==="a"?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":let o=e.value;if(!o)this.headers.delete(r),this.normalizedNames.delete(r);else{let s=this.headers.get(r);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}break}}setHeaderEntries(e,r){let n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}};var Cv=class{encodeKey(e){return yE(e)}encodeValue(e){return yE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function IB(t,e){let r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}var MB=/%(\d[a-f0-9])/gi,DB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yE(t){return encodeURIComponent(t).replace(MB,(e,r)=>DB[r]??e)}function df(t){return`${t}`}var li=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Cv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=IB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{let n=e.fromObject[r],i=Array.isArray(n)?n.map(df):[df(n)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){let r=[];return Object.keys(e).forEach(n=>{let i=e[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let r=this.encoder.encodeKey(e);return this.map.get(e).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let r=new t({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push(df(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],i=n.indexOf(df(e.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var wv=class{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function kB(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function bE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function CE(t){return typeof Blob<"u"&&t instanceof Blob}function wE(t){return typeof FormData<"u"&&t instanceof FormData}function TB(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Bc=class t{constructor(e,r,n,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(kB(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new dr,this.context??=new wv,!this.params)this.params=new li,this.urlWithParams=r;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=r;else{let a=r.indexOf("?"),l=a===-1?"?":a<r.length-1?"&":"";this.urlWithParams=r+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||bE(this.body)||CE(this.body)||wE(this.body)||TB(this.body)?this.body:this.body instanceof li?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||wE(this.body)?null:CE(this.body)?this.body.type||null:bE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof li?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((v,C)=>v.set(C,e.setHeaders[C]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((v,C)=>v.set(C,e.setParams[C]),u)),new t(r,n,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},$o=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}($o||{}),Uc=class{constructor(e,r=200,n="OK"){this.headers=e.headers||new dr,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ff=class t extends Uc{constructor(e={}){super(e),this.type=$o.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$c=class t extends Uc{constructor(e={}){super(e),this.type=$o.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Uo=class extends Uc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},EE=200,OB=204;function bv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var kt=(()=>{let e=class e{constructor(n){this.handler=n}request(n,i,o={}){let s;if(n instanceof Bc)s=n;else{let c;o.headers instanceof dr?c=o.headers:c=new dr(o.headers);let u;o.params&&(o.params instanceof li?u=o.params:u=new li({fromObject:o.params})),s=new Bc(n,i,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=be(s).pipe(Qr(c=>this.handler.handle(c)));if(n instanceof Bc||o.observe==="events")return a;let l=a.pipe(tr(c=>c instanceof $c));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Se(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(Se(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(Se(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(Se(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new li().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,bv(o,i))}post(n,i,o={}){return this.request("POST",n,bv(o,i))}put(n,i,o={}){return this.request("PUT",n,bv(o,i))}};e.\u0275fac=function(i){return new(i||e)(ie(jc))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),AB=/^\)\]\}',?\n/,PB="X-Request-URL";function _E(t){if(t.url)return t.url;let e=PB.toLocaleLowerCase();return t.headers.get(e)}var NB=(()=>{let e=class e{constructor(){this.fetchImpl=H(_v,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=H(Dt)}handle(n){return new it(i=>{let o=new AbortController;return this.doRequest(n,o.signal,i).then(xv,s=>i.error(new Uo({error:s}))),()=>o.abort()})}doRequest(n,i,o){return Et(this,null,function*(){let s=this.createRequestInit(n),a;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,j({signal:i},s)));RB(_),o.next({type:$o.Sent}),a=yield _}catch(_){o.error(new Uo({error:_,status:_.status??0,statusText:_.statusText,url:n.urlWithParams,headers:_.headers}));return}let l=new dr(a.headers),c=a.statusText,u=_E(a)??n.urlWithParams,d=a.status,v=null;if(n.reportProgress&&o.next(new ff({headers:l,status:d,statusText:c,url:u})),a.body){let _=a.headers.get("content-length"),S=[],M=a.body.getReader(),L=0,re,ue,_e=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Et(this,null,function*(){for(;;){let{done:V,value:W}=yield M.read();if(V)break;if(S.push(W),L+=W.length,n.reportProgress){ue=n.responseType==="text"?(ue??"")+(re??=new TextDecoder).decode(W,{stream:!0}):void 0;let Q=()=>o.next({type:$o.DownloadProgress,total:_?+_:void 0,loaded:L,partialText:ue});_e?_e.run(Q):Q()}}}));let Oe=this.concatChunks(S,L);try{let V=a.headers.get("Content-Type")??"";v=this.parseBody(n,Oe,V)}catch(V){o.error(new Uo({error:V,headers:new dr(a.headers),status:a.status,statusText:a.statusText,url:_E(a)??n.urlWithParams}));return}}d===0&&(d=v?EE:0),d>=200&&d<300?(o.next(new $c({body:v,headers:l,status:d,statusText:c,url:u})),o.complete()):o.error(new Uo({error:v,headers:l,status:d,statusText:c,url:u}))})}parseBody(n,i,o){switch(n.responseType){case"json":let s=new TextDecoder().decode(i).replace(AB,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},o=n.withCredentials?"include":void 0;if(n.headers.forEach((s,a)=>i[s]=a.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:o}}concatChunks(n,i){let o=new Uint8Array(i),s=0;for(let a of n)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),_v=class{};function xv(){}function RB(t){t.then(xv,xv)}function FB(t,e){return e(t)}function LB(t,e,r){return(n,i)=>Pr(r,()=>e(n,o=>t(o,i)))}var Sv=new le(""),VB=new le(""),BB=new le("",{providedIn:"root",factory:()=>!0});var xE=(()=>{let e=class e extends jc{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=H(Ro),this.contributeToStability=H(BB)}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Sv),...this.injector.get(VB,[])]));this.chain=i.reduceRight((o,s)=>LB(o,s,this.injector),FB)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(ws(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(ie(pf),ie(Gn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();var jB=/^\)\]\}',?\n/;function UB(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var SE=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Ce(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ft(i.\u0275loadImpl()):be(null)).pipe(ct(()=>new it(s=>{let a=i.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((M,L)=>a.setRequestHeader(M,L.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let M=n.detectContentTypeHeader();M!==null&&a.setRequestHeader("Content-Type",M)}if(n.responseType){let M=n.responseType.toLowerCase();a.responseType=M!=="json"?M:"text"}let l=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let M=a.statusText||"OK",L=new dr(a.getAllResponseHeaders()),re=UB(a)||n.url;return c=new ff({headers:L,status:a.status,statusText:M,url:re}),c},d=()=>{let{headers:M,status:L,statusText:re,url:ue}=u(),_e=null;L!==OB&&(_e=typeof a.response>"u"?a.responseText:a.response),L===0&&(L=_e?EE:0);let Oe=L>=200&&L<300;if(n.responseType==="json"&&typeof _e=="string"){let V=_e;_e=_e.replace(jB,"");try{_e=_e!==""?JSON.parse(_e):null}catch(W){_e=V,Oe&&(Oe=!1,_e={error:W,text:_e})}}Oe?(s.next(new $c({body:_e,headers:M,status:L,statusText:re,url:ue||void 0})),s.complete()):s.error(new Uo({error:_e,headers:M,status:L,statusText:re,url:ue||void 0}))},v=M=>{let{url:L}=u(),re=new Uo({error:M,status:a.status||0,statusText:a.statusText||"Unknown Error",url:L||void 0});s.error(re)},C=!1,_=M=>{C||(s.next(u()),C=!0);let L={type:$o.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(L.total=M.total),n.responseType==="text"&&a.responseText&&(L.partialText=a.responseText),s.next(L)},S=M=>{let L={type:$o.UploadProgress,loaded:M.loaded};M.lengthComputable&&(L.total=M.total),s.next(L)};return a.addEventListener("load",d),a.addEventListener("error",v),a.addEventListener("timeout",v),a.addEventListener("abort",v),n.reportProgress&&(a.addEventListener("progress",_),l!==null&&a.upload&&a.upload.addEventListener("progress",S)),a.send(l),s.next({type:$o.Sent}),()=>{a.removeEventListener("error",v),a.removeEventListener("abort",v),a.removeEventListener("load",d),a.removeEventListener("timeout",v),n.reportProgress&&(a.removeEventListener("progress",_),l!==null&&a.upload&&a.upload.removeEventListener("progress",S)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(ie(hl))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),IE=new le(""),$B="XSRF-TOKEN",HB=new le("",{providedIn:"root",factory:()=>$B}),zB="X-XSRF-TOKEN",qB=new le("",{providedIn:"root",factory:()=>zB}),hf=class{},GB=(()=>{let e=class e{constructor(n,i,o){this.doc=n,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=af(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(ie(qt),ie(ni),ie(HB))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function WB(t,e){let r=t.url.toLowerCase();if(!H(IE)||t.method==="GET"||t.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(t);let n=H(hf).getToken(),i=H(qB);return n!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,n)})),e(t)}var ME=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ME||{});function KB(t,e){return{\u0275kind:t,\u0275providers:e}}function DE(...t){let e=[kt,SE,xE,{provide:jc,useExisting:xE},{provide:pf,useFactory:()=>H(NB,{optional:!0})??H(SE)},{provide:Sv,useValue:WB,multi:!0},{provide:IE,useValue:!0},{provide:hf,useClass:GB}];for(let r of t)e.push(...r.\u0275providers);return Ls(e)}function kE(t){return KB(ME.Interceptors,t.map(e=>({provide:Sv,useValue:e,multi:!0})))}var Mv=class extends rf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Dv=class t extends Mv{static makeCurrent(){XS(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.remove()}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=ZB();return r==null?null:YB(r)}resetBaseElement(){Hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return af(document.cookie,e)}},Hc=null;function ZB(){return Hc=Hc||document.querySelector("base"),Hc?Hc.getAttribute("href"):null}function YB(t){return new URL(t,document.baseURI).pathname}var JB=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),mf=new le(""),PE=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new Ce(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(ie(mf),ie(Dt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),zc=class{constructor(e){this._doc=e}},Ev="ng-app-id",NE=(()=>{let e=class e{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Vc(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Ev}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(Ev),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ev,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ie(qt),ie(_0),ie(S0,8),ie(ni))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),Iv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Tv=/%COMP%/g,RE="%COMP%",QB=`_nghost-${RE}`,XB=`_ngcontent-${RE}`,e4=!0,t4=new le("",{providedIn:"root",factory:()=>e4});function n4(t){return XB.replace(Tv,t)}function r4(t){return QB.replace(Tv,t)}function FE(t,e){return e.map(r=>r.replace(Tv,t))}var TE=(()=>{let e=class e{constructor(n,i,o,s,a,l,c,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Vc(l),this.defaultRenderer=new qc(n,a,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yi.ShadowDom&&(i=Ee(j({},i),{encapsulation:yi.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof gf?o.applyToHost(n):o instanceof Gc&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(i.encapsulation){case yi.Emulated:s=new gf(c,u,i,this.appId,d,a,l,v);break;case yi.ShadowDom:return new kv(c,u,n,i,a,l,this.nonce,v);default:s=new Gc(c,u,i,d,a,l,v);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ie(PE),ie(NE),ie(_0),ie(t4),ie(qt),ie(ni),ie(Dt),ie(S0))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),qc=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Iv[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(OE(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(OE(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){r.remove()}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new Ce(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let o=Iv[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=Iv[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(wi.DashCase|wi.Important)?e.style.setProperty(r,n,i&wi.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&wi.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=so().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function OE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var kv=class extends qc{constructor(e,r,n,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=FE(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(null,r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gc=class extends qc{constructor(e,r,n,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=l?FE(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},gf=class extends Gc{constructor(e,r,n,i,o,s,a,l){let c=i+"-"+n.id;super(e,r,n,o,s,a,l,c),this.contentAttr=n4(c),this.hostAttr=r4(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},i4=(()=>{let e=class e extends zc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(ie(qt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),o4=(()=>{let e=class e extends zc{constructor(n){super(n),this.delegate=H(jS,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,i,o){return this.delegate.addEventListener(n,i,o)}removeEventListener(n,i,o){return this.delegate.removeEventListener(n,i,o)}};e.\u0275fac=function(i){return new(i||e)(ie(qt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),AE=["alt","control","meta","shift"],s4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},a4={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},l4=(()=>{let e=class e extends zc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>so().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),AE.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(n,i){let o=s4[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),AE.forEach(a=>{if(a!==o){let l=a4[a];l(n)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(ie(qt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function LE(t,e){return BS(j({rootComponent:t},c4(e)))}function c4(t){return{appProviders:[...h4,...t?.providers??[]],platformProviders:f4}}function u4(){Dv.makeCurrent()}function d4(){return new Zi}function p4(){return cx(document),document}var f4=[{provide:ni,useValue:vv},{provide:x0,useValue:u4,multi:!0},{provide:qt,useFactory:p4,deps:[]}];var h4=[{provide:xp,useValue:"root"},{provide:Zi,useFactory:d4,deps:[]},{provide:mf,useClass:i4,multi:!0,deps:[qt,Dt,ni]},{provide:mf,useClass:l4,multi:!0,deps:[qt]},{provide:mf,useClass:o4,multi:!0},TE,NE,PE,{provide:rl,useExisting:TE},{provide:hl,useClass:JB,deps:[]},[]];var VE=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(ie(qt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ov=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=ie(m4),o},providedIn:"root"});let t=e;return t})(),m4=(()=>{let e=class e extends Ov{constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case ri.NONE:return i;case ri.HTML:return Xi(i,"HTML")?wr(i):M0(this._doc,String(i)).toString();case ri.STYLE:return Xi(i,"Style")?wr(i):i;case ri.SCRIPT:if(Xi(i,"Script"))return wr(i);throw new Ce(5200,!1);case ri.URL:return Xi(i,"URL")?wr(i):Lp(String(i));case ri.RESOURCE_URL:if(Xi(i,"ResourceURL"))return wr(i);throw new Ce(5201,!1);default:throw new Ce(5202,!1)}}bypassSecurityTrustHtml(n){return hx(n)}bypassSecurityTrustStyle(n){return mx(n)}bypassSecurityTrustScript(n){return gx(n)}bypassSecurityTrustUrl(n){return vx(n)}bypassSecurityTrustResourceUrl(n){return yx(n)}};e.\u0275fac=function(i){return new(i||e)(ie(qt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qe="primary",au=Symbol("RouteTitle"),Fv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function wl(t){return new Fv(t)}function g4(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function v4(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Ei(t[r],e[r]))return!1;return!0}function Ei(t,e){let r=t?Lv(t):void 0,n=e?Lv(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!YE(t[i],e[i]))return!1;return!0}function Lv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function YE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}else return t===e}function JE(t){return t.length>0?t[t.length-1]:null}function zo(t){return br(t)?t:jo(t)?ft(Promise.resolve(t)):be(t)}var y4={exact:XE,subset:eI},QE={exact:b4,subset:C4,ignored:()=>!0};function jE(t,e,r){return y4[r.paths](t.root,e.root,r.matrixParams)&&QE[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function b4(t,e){return Ei(t,e)}function XE(t,e,r){if(!Gs(t.segments,e.segments)||!bf(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!XE(t.children[n],e.children[n],r))return!1;return!0}function C4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>YE(t[r],e[r]))}function eI(t,e,r){return tI(t,e,e.segments,r)}function tI(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!Gs(i,r)||e.hasChildren()||!bf(i,r,n))}else if(t.segments.length===r.length){if(!Gs(t.segments,r)||!bf(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!eI(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!Gs(t.segments,i)||!bf(t.segments,i,n)||!t.children[qe]?!1:tI(t.children[qe],e,o,n)}}function bf(t,e,r){return e.every((n,i)=>QE[r](t[i].parameters,n.parameters))}var co=class{constructor(e=new ht([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=wl(this.queryParams),this._queryParamMap}toString(){return x4.serialize(this)}},ht=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cf(this)}},qs=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=wl(this.parameters),this._parameterMap}toString(){return rI(this)}};function w4(t,e){return Gs(t,e)&&t.every((r,n)=>Ei(r.parameters,e[n].parameters))}function Gs(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function _4(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===qe&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==qe&&(r=r.concat(e(i,n)))}),r}var lu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>new _l,providedIn:"root"});let t=e;return t})(),_l=class{parse(e){let r=new Bv(e);return new co(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${Wc(e.root,!0)}`,n=I4(e.queryParams),i=typeof e.fragment=="string"?`#${S4(e.fragment)}`:"";return`${r}${n}${i}`}},x4=new _l;function Cf(t){return t.segments.map(e=>rI(e)).join("/")}function Wc(t,e){if(!t.hasChildren())return Cf(t);if(e){let r=t.children[qe]?Wc(t.children[qe],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==qe&&n.push(`${i}:${Wc(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=_4(t,(n,i)=>i===qe?[Wc(t.children[qe],!1)]:[`${i}:${Wc(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[qe]!=null?`${Cf(t)}/${r[0]}`:`${Cf(t)}/(${r.join("//")})`}}function nI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vf(t){return nI(t).replace(/%3B/gi,";")}function S4(t){return encodeURI(t)}function Vv(t){return nI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wf(t){return decodeURIComponent(t)}function UE(t){return wf(t.replace(/\+/g,"%20"))}function rI(t){return`${Vv(t.path)}${E4(t.parameters)}`}function E4(t){return Object.entries(t).map(([e,r])=>`;${Vv(e)}=${Vv(r)}`).join("")}function I4(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${vf(r)}=${vf(i)}`).join("&"):`${vf(r)}=${vf(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var M4=/^[^\/()?;#]+/;function Av(t){let e=t.match(M4);return e?e[0]:""}var D4=/^[^\/()?;=#]+/;function k4(t){let e=t.match(D4);return e?e[0]:""}var T4=/^[^=?&#]+/;function O4(t){let e=t.match(T4);return e?e[0]:""}var A4=/^[^&#]+/;function P4(t){let e=t.match(A4);return e?e[0]:""}var Bv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ht([],{}):new ht([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[qe]=new ht(e,r)),n}parseSegment(){let e=Av(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ce(4009,!1);return this.capture(e),new qs(wf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=k4(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=Av(this.remaining);i&&(n=i,this.capture(n))}e[wf(r)]=wf(n)}parseQueryParam(e){let r=O4(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let s=P4(this.remaining);s&&(n=s,this.capture(n))}let i=UE(r),o=UE(n);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Av(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ce(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=qe);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[qe]:new ht([],s),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ce(4011,!1)}};function iI(t){return t.segments.length>0?new ht([],{[qe]:t}):t}function oI(t){let e={};for(let[n,i]of Object.entries(t.children)){let o=oI(i);if(n===qe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let r=new ht(t.segments,e);return N4(r)}function N4(t){if(t.numberOfChildren===1&&t.children[qe]){let e=t.children[qe];return new ht(t.segments.concat(e.segments),e.children)}return t}function Ws(t){return t instanceof co}function R4(t,e,r=null,n=null){let i=sI(t);return aI(i,e,r,n)}function sI(t){let e;function r(o){let s={};for(let l of o.children){let c=r(l);s[l.outlet]=c}let a=new ht(o.url,s);return o===t&&(e=a),a}let n=r(t.root),i=iI(n);return e??i}function aI(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Pv(i,i,i,r,n);let o=F4(e);if(o.toRoot())return Pv(i,i,new ht([],{}),r,n);let s=L4(o,i,t),a=s.processChildren?Yc(s.segmentGroup,s.index,o.commands):cI(s.segmentGroup,s.index,o.commands);return Pv(i,s.segmentGroup,a,r,n)}function _f(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xc(t){return typeof t=="object"&&t!=null&&t.outlets}function Pv(t,e,r,n,i){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=r:s=lI(t,e,r);let a=iI(oI(s));return new co(a,o,i)}function lI(t,e,r){let n={};return Object.entries(t.children).forEach(([i,o])=>{o===e?n[i]=r:n[i]=lI(o,e,r)}),new ht(t.segments,n)}var xf=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&_f(n[0]))throw new Ce(4003,!1);let i=n.find(Xc);if(i&&i!==JE(n))throw new Ce(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function F4(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new xf(!0,0,t);let e=0,r=!1,n=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new xf(r,e,n)}var yl=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function L4(t,e,r){if(t.isAbsolute)return new yl(e,!0,0);if(!r)return new yl(e,!1,NaN);if(r.parent===null)return new yl(r,!0,0);let n=_f(t.commands[0])?0:1,i=r.segments.length-1+n;return V4(r,i,t.numberOfDoubleDots)}function V4(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new Ce(4005,!1);i=n.segments.length}return new yl(n,!1,i-o)}function B4(t){return Xc(t[0])?t[0].outlets:{[qe]:t}}function cI(t,e,r){if(t??=new ht([],{}),t.segments.length===0&&t.hasChildren())return Yc(t,e,r);let n=j4(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new ht(t.segments.slice(0,n.pathIndex),{});return o.children[qe]=new ht(t.segments.slice(n.pathIndex),t.children),Yc(o,0,i)}else return n.match&&i.length===0?new ht(t.segments,{}):n.match&&!t.hasChildren()?jv(t,e,r):n.match?Yc(t,0,i):jv(t,e,r)}function Yc(t,e,r){if(r.length===0)return new ht(t.segments,{});{let n=B4(r),i={};if(Object.keys(n).some(o=>o!==qe)&&t.children[qe]&&t.numberOfChildren===1&&t.children[qe].segments.length===0){let o=Yc(t.children[qe],e,r);return new ht(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new ht(t.segments,i)}}function j4(t,e,r){let n=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;let s=t.segments[i],a=r[n];if(Xc(a))break;let l=`${a}`,c=n<r.length-1?r[n+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!HE(l,c,s))return o;n+=2}else{if(!HE(l,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function jv(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let o=r[i];if(Xc(o)){let l=U4(o.outlets);return new ht(n,l)}if(i===0&&_f(r[0])){let l=t.segments[e];n.push(new qs(l.path,$E(r[0]))),i++;continue}let s=Xc(o)?o.outlets[qe]:`${o}`,a=i<r.length-1?r[i+1]:null;s&&a&&_f(a)?(n.push(new qs(s,$E(a))),i+=2):(n.push(new qs(s,{})),i++)}return new ht(n,{})}function U4(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=jv(new ht([],{}),0,n))}),e}function $E(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function HE(t,e,r){return t==r.path&&Ei(e,r.parameters)}var Jc="imperative",gn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(gn||{}),Br=class{constructor(e,r){this.id=e,this.url=r}},xl=class extends Br{constructor(e,r,n="imperative",i=null){super(e,r),this.type=gn.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Er=class extends Br{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=gn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Sr=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Sr||{}),Sf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Sf||{}),lo=class extends Br{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=gn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ho=class extends Br{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=gn.NavigationSkipped}},eu=class extends Br{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=gn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ef=class extends Br{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=gn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uv=class extends Br{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=gn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$v=class extends Br{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=gn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hv=class extends Br{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=gn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zv=class extends Br{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=gn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qv=class{constructor(e){this.route=e,this.type=gn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gv=class{constructor(e){this.route=e,this.type=gn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wv=class{constructor(e){this.snapshot=e,this.type=gn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kv=class{constructor(e){this.snapshot=e,this.type=gn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zv=class{constructor(e){this.snapshot=e,this.type=gn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yv=class{constructor(e){this.snapshot=e,this.type=gn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},If=class{constructor(e,r,n){this.routerEvent=e,this.position=r,this.anchor=n,this.type=gn.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},tu=class{},Sl=class{constructor(e,r){this.url=e,this.navigationBehaviorOptions=r}};function $4(t,e){return t.providers&&!t._injector&&(t._injector=zp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ui(t){return t.outlet||qe}function H4(t,e){let r=t.filter(n=>ui(n)===e);return r.push(...t.filter(n=>ui(n)!==e)),r}function cu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var Jv=class{get injector(){return cu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new uu(this.rootInjector),this.attachRef=null}},uu=(()=>{let e=class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Jv(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)(ie(Gn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=Qv(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=Qv(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=Xv(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xv(e,this._root).map(r=>r.value)}};function Qv(t,e){if(t===e.value)return e;for(let r of e.children){let n=Qv(t,r);if(n)return n}return null}function Xv(t,e){if(t===e.value)return[e];for(let r of e.children){let n=Xv(t,r);if(n.length)return n.unshift(e),n}return[]}var xr=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function vl(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var Df=class extends Mf{constructor(e,r){super(e),this.snapshot=r,ly(this,e)}toString(){return this.snapshot.toString()}};function uI(t){let e=z4(t),r=new Lt([new qs("",{})]),n=new Lt({}),i=new Lt({}),o=new Lt({}),s=new Lt(""),a=new mn(r,n,o,s,i,qe,t,e.root);return a.snapshot=e.root,new Df(new xr(a,[]),e)}function z4(t){let e={},r={},n={},i="",o=new bl([],e,n,i,r,qe,t,null,{});return new Tf("",new xr(o,[]))}var mn=class{constructor(e,r,n,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Se(c=>c[au]))??be(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Se(e=>wl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Se(e=>wl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kf(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:n={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&pI(i)&&(n.resolve[au]=i.title),n}var bl=class{get title(){return this.data?.[au]}constructor(e,r,n,i,o,s,a,l,c){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},Tf=class extends Mf{constructor(e,r){super(r),this.url=e,ly(this,r)}toString(){return dI(this._root)}};function ly(t,e){e.value._routerState=t,e.children.forEach(r=>ly(t,r))}function dI(t){let e=t.children.length>0?` { ${t.children.map(dI).join(", ")} } `:"";return`${t.value}${e}`}function Nv(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Ei(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Ei(e.params,r.params)||t.paramsSubject.next(r.params),v4(e.url,r.url)||t.urlSubject.next(r.url),Ei(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ey(t,e){let r=Ei(t.params,e.params)&&w4(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||ey(t.parent,e.parent))}function pI(t){return typeof t.title=="string"||t.title===null}var Ks=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=qe,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=H(uu),this.location=H(to),this.changeDetector=H(Fr),this.inputBinder=H(Nf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ce(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ce(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ce(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Ce(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new ty(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=et({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Sn]});let t=e;return t})(),ty=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===mn?this.route:e===uu?this.childContexts:this.parent.get(e,r)}},Nf=new le(""),zE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,o=Ba([i.queryParams,i.params,i.data]).pipe(ct(([s,a,l],c)=>(l=j(j(j({},s),a),l),c===0?be(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let a=$S(i.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function q4(t,e,r){let n=nu(t,e._root,r?r._root:void 0);return new Df(n,e)}function nu(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=G4(t,e,r);return new xr(n,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nu(t,a)),s}}let n=W4(e.value),i=e.children.map(o=>nu(t,o));return new xr(n,i)}}function G4(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return nu(t,n,i);return nu(t,n)})}function W4(t){return new mn(new Lt(t.url),new Lt(t.params),new Lt(t.queryParams),new Lt(t.fragment),new Lt(t.data),t.outlet,t.component,t)}var ru=class{constructor(e,r){this.redirectTo=e,this.navigationBehaviorOptions=r}},fI="ngNavigationCancelingError";function Of(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=Ws(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hI(!1,Sr.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function hI(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[fI]=!0,r.cancellationCode=e,r}function K4(t){return mI(t)&&Ws(t.url)}function mI(t){return!!t&&t[fI]}var Z4=(t,e,r,n)=>Se(i=>(new ny(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),ny=class{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Nv(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=vl(r);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(e,r,s.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=vl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=vl(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=vl(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Yv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Kv(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(Nv(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,s.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Nv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,n)}},Af=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cl=class{constructor(e,r){this.component=e,this.route=r}};function Y4(t,e,r){let n=t._root,i=e?e._root:null;return Kc(n,i,r,[n.value])}function J4(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Il(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!Yw(t)?t:e.get(t):n}function Kc(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=vl(e);return t.children.forEach(s=>{Q4(s,o[s.value.outlet],r,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qc(a,r.getContext(s),i)),i}function Q4(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=X4(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Af(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Kc(t,e,a?a.children:null,n,i):Kc(t,e,r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cl(a.outlet.component,s))}else s&&Qc(e,a,i),i.canActivateChecks.push(new Af(n)),o.component?Kc(t,null,a?a.children:null,n,i):Kc(t,null,r,n,i);return i}function X4(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!Gs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gs(t.url,e.url)||!Ei(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ey(t,e)||!Ei(t.queryParams,e.queryParams);case"paramsChange":default:return!ey(t,e)}}function Qc(t,e,r){let n=vl(t),i=t.value;Object.entries(n).forEach(([o,s])=>{i.component?e?Qc(s,e.children.getContext(o),r):Qc(s,null,r):Qc(s,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new Cl(e.outlet.component,i)):r.canDeactivateChecks.push(new Cl(null,i)):r.canDeactivateChecks.push(new Cl(null,i))}function du(t){return typeof t=="function"}function e5(t){return typeof t=="boolean"}function t5(t){return t&&du(t.canLoad)}function n5(t){return t&&du(t.canActivate)}function r5(t){return t&&du(t.canActivateChild)}function i5(t){return t&&du(t.canDeactivate)}function o5(t){return t&&du(t.canMatch)}function gI(t){return t instanceof Hi||t?.name==="EmptyError"}var yf=Symbol("INITIAL_VALUE");function El(){return ct(t=>Ba(t.map(e=>e.pipe(nr(1),km(yf)))).pipe(Se(e=>{for(let r of e)if(r!==!0){if(r===yf)return yf;if(r===!1||s5(r))return r}return!0}),tr(e=>e!==yf),nr(1)))}function s5(t){return Ws(t)||t instanceof ru}function a5(t,e){return Yt(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?be(Ee(j({},r),{guardsResult:!0})):l5(s,n,i,t).pipe(Yt(a=>a&&e5(a)?c5(n,o,t,e):be(a)),Se(a=>Ee(j({},r),{guardsResult:a})))})}function l5(t,e,r,n){return ft(t).pipe(Yt(i=>h5(i.component,i.route,r,e,n)),mi(i=>i!==!0,!0))}function c5(t,e,r,n){return ft(e).pipe(Qr(i=>zi(d5(i.route.parent,n),u5(i.route,n),f5(t,i.path,r),p5(t,i.route,r))),mi(i=>i!==!0,!0))}function u5(t,e){return t!==null&&e&&e(new Zv(t)),be(!0)}function d5(t,e){return t!==null&&e&&e(new Wv(t)),be(!0)}function p5(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return be(!0);let i=n.map(o=>Cs(()=>{let s=cu(e)??r,a=Il(o,s),l=n5(a)?a.canActivate(e,t):Pr(s,()=>a(e,t));return zo(l).pipe(mi())}));return be(i).pipe(El())}function f5(t,e,r){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>J4(s)).filter(s=>s!==null).map(s=>Cs(()=>{let a=s.guards.map(l=>{let c=cu(s.node)??r,u=Il(l,c),d=r5(u)?u.canActivateChild(n,t):Pr(c,()=>u(n,t));return zo(d).pipe(mi())});return be(a).pipe(El())}));return be(o).pipe(El())}function h5(t,e,r,n,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return be(!0);let s=o.map(a=>{let l=cu(e)??i,c=Il(a,l),u=i5(c)?c.canDeactivate(t,e,r,n):Pr(l,()=>c(t,e,r,n));return zo(u).pipe(mi())});return be(s).pipe(El())}function m5(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return be(!0);let o=i.map(s=>{let a=Il(s,t),l=t5(a)?a.canLoad(e,r):Pr(t,()=>a(e,r));return zo(l)});return be(o).pipe(El(),vI(n))}function vI(t){return Cm(yt(e=>{if(typeof e!="boolean")throw Of(t,e)}),Se(e=>e===!0))}function g5(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return be(!0);let o=i.map(s=>{let a=Il(s,t),l=o5(a)?a.canMatch(e,r):Pr(t,()=>a(e,r));return zo(l)});return be(o).pipe(El(),vI(n))}var iu=class{constructor(e){this.segmentGroup=e||null}},ou=class extends Error{constructor(e){super(),this.urlTree=e}};function gl(t){return $i(new iu(t))}function v5(t){return $i(new Ce(4e3,!1))}function y5(t){return $i(hI(!1,Sr.GuardRejected))}var ry=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return be(n);if(i.numberOfChildren>1||!i.children[qe])return v5(`${e.redirectTo}`);i=i.children[qe]}}applyRedirectCommands(e,r,n,i,o){if(typeof r!="string"){let a=r,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:v,params:C,data:_,title:S}=i,M=Pr(o,()=>a({params:C,data:_,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:v,title:S}));if(M instanceof co)throw new ou(M);r=M}let s=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r[0]==="/")throw new ou(s);return s}applyRedirectCreateUrlTree(e,r,n,i){let o=this.createSegmentGroup(e,r.root,n,i);return new co(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);n[i]=r[a]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){let o=this.createSegments(e,r.segments,n,i),s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,n,i)}),new ht(o,s)}createSegments(e,r,n,i){return r.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new Ce(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},iy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b5(t,e,r,n,i){let o=yI(t,e,r);return o.matched?(n=$4(e,n),g5(n,e,r,i).pipe(Se(s=>s===!0?o:j({},iy)))):be(o)}function yI(t,e,r){if(e.path==="**")return C5(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?j({},iy):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||g4)(r,t,e);if(!i)return j({},iy);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function C5(t){return{matched:!0,parameters:t.length>0?JE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qE(t,e,r,n){return r.length>0&&x5(t,r,n)?{segmentGroup:new ht(e,_5(n,new ht(r,t.children))),slicedSegments:[]}:r.length===0&&S5(t,r,n)?{segmentGroup:new ht(t.segments,w5(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new ht(t.segments,t.children),slicedSegments:r}}function w5(t,e,r,n){let i={};for(let o of r)if(Rf(t,e,o)&&!n[ui(o)]){let s=new ht([],{});i[ui(o)]=s}return j(j({},n),i)}function _5(t,e){let r={};r[qe]=e;for(let n of t)if(n.path===""&&ui(n)!==qe){let i=new ht([],{});r[ui(n)]=i}return r}function x5(t,e,r){return r.some(n=>Rf(t,e,n)&&ui(n)!==qe)}function S5(t,e,r){return r.some(n=>Rf(t,e,n))}function Rf(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function E5(t,e,r){return e.length===0&&!t.children[r]}var oy=class{};function I5(t,e,r,n,i,o,s="emptyOnly"){return new sy(t,e,r,n,i,s,o).recognize()}var M5=31,sy=class{constructor(e,r,n,i,o,s,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ry(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Ce(4002,`'${e.segmentGroup}'`)}recognize(){let e=qE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Se(({children:r,rootSnapshot:n})=>{let i=new xr(n,r),o=new Tf("",i),s=R4(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let r=new bl([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),qe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,qe,r).pipe(Se(n=>({children:n,rootSnapshot:r})),_n(n=>{if(n instanceof ou)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof iu?this.noMatchError(n):n}))}processSegmentGroup(e,r,n,i,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n,o):this.processSegment(e,r,n,n.segments,i,!0,o).pipe(Se(s=>s instanceof xr?[s]:[]))}processChildren(e,r,n,i){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return ft(o).pipe(Qr(s=>{let a=n.children[s],l=H4(r,s);return this.processSegmentGroup(e,l,a,s,i)}),Mm((s,a)=>(s.push(...a),s)),Eo(null),Im(),Yt(s=>{if(s===null)return gl(n);let a=bI(s);return D5(a),be(a)}))}processSegment(e,r,n,i,o,s,a){return ft(r).pipe(Qr(l=>this.processSegmentAgainstRoute(l._injector??e,r,l,n,i,o,s,a).pipe(_n(c=>{if(c instanceof iu)return be(null);throw c}))),mi(l=>!!l),_n(l=>{if(gI(l))return E5(n,i,o)?be(new oy):gl(n);throw l}))}processSegmentAgainstRoute(e,r,n,i,o,s,a,l){return ui(n)!==s&&(s===qe||!Rf(i,o,n))?gl(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,s,l):gl(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:v}=yI(r,i,o);if(!l)return gl(r);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>M5&&(this.allowRedirects=!1));let C=new bl(o,c,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,GE(i),ui(i),i.component??i._loadedComponent??null,i,WE(i)),_=kf(C,a,this.paramsInheritanceStrategy);C.params=Object.freeze(_.params),C.data=Object.freeze(_.data);let S=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,C,e);return this.applyRedirects.lineralizeSegments(i,S).pipe(Yt(M=>this.processSegment(e,n,r,M.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,r,n,i,o,s){let a=b5(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),a.pipe(ct(l=>l.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(ct(({routes:c})=>{let u=n._loadedInjector??e,{parameters:d,consumedSegments:v,remainingSegments:C}=l,_=new bl(v,d,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,GE(n),ui(n),n.component??n._loadedComponent??null,n,WE(n)),S=kf(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data);let{segmentGroup:M,slicedSegments:L}=qE(r,v,C,c);if(L.length===0&&M.hasChildren())return this.processChildren(u,c,M,_).pipe(Se(ue=>new xr(_,ue)));if(c.length===0&&L.length===0)return be(new xr(_,[]));let re=ui(n)===o;return this.processSegment(u,c,M,L,re?qe:o,!0,_).pipe(Se(ue=>new xr(_,ue instanceof xr?[ue]:[])))}))):gl(r)))}getChildConfig(e,r,n){return r.children?be({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?be({routes:r._loadedRoutes,injector:r._loadedInjector}):m5(e,r,n,this.urlSerializer).pipe(Yt(i=>i?this.configLoader.loadChildren(e,r).pipe(yt(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):y5(r))):be({routes:[],injector:e})}};function D5(t){t.sort((e,r)=>e.value.outlet===qe?-1:r.value.outlet===qe?1:e.value.outlet.localeCompare(r.value.outlet))}function k5(t){let e=t.value.routeConfig;return e&&e.path===""}function bI(t){let e=[],r=new Set;for(let n of t){if(!k5(n)){e.push(n);continue}let i=e.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=bI(n.children);e.push(new xr(n.value,i))}return e.filter(n=>!r.has(n))}function GE(t){return t.data||{}}function WE(t){return t.resolve||{}}function T5(t,e,r,n,i,o){return Yt(s=>I5(t,e,r,n,s.extractedUrl,i,o).pipe(Se(({state:a,tree:l})=>Ee(j({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function O5(t,e){return Yt(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return be(r);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of CI(l))s.add(c);let a=0;return ft(s).pipe(Qr(l=>o.has(l)?A5(l,n,t,e):(l.data=kf(l,l.parent,t).resolve,be(void 0))),yt(()=>a++),ja(1),Yt(l=>a===s.size?be(r):yr))})}function CI(t){let e=t.children.map(r=>CI(r)).flat();return[t,...e]}function A5(t,e,r,n){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!pI(i)&&(o[au]=i.title),P5(o,t,e,n).pipe(Se(s=>(t._resolvedData=s,t.data=kf(t,t.parent,r).resolve,null)))}function P5(t,e,r,n){let i=Lv(t);if(i.length===0)return be({});let o={};return ft(i).pipe(Yt(s=>N5(t[s],e,r,n).pipe(mi(),yt(a=>{if(a instanceof ru)throw Of(new _l,a);o[s]=a}))),ja(1),Em(o),_n(s=>gI(s)?yr:$i(s)))}function N5(t,e,r,n){let i=cu(e)??n,o=Il(t,i),s=o.resolve?o.resolve(e,r):Pr(i,()=>o(e,r));return zo(s)}function Rv(t){return ct(e=>{let r=t(e);return r?ft(r).pipe(Se(()=>e)):be(e)})}var wI=(()=>{let e=class e{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===qe);return i}getResolvedTitleForRoute(n){return n.data[au]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>H(R5),providedIn:"root"});let t=e;return t})(),R5=(()=>{let e=class e extends wI{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ie(VE))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pu=new le("",{providedIn:"root",factory:()=>({})}),F5=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ae({type:e,selectors:[["ng-component"]],standalone:!0,features:[ge],decls:1,vars:0,template:function(i,o){i&1&&I(0,"router-outlet")},dependencies:[Ks],encapsulation:2});let t=e;return t})();function cy(t){let e=t.children&&t.children.map(cy),r=e?Ee(j({},t),{children:e}):j({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==qe&&(r.component=F5),r}var su=new le(""),uy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(Wp)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return be(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=zo(n.loadComponent()).pipe(Se(_I),yt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),ws(()=>{this.componentLoaders.delete(n)})),o=new Va(i,()=>new Ze).pipe(La());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return be({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=L5(i,this.compiler,n,this.onLoadEndListener).pipe(ws(()=>{this.childrenLoaders.delete(i)})),a=new Va(s,()=>new Ze).pipe(La());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function L5(t,e,r,n){return zo(t.loadChildren()).pipe(Se(_I),Yt(i=>i instanceof wc||Array.isArray(i)?be(i):ft(e.compileModuleAsync(i))),Se(i=>{n&&n(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(r).injector,s=o.get(su,[],{optional:!0,self:!0}).flat()),{routes:s.map(cy),injector:o}}))}function V5(t){return t&&typeof t=="object"&&"default"in t}function _I(t){return V5(t)?t.default:t}var dy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>H(B5),providedIn:"root"});let t=e;return t})(),B5=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xI=new le(""),SI=new le("");function j5(t,e,r){let n=t.get(SI),i=t.get(qt);return t.get(Dt).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),U5(t))),{onViewTransitionCreated:l}=n;return l&&Pr(t,()=>l({transition:a,from:e,to:r})),s})}function U5(t){return new Promise(e=>{q0({read:()=>setTimeout(e)},{injector:t})})}var $5=new le(""),py=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ze,this.transitionAbortSubject=new Ze,this.configLoader=H(uy),this.environmentInjector=H(Gn),this.urlSerializer=H(lu),this.rootContexts=H(uu),this.location=H(ml),this.inputBindingEnabled=H(Nf,{optional:!0})!==null,this.titleStrategy=H(wI),this.options=H(pu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=H(dy),this.createViewTransition=H(xI,{optional:!0}),this.navigationErrorHandler=H($5,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>be(void 0),this.rootComponentType=null;let n=o=>this.events.next(new qv(o)),i=o=>this.events.next(new Gv(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Ee(j(j({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new Lt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Jc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tr(s=>s.id!==0),Se(s=>Ee(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ct(s=>{let a=!1,l=!1;return be(s).pipe(ct(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Sr.SupersededByNewNavigation),yr;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let v="";return this.events.next(new Ho(c.id,this.urlSerializer.serialize(c.rawUrl),v,Sf.IgnoredSameUrlNavigation)),c.resolve(!1),yr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return be(c).pipe(ct(v=>{let C=this.transitions?.getValue();return this.events.next(new xl(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),C!==this.transitions?.getValue()?yr:Promise.resolve(v)}),T5(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),yt(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation=Ee(j({},this.currentNavigation),{finalUrl:v.urlAfterRedirects});let C=new Ef(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:v,extractedUrl:C,source:_,restoredState:S,extras:M}=c,L=new xl(v,this.urlSerializer.serialize(C),_,S);this.events.next(L);let re=uI(this.rootComponentType).snapshot;return this.currentTransition=s=Ee(j({},c),{targetSnapshot:re,urlAfterRedirects:C,extras:Ee(j({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,be(s)}else{let v="";return this.events.next(new Ho(c.id,this.urlSerializer.serialize(c.extractedUrl),v,Sf.IgnoredByUrlHandlingStrategy)),c.resolve(!1),yr}}),yt(c=>{let u=new Uv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Se(c=>(this.currentTransition=s=Ee(j({},c),{guards:Y4(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),a5(this.environmentInjector,c=>this.events.next(c)),yt(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Of(this.urlSerializer,c.guardsResult);let u=new $v(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),tr(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Sr.GuardRejected),!1)),Rv(c=>{if(c.guards.canActivateChecks.length)return be(c).pipe(yt(u=>{let d=new Hv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ct(u=>{let d=!1;return be(u).pipe(O5(this.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Sr.NoDataFromResolver)}}))}),yt(u=>{let d=new zv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Rv(c=>{let u=d=>{let v=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(d.routeConfig).pipe(yt(C=>{d.component=C}),Se(()=>{})));for(let C of d.children)v.push(...u(C));return v};return Ba(u(c.targetSnapshot.root)).pipe(Eo(null),nr(1))}),Rv(()=>this.afterPreactivation()),ct(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?ft(d).pipe(Se(()=>s)):be(s)}),Se(c=>{let u=q4(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=Ee(j({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),yt(()=>{this.events.next(new tu)}),Z4(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),nr(1),yt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Er(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),en(this.transitionAbortSubject.pipe(yt(c=>{throw c}))),ws(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",Sr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),_n(c=>{if(l=!0,mI(c))this.events.next(new lo(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),K4(c)?this.events.next(new Sl(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new eu(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let d=Pr(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof ru){let{message:v,cancellationCode:C}=Of(this.urlSerializer,d);this.events.next(new lo(s.id,this.urlSerializer.serialize(s.extractedUrl),v,C)),this.events.next(new Sl(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let v=n.errorHandler(c);s.resolve(!!v)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return yr}))}))}cancelNavigationTransition(n,i,o){let s=new lo(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function H5(t){return t!==Jc}var z5=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>H(q5),providedIn:"root"});let t=e;return t})(),ay=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},q5=(()=>{let e=class e extends ay{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:()=>H(G5),providedIn:"root"});let t=e;return t})(),G5=(()=>{let e=class e extends EI{constructor(){super(...arguments),this.location=H(ml),this.urlSerializer=H(lu),this.options=H(pu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=H(dy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new co,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=uI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof xl)this.stateMemento=this.createStateMemento();else if(n instanceof Ho)this.rawUrlTree=i.initialUrl;else if(n instanceof Ef){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else n instanceof tu?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof lo&&(n.code===Sr.GuardRejected||n.code===Sr.NoDataFromResolver)?this.restoreHistory(i):n instanceof eu?this.restoreHistory(i,!0):n instanceof Er&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=n instanceof co?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=j(j({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=j(j({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zc||{});function II(t,e){t.events.pipe(tr(r=>r instanceof Er||r instanceof lo||r instanceof eu||r instanceof Ho),Se(r=>r instanceof Er||r instanceof Ho?Zc.COMPLETE:(r instanceof lo?r.code===Sr.Redirect||r.code===Sr.SupersededByNewNavigation:!1)?Zc.REDIRECTING:Zc.FAILED),tr(r=>r!==Zc.REDIRECTING),nr(1)).subscribe(()=>{e()})}function W5(t){throw t}var K5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Z5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=H(Gp),this.stateManager=H(EI),this.options=H(pu,{optional:!0})||{},this.pendingTasks=H(Ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=H(py),this.urlSerializer=H(lu),this.location=H(ml),this.urlHandlingStrategy=H(dy),this._events=new Ze,this.errorHandler=this.options.errorHandler||W5,this.navigated=!1,this.routeReuseStrategy=H(z5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=H(su,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!H(Nf,{optional:!0}),this.eventsSubscription=new Xt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof lo&&i.code!==Sr.Redirect&&i.code!==Sr.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Er)this.navigated=!0;else if(i instanceof Sl){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c=j({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||H5(o.source)},a);this.scheduleNavigation(l,Jc,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}J5(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=j({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(cy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":d=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let v;try{let C=o?o.snapshot:this.routerState.snapshot.root;v=sI(C)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),v=this.currentUrlTree.root}return aI(v,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=Ws(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Jc,null,i)}navigate(n,i={skipLocationChange:!1}){return Y5(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=j({},K5):i===!1?o=j({},Z5):o=i,Ws(n))return jE(this.currentUrlTree,n,o);let s=this.parseUrl(n);return jE(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(n,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((v,C)=>{l=v,c=C});let d=this.pendingTasks.add();return II(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(v=>Promise.reject(v))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Y5(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Ce(4008,!1)}function J5(t){return!(t instanceof tu)&&!(t instanceof Sl)}var Be=(()=>{let e=class e{constructor(n,i,o,s,a,l){this.router=n,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new Ze,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ws(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:Sx(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,n,i):o.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Ws(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(T(mt),T(mn),y0("tabindex"),T(tn),T(bt),T(ao))},e.\u0275dir=et({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&P("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&no("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Lr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Lr],replaceUrl:[2,"replaceUrl","replaceUrl",Lr],routerLink:"routerLink"},standalone:!0,features:[ul,Sn]});let t=e;return t})(),MI=(()=>{let e=class e{get isActive(){return this._isActive}constructor(n,i,o,s,a){this.router=n,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ae,this.routerEventsSubscription=n.events.subscribe(l=>{l instanceof Er&&this.update()})}ngAfterContentInit(){be(this.links.changes,be(null)).pipe(So()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ft(n).pipe(So()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){let i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let i=Q5(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?n.isActive(s,i):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};e.\u0275fac=function(i){return new(i||e)(T(mt),T(bt),T(tn),T(Fr),T(Be,8))},e.\u0275dir=et({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&MS(s,Be,5),i&2){let a;js(a=Us())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Sn]});let t=e;return t})();function Q5(t){return!!t.paths}var Pf=class{};var X5=(()=>{let e=class e{constructor(n,i,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(tr(n=>n instanceof Er),Qr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=zp(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ft(o).pipe(So())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(n,i):o=be(null);let s=o.pipe(Yt(a=>a===null?be(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ft([s,a]).pipe(So())}else return s})}};e.\u0275fac=function(i){return new(i||e)(ie(mt),ie(Wp),ie(Gn),ie(Pf),ie(uy))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DI=new le(""),ej=(()=>{let e=class e{constructor(n,i,o,s,a={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof xl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Er?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ho&&n.code===Sf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof If&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new If(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Vx()},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function kI(t,...e){return Ls([{provide:su,multi:!0,useValue:t},[],{provide:mn,useFactory:TI,deps:[mt]},{provide:Pc,multi:!0,useFactory:OI},e.map(r=>r.\u0275providers)])}function TI(t){return t.routerState.root}function fu(t,e){return{\u0275kind:t,\u0275providers:e}}function OI(){let t=H(Wn);return e=>{let r=t.get(Si);if(e!==r.components[0])return;let n=t.get(mt),i=t.get(AI);t.get(fy)===1&&n.initialNavigation(),t.get(PI,null,Ye.Optional)?.setUpPreloading(),t.get(DI,null,Ye.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var AI=new le("",{factory:()=>new Ze}),fy=new le("",{providedIn:"root",factory:()=>1});function tj(){return fu(2,[{provide:fy,useValue:0},{provide:pl,multi:!0,deps:[Wn],useFactory:e=>{let r=e.get(eE,Promise.resolve());return()=>r.then(()=>new Promise(n=>{let i=e.get(mt),o=e.get(AI);II(i,()=>{n(!0)}),e.get(py).afterPreactivation=()=>(n(!0),o.closed?be(void 0):o),i.initialNavigation()}))}}])}function nj(){return fu(3,[{provide:pl,multi:!0,useFactory:()=>{let e=H(mt);return()=>{e.setUpLocationChangeListener()}}},{provide:fy,useValue:2}])}var PI=new le("");function rj(t){return fu(0,[{provide:PI,useExisting:X5},{provide:Pf,useExisting:t}])}function hy(){return fu(8,[zE,{provide:Nf,useExisting:zE}])}function ij(t){let e=[{provide:xI,useValue:j5},{provide:SI,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return fu(9,e)}var KE=new le("ROUTER_FORROOT_GUARD"),oj=[ml,{provide:lu,useClass:_l},mt,uu,{provide:mn,useFactory:TI,deps:[mt]},uy,[]],NI=(()=>{let e=class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[oj,[],{provide:su,multi:!0,useValue:n},{provide:KE,useFactory:cj,deps:[[mt,new Ec,new _p]]},{provide:pu,useValue:i||{}},i?.useHash?aj():lj(),sj(),i?.preloadingStrategy?rj(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?uj(i):[],i?.bindToComponentInputs?hy().\u0275providers:[],i?.enableViewTransitions?ij().\u0275providers:[],dj()]}}static forChild(n){return{ngModule:e,providers:[{provide:su,multi:!0,useValue:n}]}}};e.\u0275fac=function(i){return new(i||e)(ie(KE,8))},e.\u0275mod=Ln({type:e}),e.\u0275inj=Fn({});let t=e;return t})();function sj(){return{provide:DI,useFactory:()=>{let t=H(mE),e=H(Dt),r=H(pu),n=H(py),i=H(lu);return r.scrollOffset&&t.setOffset(r.scrollOffset),new ej(i,n,t,e,r)}}}function aj(){return{provide:ao,useClass:nE}}function lj(){return{provide:ao,useClass:mv}}function cj(t){return"guarded"}function uj(t){return[t.initialNavigation==="disabled"?nj().\u0275providers:[],t.initialNavigation==="enabledBlocking"?tj().\u0275providers:[]]}var ZE=new le("");function dj(){return[{provide:ZE,useFactory:OI},{provide:Pc,multi:!0,useExisting:ZE}]}var eM=vC(XI(),1);var Js=class extends Error{};Js.prototype.name="InvalidTokenError";function $j(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Hj(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return $j(e)}catch{return atob(e)}}function qo(t,e){if(typeof t!="string")throw new Js("Invalid token specified: must be a string");e||(e={});let r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new Js(`Invalid token specified: missing part #${r+1}`);let i;try{i=Hj(n)}catch(o){throw new Js(`Invalid token specified: invalid base64 for part #${r+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Js(`Invalid token specified: invalid json for part #${r+1} (${o.message})`)}}if(typeof Promise>"u")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");function Sy(t){if(!(this instanceof Sy))throw new Error("The 'Keycloak' constructor must be invoked with 'new'.");for(var e=this,r,n=[],i,o={enable:!0,callbackList:[],interval:5},s=document.getElementsByTagName("script"),a=0;a<s.length;a++)(s[a].src.indexOf("keycloak.js")!==-1||s[a].src.indexOf("keycloak.min.js")!==-1)&&s[a].src.indexOf("version=")!==-1&&(e.iframeVersion=s[a].src.substring(s[a].src.indexOf("version=")+8).split("&")[0]);var l=!0,c=vt(console.info),u=vt(console.warn);e.init=function(D){if(e.didInitialize)throw new Error("A 'Keycloak' instance can only be initialized once.");e.didInitialize=!0,e.authenticated=!1,i=Le();var F=["default","cordova","cordova-native"];if(D&&F.indexOf(D.adapter)>-1?r=xt(D.adapter):D&&typeof D.adapter=="object"?r=D.adapter:window.Cordova||window.cordova?r=xt("cordova"):r=xt(),D){if(typeof D.useNonce<"u"&&(l=D.useNonce),typeof D.checkLoginIframe<"u"&&(o.enable=D.checkLoginIframe),D.checkLoginIframeInterval&&(o.interval=D.checkLoginIframeInterval),D.onLoad==="login-required"&&(e.loginRequired=!0),D.responseMode)if(D.responseMode==="query"||D.responseMode==="fragment")e.responseMode=D.responseMode;else throw"Invalid value for responseMode";if(D.flow){switch(D.flow){case"standard":e.responseType="code";break;case"implicit":e.responseType="id_token token";break;case"hybrid":e.responseType="code id_token token";break;default:throw"Invalid value for flow"}e.flow=D.flow}if(D.timeSkew!=null&&(e.timeSkew=D.timeSkew),D.redirectUri&&(e.redirectUri=D.redirectUri),D.silentCheckSsoRedirectUri&&(e.silentCheckSsoRedirectUri=D.silentCheckSsoRedirectUri),typeof D.silentCheckSsoFallback=="boolean"?e.silentCheckSsoFallback=D.silentCheckSsoFallback:e.silentCheckSsoFallback=!0,typeof D.pkceMethod<"u"){if(D.pkceMethod!=="S256"&&D.pkceMethod!==!1)throw new TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${D.pkceMethod}.`);e.pkceMethod=D.pkceMethod}else e.pkceMethod="S256";typeof D.enableLogging=="boolean"?e.enableLogging=D.enableLogging:e.enableLogging=!1,D.logoutMethod==="POST"?e.logoutMethod="POST":e.logoutMethod="GET",typeof D.scope=="string"&&(e.scope=D.scope),typeof D.acrValues=="string"&&(e.acrValues=D.acrValues),typeof D.messageReceiveTimeout=="number"&&D.messageReceiveTimeout>0?e.messageReceiveTimeout=D.messageReceiveTimeout:e.messageReceiveTimeout=1e4}e.responseMode||(e.responseMode="fragment"),e.responseType||(e.responseType="code",e.flow="standard");var J=ee(),te=ee();te.promise.then(function(){e.onReady&&e.onReady(e.authenticated),J.setSuccess(e.authenticated)}).catch(function(ye){J.setError(ye)});var G=ue();function ce(){var ye=function(tt){tt||(je.prompt="none"),D&&D.locale&&(je.locale=D.locale),e.login(je).then(function(){te.setSuccess()}).catch(function(kr){te.setError(kr)})},me=function(){var tt=document.createElement("iframe"),kr=e.createLoginUrl({prompt:"none",redirectUri:e.silentCheckSsoRedirectUri});tt.setAttribute("src",kr),tt.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),tt.setAttribute("title","keycloak-silent-check-sso"),tt.style.display="none",document.body.appendChild(tt);var Ht=function(zt){if(!(zt.origin!==window.location.origin||tt.contentWindow!==zt.source)){var fs=W(zt.data);re(fs,te),document.body.removeChild(tt),window.removeEventListener("message",Ht)}};window.addEventListener("message",Ht)},je={};switch(D.onLoad){case"check-sso":o.enable?se().then(function(){Fe().then(function(tt){tt?te.setSuccess():e.silentCheckSsoRedirectUri?me():ye(!1)}).catch(function(tt){te.setError(tt)})}):e.silentCheckSsoRedirectUri?me():ye(!1);break;case"login-required":ye(!0);break;default:throw"Invalid value for onLoad"}}function X(){var ye=W(window.location.href);if(ye&&window.history.replaceState(window.history.state,null,ye.newUrl),ye&&ye.valid)return se().then(function(){re(ye,te)}).catch(function(me){te.setError(me)});D?D.token&&D.refreshToken?(Oe(D.token,D.refreshToken,D.idToken),o.enable?se().then(function(){Fe().then(function(me){me?(e.onAuthSuccess&&e.onAuthSuccess(),te.setSuccess(),K()):te.setSuccess()}).catch(function(me){te.setError(me)})}):e.updateToken(-1).then(function(){e.onAuthSuccess&&e.onAuthSuccess(),te.setSuccess()}).catch(function(me){e.onAuthError&&e.onAuthError(),D.onLoad?ce():te.setError(me)})):D.onLoad?ce():te.setSuccess():te.setSuccess()}function ne(){var ye=ee(),me=function(){(document.readyState==="interactive"||document.readyState==="complete")&&(document.removeEventListener("readystatechange",me),ye.setSuccess())};return document.addEventListener("readystatechange",me),me(),ye.promise}return G.then(function(){ne().then(Qe).then(X).catch(function(ye){J.setError(ye)})}),G.catch(function(ye){J.setError(ye)}),J.promise},e.login=function(D){return r.login(D)};function d(D){var F=null,J=window.crypto||window.msCrypto;if(J&&J.getRandomValues&&window.Uint8Array)return F=new Uint8Array(D),J.getRandomValues(F),F;F=new Array(D);for(var te=0;te<F.length;te++)F[te]=Math.floor(256*Math.random());return F}function v(D){return C(D,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function C(D,F){for(var J=d(D),te=new Array(D),G=0;G<D;G++)te[G]=F.charCodeAt(J[G]%F.length);return String.fromCharCode.apply(null,te)}function _(D,F){if(D!=="S256")throw new TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${D}'.`);let J=new Uint8Array(eM.default.arrayBuffer(F));return zj(J).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function S(D){var F={id_token:{acr:D}};return JSON.stringify(F)}e.createLoginUrl=function(D){var F=V(),J=V(),te=r.redirectUri(D),G={state:F,nonce:J,redirectUri:encodeURIComponent(te),loginOptions:D};D&&D.prompt&&(G.prompt=D.prompt);var ce;D&&D.action=="register"?ce=e.endpoints.register():ce=e.endpoints.authorize();var X=D&&D.scope||e.scope;X?X.indexOf("openid")===-1&&(X="openid "+X):X="openid";var ne=ce+"?client_id="+encodeURIComponent(e.clientId)+"&redirect_uri="+encodeURIComponent(te)+"&state="+encodeURIComponent(F)+"&response_mode="+encodeURIComponent(e.responseMode)+"&response_type="+encodeURIComponent(e.responseType)+"&scope="+encodeURIComponent(X);if(l&&(ne=ne+"&nonce="+encodeURIComponent(J)),D&&D.prompt&&(ne+="&prompt="+encodeURIComponent(D.prompt)),D&&D.maxAge&&(ne+="&max_age="+encodeURIComponent(D.maxAge)),D&&D.loginHint&&(ne+="&login_hint="+encodeURIComponent(D.loginHint)),D&&D.idpHint&&(ne+="&kc_idp_hint="+encodeURIComponent(D.idpHint)),D&&D.action&&D.action!="register"&&(ne+="&kc_action="+encodeURIComponent(D.action)),D&&D.locale&&(ne+="&ui_locales="+encodeURIComponent(D.locale)),D&&D.acr){var ye=S(D.acr);ne+="&claims="+encodeURIComponent(ye)}if((D&&D.acrValues||e.acrValues)&&(ne+="&acr_values="+encodeURIComponent(D.acrValues||e.acrValues)),e.pkceMethod){var me=v(96);G.pkceCodeVerifier=me;var je=_(e.pkceMethod,me);ne+="&code_challenge="+je,ne+="&code_challenge_method="+e.pkceMethod}return i.add(G),ne},e.logout=function(D){return r.logout(D)},e.createLogoutUrl=function(D){if((D?.logoutMethod??e.logoutMethod)==="POST")return e.endpoints.logout();var J=e.endpoints.logout()+"?client_id="+encodeURIComponent(e.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(r.redirectUri(D,!1));return e.idToken&&(J+="&id_token_hint="+encodeURIComponent(e.idToken)),J},e.register=function(D){return r.register(D)},e.createRegisterUrl=function(D){return D||(D={}),D.action="register",e.createLoginUrl(D)},e.createAccountUrl=function(D){var F=M(),J=void 0;return typeof F<"u"&&(J=F+"/account?referrer="+encodeURIComponent(e.clientId)+"&referrer_uri="+encodeURIComponent(r.redirectUri(D))),J},e.accountManagement=function(){return r.accountManagement()},e.hasRealmRole=function(D){var F=e.realmAccess;return!!F&&F.roles.indexOf(D)>=0},e.hasResourceRole=function(D,F){if(!e.resourceAccess)return!1;var J=e.resourceAccess[F||e.clientId];return!!J&&J.roles.indexOf(D)>=0},e.loadUserProfile=function(){var D=M()+"/account",F=new XMLHttpRequest;F.open("GET",D,!0),F.setRequestHeader("Accept","application/json"),F.setRequestHeader("Authorization","bearer "+e.token);var J=ee();return F.onreadystatechange=function(){F.readyState==4&&(F.status==200?(e.profile=JSON.parse(F.responseText),J.setSuccess(e.profile)):J.setError())},F.send(),J.promise},e.loadUserInfo=function(){var D=e.endpoints.userinfo(),F=new XMLHttpRequest;F.open("GET",D,!0),F.setRequestHeader("Accept","application/json"),F.setRequestHeader("Authorization","bearer "+e.token);var J=ee();return F.onreadystatechange=function(){F.readyState==4&&(F.status==200?(e.userInfo=JSON.parse(F.responseText),J.setSuccess(e.userInfo)):J.setError())},F.send(),J.promise},e.isTokenExpired=function(D){if(!e.tokenParsed||!e.refreshToken&&e.flow!="implicit")throw"Not authenticated";if(e.timeSkew==null)return c("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var F=e.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+e.timeSkew;if(D){if(isNaN(D))throw"Invalid minValidity";F-=D}return F<0},e.updateToken=function(D){var F=ee();if(!e.refreshToken)return F.setError(),F.promise;D=D||5;var J=function(){var G=!1;if(D==-1?(G=!0,c("[KEYCLOAK] Refreshing token: forced refresh")):(!e.tokenParsed||e.isTokenExpired(D))&&(G=!0,c("[KEYCLOAK] Refreshing token: token expired")),!G)F.setSuccess(!1);else{var ce="grant_type=refresh_token&refresh_token="+e.refreshToken,X=e.endpoints.token();if(n.push(F),n.length==1){var ne=new XMLHttpRequest;ne.open("POST",X,!0),ne.setRequestHeader("Content-type","application/x-www-form-urlencoded"),ne.withCredentials=!0,ce+="&client_id="+encodeURIComponent(e.clientId);var ye=new Date().getTime();ne.onreadystatechange=function(){if(ne.readyState==4)if(ne.status==200){c("[KEYCLOAK] Token refreshed"),ye=(ye+new Date().getTime())/2;var me=JSON.parse(ne.responseText);Oe(me.access_token,me.refresh_token,me.id_token,ye),e.onAuthRefreshSuccess&&e.onAuthRefreshSuccess();for(var je=n.pop();je!=null;je=n.pop())je.setSuccess(!0)}else{u("[KEYCLOAK] Failed to refresh token"),ne.status==400&&e.clearToken(),e.onAuthRefreshError&&e.onAuthRefreshError();for(var je=n.pop();je!=null;je=n.pop())je.setError(!0)}},ne.send(ce)}}};if(o.enable){var te=Fe();te.then(function(){J()}).catch(function(G){F.setError(G)})}else J();return F.promise},e.clearToken=function(){e.token&&(Oe(null,null,null),e.onAuthLogout&&e.onAuthLogout(),e.loginRequired&&e.login())};function M(){if(typeof e.authServerUrl<"u")return e.authServerUrl.charAt(e.authServerUrl.length-1)=="/"?e.authServerUrl+"realms/"+encodeURIComponent(e.realm):e.authServerUrl+"/realms/"+encodeURIComponent(e.realm)}function L(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function re(D,F){var J=D.code,te=D.error,G=D.prompt,ce=new Date().getTime();if(D.kc_action_status&&e.onActionUpdate&&e.onActionUpdate(D.kc_action_status),te){if(G!="none")if(D.error_description&&D.error_description==="authentication_expired")e.login(D.loginOptions);else{var X={error:te,error_description:D.error_description};e.onAuthError&&e.onAuthError(X),F&&F.setError(X)}else F&&F.setSuccess();return}else e.flow!="standard"&&(D.access_token||D.id_token)&&je(D.access_token,null,D.id_token,!0);if(e.flow!="implicit"&&J){var ne="code="+J+"&grant_type=authorization_code",ye=e.endpoints.token(),me=new XMLHttpRequest;me.open("POST",ye,!0),me.setRequestHeader("Content-type","application/x-www-form-urlencoded"),ne+="&client_id="+encodeURIComponent(e.clientId),ne+="&redirect_uri="+D.redirectUri,D.pkceCodeVerifier&&(ne+="&code_verifier="+D.pkceCodeVerifier),me.withCredentials=!0,me.onreadystatechange=function(){if(me.readyState==4)if(me.status==200){var tt=JSON.parse(me.responseText);je(tt.access_token,tt.refresh_token,tt.id_token,e.flow==="standard"),K()}else e.onAuthError&&e.onAuthError(),F&&F.setError()},me.send(ne)}function je(tt,kr,Ht,zt){ce=(ce+new Date().getTime())/2,Oe(tt,kr,Ht,ce),l&&e.idTokenParsed&&e.idTokenParsed.nonce!=D.storedNonce?(c("[KEYCLOAK] Invalid nonce, clearing token"),e.clearToken(),F&&F.setError()):zt&&(e.onAuthSuccess&&e.onAuthSuccess(),F&&F.setSuccess())}}function ue(D){var F=ee(),J;t?typeof t=="string"&&(J=t):J="keycloak.json";function te(me){me?e.endpoints={authorize:function(){return me.authorization_endpoint},token:function(){return me.token_endpoint},logout:function(){if(!me.end_session_endpoint)throw"Not supported by the OIDC server";return me.end_session_endpoint},checkSessionIframe:function(){if(!me.check_session_iframe)throw"Not supported by the OIDC server";return me.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!me.userinfo_endpoint)throw"Not supported by the OIDC server";return me.userinfo_endpoint}}:e.endpoints={authorize:function(){return M()+"/protocol/openid-connect/auth"},token:function(){return M()+"/protocol/openid-connect/token"},logout:function(){return M()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var je=M()+"/protocol/openid-connect/login-status-iframe.html";return e.iframeVersion&&(je=je+"?version="+e.iframeVersion),je},thirdPartyCookiesIframe:function(){var je=M()+"/protocol/openid-connect/3p-cookies/step1.html";return e.iframeVersion&&(je=je+"?version="+e.iframeVersion),je},register:function(){return M()+"/protocol/openid-connect/registrations"},userinfo:function(){return M()+"/protocol/openid-connect/userinfo"}}}if(J){var G=new XMLHttpRequest;G.open("GET",J,!0),G.setRequestHeader("Accept","application/json"),G.onreadystatechange=function(){if(G.readyState==4)if(G.status==200||_e(G)){var me=JSON.parse(G.responseText);e.authServerUrl=me["auth-server-url"],e.realm=me.realm,e.clientId=me.resource,te(null),F.setSuccess()}else F.setError()},G.send()}else{if(!t.clientId)throw"clientId missing";e.clientId=t.clientId;var ce=t.oidcProvider;if(ce)if(typeof ce=="string"){var ye;ce.charAt(ce.length-1)=="/"?ye=ce+".well-known/openid-configuration":ye=ce+"/.well-known/openid-configuration";var G=new XMLHttpRequest;G.open("GET",ye,!0),G.setRequestHeader("Accept","application/json"),G.onreadystatechange=function(){if(G.readyState==4)if(G.status==200||_e(G)){var je=JSON.parse(G.responseText);te(je),F.setSuccess()}else F.setError()},G.send()}else te(ce),F.setSuccess();else{if(!t.url){for(var X=document.getElementsByTagName("script"),ne=0;ne<X.length;ne++)if(X[ne].src.match(/.*keycloak\.js/)){t.url=X[ne].src.substr(0,X[ne].src.indexOf("/js/keycloak.js"));break}}if(!t.realm)throw"realm missing";e.authServerUrl=t.url,e.realm=t.realm,te(null),F.setSuccess()}}return F.promise}function _e(D){return D.status==0&&D.responseText&&D.responseURL.startsWith("file:")}function Oe(D,F,J,te){if(e.tokenTimeoutHandle&&(clearTimeout(e.tokenTimeoutHandle),e.tokenTimeoutHandle=null),F?(e.refreshToken=F,e.refreshTokenParsed=qo(F)):(delete e.refreshToken,delete e.refreshTokenParsed),J?(e.idToken=J,e.idTokenParsed=qo(J)):(delete e.idToken,delete e.idTokenParsed),D){if(e.token=D,e.tokenParsed=qo(D),e.sessionId=e.tokenParsed.sid,e.authenticated=!0,e.subject=e.tokenParsed.sub,e.realmAccess=e.tokenParsed.realm_access,e.resourceAccess=e.tokenParsed.resource_access,te&&(e.timeSkew=Math.floor(te/1e3)-e.tokenParsed.iat),e.timeSkew!=null&&(c("[KEYCLOAK] Estimated time difference between browser and server is "+e.timeSkew+" seconds"),e.onTokenExpired)){var G=(e.tokenParsed.exp-new Date().getTime()/1e3+e.timeSkew)*1e3;c("[KEYCLOAK] Token expires in "+Math.round(G/1e3)+" s"),G<=0?e.onTokenExpired():e.tokenTimeoutHandle=setTimeout(e.onTokenExpired,G)}}else delete e.token,delete e.tokenParsed,delete e.subject,delete e.realmAccess,delete e.resourceAccess,e.authenticated=!1}function V(){var D="0123456789abcdef",F=C(36,D).split("");F[14]="4",F[19]=D.substr(F[19]&3|8,1),F[8]=F[13]=F[18]=F[23]="-";var J=F.join("");return J}function W(D){var F=Q(D);if(F){var J=i.get(F.state);return J&&(F.valid=!0,F.redirectUri=J.redirectUri,F.storedNonce=J.nonce,F.prompt=J.prompt,F.pkceCodeVerifier=J.pkceCodeVerifier,F.loginOptions=J.loginOptions),F}}function Q(D){var F;switch(e.flow){case"standard":F=["code","state","session_state","kc_action_status","iss"];break;case"implicit":F=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status","iss"];break;case"hybrid":F=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status","iss"];break}F.push("error"),F.push("error_description"),F.push("error_uri");var J=D.indexOf("?"),te=D.indexOf("#"),G,ce;if(e.responseMode==="query"&&J!==-1?(G=D.substring(0,J),ce=R(D.substring(J+1,te!==-1?te:D.length),F),ce.paramsString!==""&&(G+="?"+ce.paramsString),te!==-1&&(G+=D.substring(te))):e.responseMode==="fragment"&&te!==-1&&(G=D.substring(0,te),ce=R(D.substring(te+1),F),ce.paramsString!==""&&(G+="#"+ce.paramsString)),ce&&ce.oauthParams){if(e.flow==="standard"||e.flow==="hybrid"){if((ce.oauthParams.code||ce.oauthParams.error)&&ce.oauthParams.state)return ce.oauthParams.newUrl=G,ce.oauthParams}else if(e.flow==="implicit"&&(ce.oauthParams.access_token||ce.oauthParams.error)&&ce.oauthParams.state)return ce.oauthParams.newUrl=G,ce.oauthParams}}function R(D,F){for(var J=D.split("&"),te={paramsString:"",oauthParams:{}},G=0;G<J.length;G++){var ce=J[G].indexOf("="),X=J[G].slice(0,ce);F.indexOf(X)!==-1?te.oauthParams[X]=J[G].slice(ce+1):(te.paramsString!==""&&(te.paramsString+="&"),te.paramsString+=J[G])}return te}function ee(){var D={setSuccess:function(F){D.resolve(F)},setError:function(F){D.reject(F)}};return D.promise=new Promise(function(F,J){D.resolve=F,D.reject=J}),D}function q(D,F,J){var te=null,G=new Promise(function(ce,X){te=setTimeout(function(){X({error:J})},F)});return Promise.race([D,G]).finally(function(){clearTimeout(te)})}function se(){var D=ee();if(!o.enable||o.iframe)return D.setSuccess(),D.promise;var F=document.createElement("iframe");o.iframe=F,F.onload=function(){var G=e.endpoints.authorize();G.charAt(0)==="/"?o.iframeOrigin=L():o.iframeOrigin=G.substring(0,G.indexOf("/",8)),D.setSuccess()};var J=e.endpoints.checkSessionIframe();F.setAttribute("src",J),F.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),F.setAttribute("title","keycloak-session-iframe"),F.style.display="none",document.body.appendChild(F);var te=function(G){if(!(G.origin!==o.iframeOrigin||o.iframe.contentWindow!==G.source)&&(G.data=="unchanged"||G.data=="changed"||G.data=="error")){G.data!="unchanged"&&e.clearToken();for(var ce=o.callbackList.splice(0,o.callbackList.length),X=ce.length-1;X>=0;--X){var ne=ce[X];G.data=="error"?ne.setError():ne.setSuccess(G.data=="unchanged")}}};return window.addEventListener("message",te,!1),D.promise}function K(){o.enable&&e.token&&setTimeout(function(){Fe().then(function(D){D&&K()})},o.interval*1e3)}function Fe(){var D=ee();if(o.iframe&&o.iframeOrigin){var F=e.clientId+" "+(e.sessionId?e.sessionId:"");o.callbackList.push(D);var J=o.iframeOrigin;o.callbackList.length==1&&o.iframe.contentWindow.postMessage(F,J)}else D.setSuccess();return D.promise}function Qe(){var D=ee();if(o.enable||e.silentCheckSsoRedirectUri){var F=document.createElement("iframe");F.setAttribute("src",e.endpoints.thirdPartyCookiesIframe()),F.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),F.setAttribute("title","keycloak-3p-check-iframe"),F.style.display="none",document.body.appendChild(F);var J=function(te){F.contentWindow===te.source&&(te.data!=="supported"&&te.data!=="unsupported"||(te.data==="unsupported"&&(u(`[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:

 - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).
 - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).

For more information see: https://www.keycloak.org/docs/latest/securing_apps/#_modern_browsers`),o.enable=!1,e.silentCheckSsoFallback&&(e.silentCheckSsoRedirectUri=!1)),document.body.removeChild(F),window.removeEventListener("message",J),D.setSuccess()))};window.addEventListener("message",J,!1)}else D.setSuccess();return q(D.promise,e.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function xt(D){if(!D||D=="default")return{login:function(X){return window.location.assign(e.createLoginUrl(X)),ee().promise},logout:function(X){return Et(this,null,function*(){if((X?.logoutMethod??e.logoutMethod)==="GET"){window.location.replace(e.createLogoutUrl(X));return}let ye=e.createLogoutUrl(X),me=yield fetch(ye,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id_token_hint:e.idToken,client_id:e.clientId,post_logout_redirect_uri:r.redirectUri(X,!1)})});if(me.redirected){window.location.href=me.url;return}if(me.ok){window.location.reload();return}throw new Error("Logout failed, request returned an error code.")})},register:function(X){return window.location.assign(e.createRegisterUrl(X)),ee().promise},accountManagement:function(){var X=e.createAccountUrl();if(typeof X<"u")window.location.href=X;else throw"Not supported by the OIDC server";return ee().promise},redirectUri:function(X,ne){return X&&X.redirectUri?X.redirectUri:e.redirectUri?e.redirectUri:location.href}};if(D=="cordova"){o.enable=!1;var F=function(X,ne,ye){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(X,ne,ye):window.open(X,ne,ye)},J=function(X){return X&&X.cordovaOptions?Object.keys(X.cordovaOptions).reduce(function(ne,ye){return ne[ye]=X.cordovaOptions[ye],ne},{}):{}},te=function(X){return Object.keys(X).reduce(function(ne,ye){return ne.push(ye+"="+X[ye]),ne},[]).join(",")},G=function(X){var ne=J(X);return ne.location="no",X&&X.prompt=="none"&&(ne.hidden="yes"),te(ne)},ce=function(){return e.redirectUri||"http://localhost"};return{login:function(X){var ne=ee(),ye=G(X),me=e.createLoginUrl(X),je=F(me,"_blank",ye),tt=!1,kr=!1,Ht=function(){kr=!0,je.close()};return je.addEventListener("loadstart",function(zt){if(zt.url.indexOf(ce())==0){var fs=W(zt.url);re(fs,ne),Ht(),tt=!0}}),je.addEventListener("loaderror",function(zt){if(!tt)if(zt.url.indexOf(ce())==0){var fs=W(zt.url);re(fs,ne),Ht(),tt=!0}else ne.setError(),Ht()}),je.addEventListener("exit",function(zt){kr||ne.setError({reason:"closed_by_user"})}),ne.promise},logout:function(X){var ne=ee(),ye=e.createLogoutUrl(X),me=F(ye,"_blank","location=no,hidden=yes,clearcache=yes"),je;return me.addEventListener("loadstart",function(tt){tt.url.indexOf(ce())==0&&me.close()}),me.addEventListener("loaderror",function(tt){tt.url.indexOf(ce())==0||(je=!0),me.close()}),me.addEventListener("exit",function(tt){je?ne.setError():(e.clearToken(),ne.setSuccess())}),ne.promise},register:function(X){var ne=ee(),ye=e.createRegisterUrl(),me=G(X),je=F(ye,"_blank",me);return je.addEventListener("loadstart",function(tt){if(tt.url.indexOf(ce())==0){je.close();var kr=W(tt.url);re(kr,ne)}}),ne.promise},accountManagement:function(){var X=e.createAccountUrl();if(typeof X<"u"){var ne=F(X,"_blank","location=no");ne.addEventListener("loadstart",function(ye){ye.url.indexOf(ce())==0&&ne.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(X){return ce()}}}if(D=="cordova-native")return o.enable=!1,{login:function(X){var ne=ee(),ye=e.createLoginUrl(X);return universalLinks.subscribe("keycloak",function(me){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var je=W(me.url);re(je,ne)}),window.cordova.plugins.browsertab.openUrl(ye),ne.promise},logout:function(X){var ne=ee(),ye=e.createLogoutUrl(X);return universalLinks.subscribe("keycloak",function(me){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),e.clearToken(),ne.setSuccess()}),window.cordova.plugins.browsertab.openUrl(ye),ne.promise},register:function(X){var ne=ee(),ye=e.createRegisterUrl(X);return universalLinks.subscribe("keycloak",function(me){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var je=W(me.url);re(je,ne)}),window.cordova.plugins.browsertab.openUrl(ye),ne.promise},accountManagement:function(){var X=e.createAccountUrl();if(typeof X<"u")window.cordova.plugins.browsertab.openUrl(X);else throw"Not supported by the OIDC server"},redirectUri:function(X){return X&&X.redirectUri?X.redirectUri:e.redirectUri?e.redirectUri:"http://localhost"}};throw"invalid adapter type: "+D}var Ge=function(){if(!(this instanceof Ge))return new Ge;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var D=this;function F(){for(var J=new Date().getTime(),te=0;te<localStorage.length;te++){var G=localStorage.key(te);if(G&&G.indexOf("kc-callback-")==0){var ce=localStorage.getItem(G);if(ce)try{var X=JSON.parse(ce).expires;(!X||X<J)&&localStorage.removeItem(G)}catch{localStorage.removeItem(G)}}}}D.get=function(J){if(J){var te="kc-callback-"+J,G=localStorage.getItem(te);return G&&(localStorage.removeItem(te),G=JSON.parse(G)),F(),G}},D.add=function(J){F();var te="kc-callback-"+J.state;J.expires=new Date().getTime()+60*60*1e3,localStorage.setItem(te,JSON.stringify(J))}},Pt=function(){if(!(this instanceof Pt))return new Pt;var D=this;D.get=function(G){if(G){var ce=J("kc-callback-"+G);if(te("kc-callback-"+G,"",F(-100)),ce)return JSON.parse(ce)}},D.add=function(G){te("kc-callback-"+G.state,JSON.stringify(G),F(60))},D.removeItem=function(G){te(G,"",F(-100))};var F=function(G){var ce=new Date;return ce.setTime(ce.getTime()+G*60*1e3),ce},J=function(G){for(var ce=G+"=",X=document.cookie.split(";"),ne=0;ne<X.length;ne++){for(var ye=X[ne];ye.charAt(0)==" ";)ye=ye.substring(1);if(ye.indexOf(ce)==0)return ye.substring(ce.length,ye.length)}return""},te=function(G,ce,X){var ne=G+"="+ce+"; expires="+X.toUTCString()+"; ";document.cookie=ne}};function Le(){try{return new Ge}catch{}return new Pt}function vt(D){return function(){e.enableLogging&&D.apply(console,Array.prototype.slice.call(arguments))}}}function zj(t){let e=String.fromCodePoint(...t);return btoa(e)}var po=function(t){return t[t.OnAuthError=0]="OnAuthError",t[t.OnAuthLogout=1]="OnAuthLogout",t[t.OnAuthRefreshError=2]="OnAuthRefreshError",t[t.OnAuthRefreshSuccess=3]="OnAuthRefreshSuccess",t[t.OnAuthSuccess=4]="OnAuthSuccess",t[t.OnReady=5]="OnReady",t[t.OnTokenExpired=6]="OnTokenExpired",t[t.OnActionUpdate=7]="OnActionUpdate",t}(po||{});var hu=(()=>{let e=class e{constructor(){this._keycloakEvents$=new Ze}bindsKeycloakEvents(){this._instance.onAuthError=n=>{this._keycloakEvents$.next({args:n,type:po.OnAuthError})},this._instance.onAuthLogout=()=>{this._keycloakEvents$.next({type:po.OnAuthLogout})},this._instance.onAuthRefreshSuccess=()=>{this._keycloakEvents$.next({type:po.OnAuthRefreshSuccess})},this._instance.onAuthRefreshError=()=>{this._keycloakEvents$.next({type:po.OnAuthRefreshError})},this._instance.onAuthSuccess=()=>{this._keycloakEvents$.next({type:po.OnAuthSuccess})},this._instance.onTokenExpired=()=>{this._keycloakEvents$.next({type:po.OnTokenExpired})},this._instance.onActionUpdate=n=>{this._keycloakEvents$.next({args:n,type:po.OnActionUpdate})},this._instance.onReady=n=>{this._keycloakEvents$.next({args:n,type:po.OnReady})}}loadExcludedUrls(n){let i=[];for(let o of n){let s;typeof o=="string"?s={urlPattern:new RegExp(o,"i"),httpMethods:[]}:s={urlPattern:new RegExp(o.url,"i"),httpMethods:o.httpMethods},i.push(s)}return i}initServiceValues({enableBearerInterceptor:n=!0,loadUserProfileAtStartUp:i=!1,bearerExcludedUrls:o=[],authorizationHeaderName:s="Authorization",bearerPrefix:a="Bearer",initOptions:l,updateMinValidity:c=20,shouldAddToken:u=()=>!0,shouldUpdateToken:d=()=>!0}){this._enableBearerInterceptor=n,this._loadUserProfileAtStartUp=i,this._authorizationHeaderName=s,this._bearerPrefix=a.trim().concat(" "),this._excludedUrls=this.loadExcludedUrls(o),this._silentRefresh=l?l.flow==="implicit":!1,this._updateMinValidity=c,this.shouldAddToken=u,this.shouldUpdateToken=d}init(){return Et(this,arguments,function*(n={}){this.initServiceValues(n);let{config:i,initOptions:o}=n;this._instance=new Sy(i),this.bindsKeycloakEvents();let s=yield this._instance.init(o);return s&&this._loadUserProfileAtStartUp&&(yield this.loadUserProfile()),s})}login(){return Et(this,arguments,function*(n={}){yield this._instance.login(n),this._loadUserProfileAtStartUp&&(yield this.loadUserProfile())})}logout(n){return Et(this,null,function*(){let i={redirectUri:n};yield this._instance.logout(i),this._userProfile=void 0})}register(){return Et(this,arguments,function*(n={action:"register"}){yield this._instance.register(n)})}isUserInRole(n,i){let o;return o=this._instance.hasResourceRole(n,i),o||(o=this._instance.hasRealmRole(n)),o}getUserRoles(n=!0,i){let o=[];if(this._instance.resourceAccess&&Object.keys(this._instance.resourceAccess).forEach(s=>{if(i&&i!==s)return;let l=this._instance.resourceAccess[s].roles||[];o=o.concat(l)}),n&&this._instance.realmAccess){let s=this._instance.realmAccess.roles||[];o.push(...s)}return o}isLoggedIn(){return this._instance?this._instance.authenticated:!1}isTokenExpired(n=0){return this._instance.isTokenExpired(n)}updateToken(){return Et(this,arguments,function*(n=this._updateMinValidity){if(this._silentRefresh){if(this.isTokenExpired())throw new Error("Failed to refresh the token, or the session is expired");return!0}if(!this._instance)throw new Error("Keycloak Angular library is not initialized.");try{return yield this._instance.updateToken(n)}catch{return!1}})}loadUserProfile(n=!1){return Et(this,null,function*(){if(this._userProfile&&!n)return this._userProfile;if(!this._instance.authenticated)throw new Error("The user profile was not loaded as the user is not logged in.");return this._userProfile=yield this._instance.loadUserProfile()})}getToken(){return Et(this,null,function*(){return this._instance.token})}getUsername(){if(!this._userProfile)throw new Error("User not logged in or user profile was not loaded.");return this._userProfile.username}clearToken(){this._instance.clearToken()}addTokenToHeader(n=new dr){return ft(this.getToken()).pipe(Se(i=>i?n.set(this._authorizationHeaderName,this._bearerPrefix+i):n))}getKeycloakInstance(){return this._instance}get excludedUrls(){return this._excludedUrls}get enableBearerInterceptor(){return this._enableBearerInterceptor}get keycloakEvents$(){return this._keycloakEvents$}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();var Wo=class{},tM=(()=>{class t extends Wo{getTranslation(r){return be({})}static \u0275fac=(()=>{let r;return function(i){return(r||(r=pn(t)))(i||t)}})();static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),mu=class{},nM=(()=>{class t{handle(r){return r.key}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();function jf(t,e){if(t===e)return!0;if(t===null||e===null)return!1;if(t!==t&&e!==e)return!0;let r=typeof t,n=typeof e,i,o,s;if(r==n&&r=="object")if(Array.isArray(t)){if(!Array.isArray(e))return!1;if((i=t.length)==e.length){for(o=0;o<i;o++)if(!jf(t[o],e[o]))return!1;return!0}}else{if(Array.isArray(e))return!1;s=Object.create(null);for(o in t){if(!jf(t[o],e[o]))return!1;s[o]=!0}for(o in e)if(!(o in s)&&typeof e[o]<"u")return!1;return!0}return!1}function Go(t){return typeof t<"u"&&t!==null}function Ey(t){return t&&typeof t=="object"&&!Array.isArray(t)}function oM(t,e){let r=Object.assign({},t);return Ey(t)&&Ey(e)&&Object.keys(e).forEach(n=>{Ey(e[n])?n in t?r[n]=oM(t[n],e[n]):Object.assign(r,{[n]:e[n]}):Object.assign(r,{[n]:e[n]})}),r}var kl=class{},rM=(()=>{class t extends kl{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(r,n){let i;return typeof r=="string"?i=this.interpolateString(r,n):typeof r=="function"?i=this.interpolateFunction(r,n):i=r,i}getValue(r,n){let i=typeof n=="string"?n.split("."):[n];n="";do n+=i.shift(),Go(r)&&Go(r[n])&&(typeof r[n]=="object"||!i.length)?(r=r[n],n=""):i.length?n+=".":r=void 0;while(i.length);return r}interpolateFunction(r,n){return r(n)}interpolateString(r,n){return n?r.replace(this.templateMatcher,(i,o)=>{let s=this.getValue(n,o);return Go(s)?s:i}):r}static \u0275fac=(()=>{let r;return function(i){return(r||(r=pn(t)))(i||t)}})();static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),Tl=class{},iM=(()=>{class t extends Tl{compile(r,n){return r}compileTranslations(r,n){return r}static \u0275fac=(()=>{let r;return function(i){return(r||(r=pn(t)))(i||t)}})();static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),Uf=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Ae;onLangChange=new Ae;onDefaultLangChange=new Ae},Iy=new le("USE_STORE"),My=new le("USE_DEFAULT_LANG"),Dy=new le("DEFAULT_LANGUAGE"),ky=new le("USE_EXTEND"),ke=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Ae;_onLangChange=new Ae;_onDefaultLangChange=new Ae;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(r){this.isolate?this._defaultLang=r:this.store.defaultLang=r}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(r){this.isolate?this._currentLang=r:this.store.currentLang=r}get langs(){return this.isolate?this._langs:this.store.langs}set langs(r){this.isolate?this._langs=r:this.store.langs=r}get translations(){return this.isolate?this._translations:this.store.translations}set translations(r){this.isolate?this._translations=r:this.store.translations=r}constructor(r,n,i,o,s,a=!0,l=!1,c=!1,u){this.store=r,this.currentLoader=n,this.compiler=i,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=l,this.extend=c,u&&this.setDefaultLang(u)}setDefaultLang(r){if(r===this.defaultLang)return;let n=this.retrieveTranslations(r);typeof n<"u"?(this.defaultLang==null&&(this.defaultLang=r),n.pipe(nr(1)).subscribe(i=>{this.changeDefaultLang(r)})):this.changeDefaultLang(r)}getDefaultLang(){return this.defaultLang}use(r){if(r===this.currentLang)return be(this.translations[r]);let n=this.retrieveTranslations(r);return typeof n<"u"?(this.currentLang||(this.currentLang=r),n.pipe(nr(1)).subscribe(i=>{this.changeLang(r)}),n):(this.changeLang(r),be(this.translations[r]))}retrieveTranslations(r){let n;return(typeof this.translations[r]>"u"||this.extend)&&(this._translationRequests[r]=this._translationRequests[r]||this.getTranslation(r),n=this._translationRequests[r]),n}getTranslation(r){this.pending=!0;let n=this.currentLoader.getTranslation(r).pipe(Pd(1),nr(1));return this.loadingTranslations=n.pipe(Se(i=>this.compiler.compileTranslations(i,r)),Pd(1),nr(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[r]=this.extend&&this.translations[r]?j(j({},i),this.translations[r]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),n}setTranslation(r,n,i=!1){n=this.compiler.compileTranslations(n,r),(i||this.extend)&&this.translations[r]?this.translations[r]=oM(this.translations[r],n):this.translations[r]=n,this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}getLangs(){return this.langs}addLangs(r){r.forEach(n=>{this.langs.indexOf(n)===-1&&this.langs.push(n)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(r,n,i){let o;if(n instanceof Array){let s={},a=!1;for(let l of n)s[l]=this.getParsedResult(r,l,i),br(s[l])&&(a=!0);if(a){let l=n.map(c=>br(s[c])?s[c]:be(s[c]));return qi(l).pipe(Se(c=>{let u={};return c.forEach((d,v)=>{u[n[v]]=d}),u}))}return s}if(r&&(o=this.parser.interpolate(this.parser.getValue(r,n),i)),typeof o>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],n),i)),typeof o>"u"){let s={key:n,translateService:this};typeof i<"u"&&(s.interpolateParams=i),o=this.missingTranslationHandler.handle(s)}return typeof o<"u"?o:n}get(r,n){if(!Go(r)||!r.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Qr(i=>(i=this.getParsedResult(i,r,n),br(i)?i:be(i))));{let i=this.getParsedResult(this.translations[this.currentLang],r,n);return br(i)?i:be(i)}}getStreamOnTranslationChange(r,n){if(!Go(r)||!r.length)throw new Error('Parameter "key" required');return zi(Cs(()=>this.get(r,n)),this.onTranslationChange.pipe(ct(i=>{let o=this.getParsedResult(i.translations,r,n);return typeof o.subscribe=="function"?o:be(o)})))}stream(r,n){if(!Go(r)||!r.length)throw new Error('Parameter "key" required');return zi(Cs(()=>this.get(r,n)),this.onLangChange.pipe(ct(i=>{let o=this.getParsedResult(i.translations,r,n);return br(o)?o:be(o)})))}instant(r,n){if(!Go(r)||!r.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],r,n);if(br(i)){if(r instanceof Array){let o={};return r.forEach((s,a)=>{o[r[a]]=r[a]}),o}return r}else return i}set(r,n,i=this.currentLang){this.translations[i][r]=this.compiler.compile(n,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(r){this.currentLang=r,this.onLangChange.emit({lang:r,translations:this.translations[r]}),this.defaultLang==null&&this.changeDefaultLang(r)}changeDefaultLang(r){this.defaultLang=r,this.onDefaultLangChange.emit({lang:r,translations:this.translations[r]})}reloadLang(r){return this.resetLang(r),this.getTranslation(r)}resetLang(r){this._translationRequests[r]=void 0,this.translations[r]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let r=window.navigator.languages?window.navigator.languages[0]:null;if(r=r||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof r>"u"))return r.indexOf("-")!==-1&&(r=r.split("-")[0]),r.indexOf("_")!==-1&&(r=r.split("_")[0]),r}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let r=window.navigator.languages?window.navigator.languages[0]:null;return r=r||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,r}static \u0275fac=function(n){return new(n||t)(ie(Uf),ie(Wo),ie(Tl),ie(kl),ie(mu),ie(My),ie(Iy),ie(ky),ie(Dy))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();var Te=(()=>{class t{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(r,n){this.translate=r,this._ref=n}updateValue(r,n,i){let o=s=>{this.value=s!==void 0?s:r,this.lastKey=r,this._ref.markForCheck()};if(i){let s=this.translate.getParsedResult(i,r,n);br(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(r,n).subscribe(o)}transform(r,...n){if(!r||!r.length)return r;if(jf(r,this.lastKey)&&jf(n,this.lastParams))return this.value;let i;if(Go(n[0])&&n.length)if(typeof n[0]=="string"&&n[0].length){let o=n[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(o)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else typeof n[0]=="object"&&!Array.isArray(n[0])&&(i=n[0]);return this.lastKey=r,this.lastParams=n,this.updateValue(r,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(r,i,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(r,i,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(r,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||t)(T(ke,16),T(Fr,16))};static \u0275pipe=Ar({name:"translate",type:t,pure:!1});static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),Ie=(()=>{class t{static forRoot(r={}){return{ngModule:t,providers:[r.loader||{provide:Wo,useClass:tM},r.compiler||{provide:Tl,useClass:iM},r.parser||{provide:kl,useClass:rM},r.missingTranslationHandler||{provide:mu,useClass:nM},Uf,{provide:Iy,useValue:r.isolate},{provide:My,useValue:r.useDefaultLang},{provide:ky,useValue:r.extend},{provide:Dy,useValue:r.defaultLanguage},ke]}}static forChild(r={}){return{ngModule:t,providers:[r.loader||{provide:Wo,useClass:tM},r.compiler||{provide:Tl,useClass:iM},r.parser||{provide:kl,useClass:rM},r.missingTranslationHandler||{provide:mu,useClass:nM},{provide:Iy,useValue:r.isolate},{provide:My,useValue:r.useDefaultLang},{provide:ky,useValue:r.extend},{provide:Dy,useValue:r.defaultLanguage},ke]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Ln({type:t});static \u0275inj=Fn({})}return t})();var Pe={production:!1,keycloak:{authority:"https://103.188.83.167:8443",redirectUri:"http://localhost:4200",postLogoutRedirectUri:"http://localhost:4200/logout",realm:"shopbee",clientId:"shopbee-ui"},USER_SERVICE_API:"http://103.188.83.167:8081/api",IMAGE_SERVICE_API:"http://103.188.83.167:8082/api",PRODUCT_SERVICE_API:"http://103.188.83.167:8083/api",ORDER_SERVICE_API:"http://103.188.83.167:8084/api",CART_SERVICE_API:"http://103.188.83.167:8085/api",REVIEW_SERVICE_API:"http://103.188.83.167:8086/api",PAYMENT_SERVICE_API:"http://103.188.83.167:8087/api"};var yn=(()=>{let e=class e{constructor(n){this.http=n,this.keycloakUrl=`${Pe.keycloak.authority}/realms/${Pe.keycloak.realm}/protocol/openid-connect/token`,this.authenticatedSubject=new Lt(!1),this.authenticated$=this.authenticatedSubject.asObservable()}login(n,i){return Et(this,null,function*(){let o=new li().set("client_id",Pe.keycloak.clientId).set("grant_type","password").set("username",n).set("password",i),s=new dr().set("Content-Type","application/x-www-form-urlencoded");try{let a=yield this.http.post(this.keycloakUrl,o,{headers:s}).toPromise();this.storeTokens(a.access_token,a.refresh_token),this.authenticatedSubject.next(!0)}catch(a){throw this.authenticatedSubject.next(!1),console.error("Login failed",a),a}})}refreshToken(){return Et(this,null,function*(){let n=localStorage.getItem("refresh_token");if(!n)throw new Error("No refresh token available");let i=new li().set("client_id",Pe.keycloak.clientId).set("grant_type","refresh_token").set("refresh_token",n),o=new dr().set("Content-Type","application/x-www-form-urlencoded");try{let s=yield this.http.post(this.keycloakUrl,i,{headers:o}).toPromise();this.storeTokens(s.access_token,s.refresh_token),this.authenticatedSubject.next(!0)}catch(s){throw console.error("Token refresh failed",s),this.authenticatedSubject.next(!1),s}})}logout(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("expires_at"),this.authenticatedSubject.next(!1),window.location.href="/login"}getUserRoles(){let n=localStorage.getItem("access_token");return n?qo(n).realm_access?.roles||[]:[]}hasAccess(n){return this.getUserRoles().some(o=>n.includes(o.toLowerCase()))}setRedirectUrl(n){localStorage.setItem("redirect_url",n)}getRedirectUrl(){let n=localStorage.getItem("redirect_url");return localStorage.removeItem("redirect_url"),n}checkAuthenticated(){this.authenticatedSubject.next(this.isAuthenticated)}get isAdmin(){return this.getUserRoles().includes("ADMIN")}get isAuthenticated(){let n=parseInt(localStorage.getItem("expires_at")||"0",10);return Date.now()<n}get username(){let n=localStorage.getItem("access_token");return n&&qo(n).preferred_username||""}storeTokens(n,i){let s=qo(n).exp*1e3;localStorage.setItem("access_token",n),localStorage.setItem("refresh_token",i),localStorage.setItem("expires_at",s.toString())}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sM=(()=>{let e=class e{constructor(n,i){this.authService=n,this.translate=i,this.translate.setDefaultLang("vi")}logout(){this.authService.logout()}};e.\u0275fac=function(i){return new(i||e)(T(yn),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-admin-header"]],standalone:!0,features:[ge],decls:59,vars:24,consts:[[1,"navbar","sticky-top"],[1,"container-fluid"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"navbar-brand","mb-0","h1"],[1,"nav-item","dropdown"],["data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-lg-end"],[1,"dropdown-item",3,"click"],[1,"bi","bi-box-arrow-right"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"sidebar-menu","offcanvas","offcanvas-start"],[1,"offcanvas-header","justify-content-between"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],[1,"sidebar-items","list-group","list-group-flush"],["routerLink","dashboard","routerLinkActive","active",1,"list-group-item","list-group-item-action"],[1,"icon"],[1,"bi","bi-house"],["routerLink","users","routerLinkActive","active",1,"list-group-item","list-group-item-action"],[1,"bi","bi-people"],["routerLink","brands","routerLinkActive","active",1,"list-group-item","list-group-item-action"],[1,"bi","bi-amazon"],["routerLink","models","routerLinkActive","active",1,"list-group-item","list-group-item-action"],[1,"bi","bi-box-seam"],["routerLink","categories","routerLinkActive","active",1,"list-group-item","list-group-item-action"],[1,"bi","bi-tags"],["routerLink","products","routerLinkActive","active",1,"list-group-item","list-group-item-action"],[1,"bi","bi-box"],["routerLink","orders","routerLinkActive","active",1,"list-group-item","list-group-item-action"],[1,"bi","bi-bag"],[1,"sidebar-footer"]],template:function(i,o){i&1&&(f(0,"nav",0)(1,"div",1)(2,"button",2),I(3,"span",3),h(),f(4,"span",4),y(5,"Shopbee Admin"),h(),f(6,"div",5)(7,"button",6)(8,"strong"),y(9,"Admin"),h()(),f(10,"ul",7)(11,"li")(12,"button",8),P("click",function(){return o.logout()}),I(13,"i",9),y(14),w(15,"translate"),h()()()(),f(16,"aside",10)(17,"div",11),I(18,"button",12),f(19,"h5",13),y(20,"Shopbee Admin"),h()(),f(21,"div",14)(22,"a",15)(23,"div",16),I(24,"i",17),h(),y(25),w(26,"translate"),h(),f(27,"a",18)(28,"div",16),I(29,"i",19),h(),y(30),w(31,"translate"),h(),f(32,"a",20)(33,"div",16),I(34,"i",21),h(),y(35),w(36,"translate"),h(),f(37,"a",22)(38,"div",16),I(39,"i",23),h(),y(40),w(41,"translate"),h(),f(42,"a",24)(43,"div",16),I(44,"i",25),h(),y(45),w(46,"translate"),h(),f(47,"a",26)(48,"div",16),I(49,"i",27),h(),y(50),w(51,"translate"),h(),f(52,"a",28)(53,"div",16),I(54,"i",29),h(),y(55),w(56,"translate"),h()(),f(57,"div",30),y(58,"Ver 1.0.0"),h()()()()),i&2&&(m(14),A(" ",x(15,8,"LOGOUT")," "),m(11),A(" ",x(26,10,"DASHBOARD")," "),m(5),A(" ",x(31,12,"USERS")," "),m(5),A(" ",x(36,14,"BRANDS")," "),m(5),A(" ",x(41,16,"MODELS")," "),m(5),A(" ",x(46,18,"CATEGORIES")," "),m(5),A(" ",x(51,20,"PRODUCTS")," "),m(5),A(" ",x(56,22,"ORDERS")," "))},dependencies:[Be,NI,MI,Ie,Te],styles:[".navbar[_ngcontent-%COMP%]{background:var(--purple-5)}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;background:var(--purple-12);-webkit-background-clip:text;background-clip:text;color:transparent}.navbar[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active, .navbar[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{background:linear-gradient(to right,var(--purple-9),var(--purple-10))}.navbar[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-left:0}.navbar[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{border-top:1px solid var(--purple-6)}.navbar[_ngcontent-%COMP%]   .offcanvas-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;background:var(--purple-12);background-clip:text;-webkit-text-fill-color:transparent}.navbar[_ngcontent-%COMP%]   .sidebar-items[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.navbar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]{display:flex;gap:.45rem;line-height:3;padding-inline:1.5rem}.navbar[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.75rem;text-align:center}.navbar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border:none;color:var(--purple-2);background:linear-gradient(to left,var(--purple-9),var(--purple-11))}.navbar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{margin-top:auto}"]});let t=e;return t})();var aM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ae({type:e,selectors:[["app-admin"]],standalone:!0,features:[ge],decls:2,vars:0,template:function(i,o){i&1&&I(0,"app-admin-header")(1,"router-outlet")},dependencies:[Ks,sM]});let t=e;return t})();var lM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ae({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[ge],decls:2,vars:0,template:function(i,o){i&1&&(f(0,"p"),y(1,"dashboard works!"),h())}});let t=e;return t})();var $r=(()=>{let e=class e{constructor(n){this.translateService=n,this.loading=!1,this.items=null,this.pageChange=new Ae,this.pageSizeChange=new Ae,this.translateService.setDefaultLang("vi")}min(...n){return Math.min(...n)}changePageSize(n){this.pageSizeChange.emit(n)}previousPage(){this.pageChange.emit("previous")}nextPage(){this.pageChange.emit("next")}};e.\u0275fac=function(i){return new(i||e)(T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-pagination"]],inputs:{loading:"loading",pageRequest:"pageRequest",items:"items"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange"},standalone:!0,features:[ge],decls:36,vars:31,consts:[[1,"pagination-container","d-flex","align-items-center"],[1,"pagination-info","text-muted","me-3"],[1,"d-flex","align-items-center"],[1,"dropdown","me-3"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","border-0","bg-transparent"],[1,"text-nowrap","me-3"],[1,"bi","bi-chevron-down"],[1,"dropdown-menu","dropdown-menu-lg-end"],[1,"dropdown-item",3,"click"],["aria-label","list pagination"],[1,"btn-group"],[1,"btn","btn-light","btn-sm","border-0","bg-transparent","me-2",3,"click","disabled"],[1,"bi","bi-chevron-left"],[1,"btn","btn-light","btn-sm","border-0","bg-transparent",3,"click","disabled"],[1,"bi","bi-chevron-right"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"span",1),y(2),w(3,"translate"),w(4,"translate"),w(5,"translate"),w(6,"translate"),h(),f(7,"div",2)(8,"div",3)(9,"button",4)(10,"span",5),y(11),h(),I(12,"i",6),h(),f(13,"ul",7)(14,"li")(15,"button",8),P("click",function(){return o.changePageSize(10)}),y(16),w(17,"translate"),h()(),f(18,"li")(19,"button",8),P("click",function(){return o.changePageSize(20)}),y(20),w(21,"translate"),h()(),f(22,"li")(23,"button",8),P("click",function(){return o.changePageSize(50)}),y(24),w(25,"translate"),h()(),f(26,"li")(27,"button",8),P("click",function(){return o.changePageSize(100)}),y(28),w(29,"translate"),h()()()(),f(30,"nav",9)(31,"div",10)(32,"button",11),P("click",function(){return o.previousPage()}),I(33,"i",12),h(),f(34,"button",13),P("click",function(){return o.nextPage()}),I(35,"i",14),h()()()()()),i&2&&(m(2),W0(" ",x(3,15,"SHOWING")," ",(o.pageRequest.page-1)*o.pageRequest.size+1," ",x(4,17,"TO")," ",o.min((o.items==null?null:o.items.totalItems)||0,o.pageRequest.size+(o.pageRequest.page-1)*o.pageRequest.size)," ",x(5,19,"OF")," ",(o.items==null?null:o.items.totalItems)||0," ",x(6,21,"ENTRIES")," "),m(9),at(" ",(o.pageRequest.page-1)*o.pageRequest.size+1," - ",o.min((o.items==null?null:o.items.totalItems)||0,o.pageRequest.size+(o.pageRequest.page-1)*o.pageRequest.size)," "),m(5),A(" 10 ",x(17,23,"ENTRIES_PER_PAGE")," "),m(4),A(" 20 ",x(21,25,"ENTRIES_PER_PAGE")," "),m(4),A(" 50 ",x(25,27,"ENTRIES_PER_PAGE")," "),m(4),A(" 100 ",x(29,29,"ENTRIES_PER_PAGE")," "),m(4),O("disabled",o.loading||!(o.items!=null&&o.items.hasPrevious)),m(2),O("disabled",o.loading||!(o.items!=null&&o.items.hasNext)))},dependencies:[Ie,Te],styles:[".control-btn[_ngcontent-%COMP%]{color:var(--purple-9);transition:color .2s ease-in-out}.control-btn[_ngcontent-%COMP%]:hover{color:var(--purple-12)}.dropdown-item[_ngcontent-%COMP%]:hover{background:var(--purple-3)}.dropdown-item[_ngcontent-%COMP%]:active{background:var(--purple-9)}@media (max-width: 768px){.pagination-info[_ngcontent-%COMP%]{display:none}}"]});let t=e;return t})();var ot=function(t){return t.CREATED="CREATED",t.PENDING="PENDING",t.ACCEPTED="ACCEPTED",t.DECLINED="DECLINED",t.AWAITING_PICKUP="AWAITING_PICKUP",t.AWAITING_SHIPPING="AWAITING_SHIPPING",t.SHIPPED="SHIPPED",t.COMPLETED="COMPLETED",t.CANCELED="CANCELED",t.REFUNDED="REFUNDED",t}(ot||{}),gu=new Map([[ot.CREATED,[]],[ot.PENDING,[ot.CREATED]],[ot.ACCEPTED,[ot.PENDING]],[ot.DECLINED,[ot.PENDING]],[ot.AWAITING_PICKUP,[ot.ACCEPTED]],[ot.AWAITING_SHIPPING,[ot.AWAITING_PICKUP]],[ot.SHIPPED,[ot.AWAITING_SHIPPING]],[ot.COMPLETED,[ot.SHIPPED]],[ot.CANCELED,[ot.CREATED,ot.PENDING,ot.ACCEPTED,ot.DECLINED,ot.AWAITING_PICKUP,ot.AWAITING_SHIPPING]],[ot.REFUNDED,[ot.COMPLETED,ot.CANCELED]]]);var Nt=function(t){return t.CREATED_AT="CREATED_AT",t.FIRST_NAME="FIRST_NAME",t.LAST_NAME="LAST_NAME",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.VIEW_COUNT="VIEW_COUNT",t.STOCK_QUANTITY="STOCK_QUANTITY",t.NAME="NAME",t.SLUG="SLUG",t.BASE_PRICE="BASE_PRICE",t.SALE_PRICE="SALE_PRICE",t.STATUS="STATUS",t}(Nt||{});var Hr=(()=>{let e=class e{constructor(n,i){this.el=n,this.renderer=i,this.sortChange=new Ae,this.descending=!1,this.renderer.setStyle(this.el.nativeElement,"cursor","pointer")}onClick(){this.descending=!this.descending,this.sortChange.emit({sortBy:this.sortField,ascending:this.descending}),this.setIcon()}setIcon(){let n=this.el.nativeElement.querySelector("i");n&&this.renderer.removeChild(this.el.nativeElement,n);let i=this.renderer.createElement("i");this.renderer.addClass(i,"mx-1"),this.renderer.addClass(i,"bi"),this.renderer.addClass(i,this.descending?"bi-caret-down-fill":"bi-caret-up-fill"),this.renderer.appendChild(this.el.nativeElement,i)}};e.\u0275fac=function(i){return new(i||e)(T(bt),T(tn))},e.\u0275dir=et({type:e,selectors:[["","appSortable",""]],hostBindings:function(i,o){i&1&&P("click",function(){return o.onClick()})},inputs:{sortField:"sortField"},outputs:{sortChange:"sortChange"},standalone:!0});let t=e;return t})();var yM=(()=>{let e=class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(i){return new(i||e)(T(tn),T(bt))},e.\u0275dir=et({type:e});let t=e;return t})(),Nl=(()=>{let e=class e extends yM{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275dir=et({type:e,features:[In]});let t=e;return t})(),qr=new le(""),Gj={provide:qr,useExisting:xn(()=>ta),multi:!0},ta=(()=>{let e=class e extends Nl{writeValue(n){this.setProperty("checked",n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275dir=et({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&P("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[fn([Gj]),In]});let t=e;return t})(),Wj={provide:qr,useExisting:xn(()=>Ot),multi:!0};function Kj(){let t=so()?so().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Zj=new le(""),Ot=(()=>{let e=class e extends yM{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Kj())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(i){return new(i||e)(T(tn),T(bt),T(Zj,8))},e.\u0275dir=et({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&P("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[fn([Wj]),In]});let t=e;return t})();function Ko(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function bM(t){return t!=null&&typeof t.length=="number"}var Jo=new le(""),Fy=new le(""),Yj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,we=class{static min(e){return CM(e)}static max(e){return wM(e)}static required(e){return _M(e)}static requiredTrue(e){return Jj(e)}static email(e){return Qj(e)}static minLength(e){return Xj(e)}static maxLength(e){return e8(e)}static pattern(e){return t8(e)}static nullValidator(e){return Hf(e)}static compose(e){return DM(e)}static composeAsync(e){return TM(e)}};function CM(t){return e=>{if(Ko(e.value)||Ko(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<t?{min:{min:t,actual:e.value}}:null}}function wM(t){return e=>{if(Ko(e.value)||Ko(t))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>t?{max:{max:t,actual:e.value}}:null}}function _M(t){return Ko(t.value)?{required:!0}:null}function Jj(t){return t.value===!0?null:{required:!0}}function Qj(t){return Ko(t.value)||Yj.test(t.value)?null:{email:!0}}function Xj(t){return e=>Ko(e.value)||!bM(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function e8(t){return e=>bM(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function t8(t){if(!t)return Hf;let e,r;return typeof t=="string"?(r="",t.charAt(0)!=="^"&&(r+="^"),r+=t,t.charAt(t.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=t.toString(),e=t),n=>{if(Ko(n.value))return null;let i=n.value;return e.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}function Hf(t){return null}function xM(t){return t!=null}function SM(t){return jo(t)?ft(t):t}function EM(t){let e={};return t.forEach(r=>{e=r!=null?j(j({},e),r):e}),Object.keys(e).length===0?null:e}function IM(t,e){return e.map(r=>r(t))}function n8(t){return!t.validate}function MM(t){return t.map(e=>n8(e)?e:r=>e.validate(r))}function DM(t){if(!t)return null;let e=t.filter(xM);return e.length==0?null:function(r){return EM(IM(r,e))}}function kM(t){return t!=null?DM(MM(t)):null}function TM(t){if(!t)return null;let e=t.filter(xM);return e.length==0?null:function(r){let n=IM(r,e).map(SM);return qi(n).pipe(Se(EM))}}function OM(t){return t!=null?TM(MM(t)):null}function cM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function AM(t){return t._rawValidators}function PM(t){return t._rawAsyncValidators}function Ty(t){return t?Array.isArray(t)?t:[t]:[]}function zf(t,e){return Array.isArray(t)?t.includes(e):t===e}function uM(t,e){let r=Ty(e);return Ty(t).forEach(i=>{zf(r,i)||r.push(i)}),r}function dM(t,e){return Ty(e).filter(r=>!zf(t,r))}var qf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=OM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},Xs=class extends qf{get formDirective(){return null}get path(){return null}},Zo=class extends qf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Gf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},r8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_te=Ee(j({},r8),{"[class.ng-submitted]":"isSubmitted"}),At=(()=>{let e=class e extends Gf{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(T(Zo,2))},e.\u0275dir=et({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&pe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[In]});let t=e;return t})(),Jt=(()=>{let e=class e extends Gf{constructor(n){super(n)}};e.\u0275fac=function(i){return new(i||e)(T(Xs,10))},e.\u0275dir=et({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&pe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[In]});let t=e;return t})();var vu="VALID",$f="INVALID",Ol="PENDING",yu="DISABLED",Yo=class{},Wf=class extends Yo{constructor(e,r){super(),this.value=e,this.source=r}},bu=class extends Yo{constructor(e,r){super(),this.pristine=e,this.source=r}},Cu=class extends Yo{constructor(e,r){super(),this.touched=e,this.source=r}},Al=class extends Yo{constructor(e,r){super(),this.status=e,this.source=r}},Oy=class extends Yo{constructor(e){super(),this.source=e}},Ay=class extends Yo{constructor(e){super(),this.source=e}};function Ly(t){return(Yf(t)?t.validators:t)||null}function i8(t){return Array.isArray(t)?kM(t):t||null}function Vy(t,e){return(Yf(e)?e.asyncValidators:t)||null}function o8(t){return Array.isArray(t)?OM(t):t||null}function Yf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function NM(t,e,r){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new Ce(1e3,"");if(!n[r])throw new Ce(1001,"")}function RM(t,e,r){t._forEachChild((n,i)=>{if(r[i]===void 0)throw new Ce(1002,"")})}var Pl=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Nc(()=>this.statusReactive()),this.statusReactive=Tc(void 0),this._pristine=Nc(()=>this.pristineReactive()),this.pristineReactive=Tc(!0),this._touched=Nc(()=>this.touchedReactive()),this.touchedReactive=Tc(!1),this._events=new Ze,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ii(this.statusReactive)}set status(e){ii(()=>this.statusReactive.set(e))}get valid(){return this.status===vu}get invalid(){return this.status===$f}get pending(){return this.status==Ol}get disabled(){return this.status===yu}get enabled(){return this.status!==yu}get pristine(){return ii(this.pristineReactive)}set pristine(e){ii(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ii(this.touchedReactive)}set touched(e){ii(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(uM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(uM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dM(e,this._rawAsyncValidators))}hasValidator(e){return zf(this._rawValidators,e)}hasAsyncValidator(e){return zf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ee(j({},e),{sourceControl:n})),r&&e.emitEvent!==!1&&this._events.next(new Cu(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),r&&e.emitEvent!==!1&&this._events.next(new Cu(!1,n))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ee(j({},e),{sourceControl:n})),r&&e.emitEvent!==!1&&this._events.next(new bu(!1,n))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&e.emitEvent!==!1&&this._events.next(new bu(!0,n))}markAsPending(e={}){this.status=Ol;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Al(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ee(j({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=yu,this.errors=null,this._forEachChild(i=>{i.disable(Ee(j({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wf(this.value,n)),this._events.next(new Al(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(j({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=vu,this._forEachChild(n=>{n.enable(Ee(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ee(j({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vu||this.status===Ol)&&this._runAsyncValidator(n,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wf(this.value,r)),this._events.next(new Al(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ee(j({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yu:vu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=Ol,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let n=SM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(e,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new Al(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,n)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?yu:this.errors?$f:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ol)?Ol:this._anyControlsHaveStatus($f)?$f:vu}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),i&&this._events.next(new bu(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new Cu(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Yf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=i8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=o8(this._rawAsyncValidators)}},ea=class extends Pl{constructor(e,r,n){super(Ly(r),Vy(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,n={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){RM(this,!0,e),Object.keys(e).forEach(n=>{NM(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(n=>{let i=this.controls[n];i&&i.patchValue(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((n,i)=>{n.reset(e?e[i]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,n)=>(e[n]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,n)=>n._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let n=this.controls[r];n&&e(n,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,n]of Object.entries(this.controls))if(this.contains(r)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(e,r){let n=e;return this._forEachChild((i,o)=>{n=r(n,i,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Py=class extends ea{};var wu=new le("CallSetDisabledState",{providedIn:"root",factory:()=>_u}),_u="always";function FM(t,e){return[...e.path,t]}function Ny(t,e,r=_u){By(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),a8(t,e),c8(t,e),l8(t,e),s8(t,e)}function pM(t,e,r=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Zf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Kf(t,e){t.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function s8(t,e){if(e.valueAccessor.setDisabledState){let r=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(r),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(r)})}}function By(t,e){let r=AM(t);e.validator!==null?t.setValidators(cM(r,e.validator)):typeof r=="function"&&t.setValidators([r]);let n=PM(t);e.asyncValidator!==null?t.setAsyncValidators(cM(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let i=()=>t.updateValueAndValidity();Kf(e._rawValidators,i),Kf(e._rawAsyncValidators,i)}function Zf(t,e){let r=!1;if(t!==null){if(e.validator!==null){let i=AM(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(r=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=PM(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(r=!0,t.setAsyncValidators(o))}}}let n=()=>{};return Kf(e._rawValidators,n),Kf(e._rawAsyncValidators,n),r}function a8(t,e){e.valueAccessor.registerOnChange(r=>{t._pendingValue=r,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LM(t,e)})}function l8(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function c8(t,e){let r=(n,i)=>{e.valueAccessor.writeValue(n),i&&e.viewToModelUpdate(n)};t.registerOnChange(r),e._registerOnDestroy(()=>{t._unregisterOnChange(r)})}function u8(t,e){t==null,By(t,e)}function d8(t,e){return Zf(t,e)}function VM(t,e){if(!t.hasOwnProperty("model"))return!1;let r=t.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function p8(t){return Object.getPrototypeOf(t.constructor)===Nl}function f8(t,e){t._syncPendingControls(),e.forEach(r=>{let n=r.control;n.updateOn==="submit"&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function BM(t,e){if(!e)return null;Array.isArray(e);let r,n,i;return e.forEach(o=>{o.constructor===Ot?r=o:p8(o)?n=o:i=o}),i||n||r||null}function h8(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function fM(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function hM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var zr=class extends Pl{constructor(e=null,r,n){super(Ly(r),Vy(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yf(r)&&(r.nonNullable||r.initialValueIsDefault)&&(hM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){hM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var m8=t=>t instanceof zr;var g8={provide:Zo,useExisting:xn(()=>na)},mM=Promise.resolve(),na=(()=>{let e=class e extends Zo{constructor(n,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new zr,this._registered=!1,this.name="",this.update=new Ae,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=BM(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),VM(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ny(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){mM.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,o=i!==0&&Lr(i);mM.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?FM(n,this._parent):[n]}};e.\u0275fac=function(i){return new(i||e)(T(Xs,9),T(Jo,10),T(Fy,10),T(qr,10),T(Fr,8),T(wu,8))},e.\u0275dir=et({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fn([g8]),In,Sn]});let t=e;return t})(),Qt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=et({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),v8={provide:qr,useExisting:xn(()=>ra),multi:!0},ra=(()=>{let e=class e extends Nl{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275dir=et({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&P("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[fn([v8]),In]});let t=e;return t})(),y8={provide:qr,useExisting:xn(()=>xu),multi:!0};var b8=(()=>{let e=class e{constructor(){this._accessors=[]}add(n,i){this._accessors.push([n,i])}remove(n){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===n){this._accessors.splice(i,1);return}}select(n){this._accessors.forEach(i=>{this._isSameGroup(i,n)&&i[1]!==n&&i[1].fireUncheck(n.value)})}_isSameGroup(n,i){return n[0].control?n[0]._parent===i._control._parent&&n[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xu=(()=>{let e=class e extends Nl{constructor(n,i,o,s){super(n,i),this._registry=o,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=H(wu,{optional:!0})??_u}ngOnInit(){this._control=this._injector.get(Zo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)(T(tn),T(bt),T(b8),T(Wn))},e.\u0275dir=et({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&P("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[fn([y8]),In]});let t=e;return t})();var jM=new le("");var C8={provide:Xs,useExisting:xn(()=>Gt)},Gt=(()=>{let e=class e extends Xs{get submitted(){return ii(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,i,o){super(),this.callSetDisabledState=o,this._submitted=Nc(()=>this._submittedReactive()),this._submittedReactive=Tc(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ae,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return Ny(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){pM(n.control||null,n,!1),h8(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),f8(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Oy(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Ay(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,o=this.form.get(n.path);i!==o&&(pM(i||null,n),m8(o)&&(Ny(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);u8(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&d8(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){By(this.form,this),this._oldForm&&Zf(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(T(Jo,10),T(Fy,10),T(wu,8))},e.\u0275dir=et({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&P("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fn([C8]),In,Sn]});let t=e;return t})();var w8={provide:Zo,useExisting:xn(()=>Wt)},Wt=(()=>{let e=class e extends Zo{set isDisabled(n){}constructor(n,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ae,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=BM(this,s)}ngOnChanges(n){this._added||this._setUpControl(),VM(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return FM(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(T(Xs,13),T(Jo,10),T(Fy,10),T(qr,10),T(jM,8))},e.\u0275dir=et({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[fn([w8]),In,Sn]});let t=e;return t})(),_8={provide:qr,useExisting:xn(()=>Qo),multi:!0};function UM(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function x8(t){return t.split(":")[0]}var Qo=(()=>{let e=class e extends Nl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),o=UM(i,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=x8(n);return this._optionMap.has(i)?this._optionMap.get(i):n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275dir=et({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&P("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[fn([_8]),In]});let t=e;return t})(),Rl=(()=>{let e=class e{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(UM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(T(bt),T(tn),T(Qo,9))},e.\u0275dir=et({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),S8={provide:qr,useExisting:xn(()=>$M),multi:!0};function gM(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function E8(t){return t.split(":")[0]}var $M=(()=>{let e=class e extends Nl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let o=n.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);o.push(u)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,n(o)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=E8(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275dir=et({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&P("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[fn([S8]),In]});let t=e;return t})(),Fl=(()=>{let e=class e{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(gM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(gM(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(T(bt),T(tn),T($M,9))},e.\u0275dir=et({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function HM(t){return typeof t=="number"?t:parseFloat(t)}var jy=(()=>{let e=class e{constructor(){this._validator=Hf}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Hf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=et({type:e,features:[Sn]});let t=e;return t})(),I8={provide:Jo,useExisting:xn(()=>Uy),multi:!0},Uy=(()=>{let e=class e extends jy{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>HM(n),this.createValidator=n=>wM(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275dir=et({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&no("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[fn([I8]),In]});let t=e;return t})(),M8={provide:Jo,useExisting:xn(()=>$y),multi:!0},$y=(()=>{let e=class e extends jy{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>HM(n),this.createValidator=n=>CM(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275dir=et({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&no("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[fn([M8]),In]});let t=e;return t})(),D8={provide:Jo,useExisting:xn(()=>Hy),multi:!0};var Hy=(()=>{let e=class e extends jy{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Lr,this.createValidator=n=>_M}enabled(n){return n}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275dir=et({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&no("required",o._enabled?"":null)},inputs:{required:"required"},features:[fn([D8]),In]});let t=e;return t})();var zM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ln({type:e}),e.\u0275inj=Fn({});let t=e;return t})(),Ry=class extends Pl{constructor(e,r,n){super(Ly(r),Vy(n,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,n={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,r={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){RM(this,!1,e),e.forEach((n,i)=>{NM(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,n)=>n._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,n)=>{e(r,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function vM(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var bn=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,i=null){let o=this._reduceControls(n),s={};return vM(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new ea(o,s)}record(n,i=null){let o=this._reduceControls(n);return new Py(o,i)}control(n,i,o){let s={};return this.useNonNullable?(vM(i)?s=i:(s.validators=i,s.asyncValidators=o),new zr(n,Ee(j({},s),{nonNullable:!0}))):new zr(n,i,o)}array(n,i,o){let s=n.map(a=>this._createControl(a));return new Ry(s,i,o)}_reduceControls(n){let i={};return Object.keys(n).forEach(o=>{i[o]=this._createControl(n[o])}),i}_createControl(n){if(n instanceof zr)return n;if(n instanceof Pl)return n;if(Array.isArray(n)){let i=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(i,o,s)}else return this.control(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fr=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:wu,useValue:n.callSetDisabledState??_u}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ln({type:e}),e.\u0275inj=Fn({imports:[zM]});let t=e;return t})(),on=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:jM,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:wu,useValue:n.callSetDisabledState??_u}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ln({type:e}),e.\u0275inj=Fn({imports:[zM]});let t=e;return t})();var Ll=(()=>{let e=class e{constructor(n){this.http=n,this.BASE_URL=Pe.ORDER_SERVICE_API}createOrder(n){return this.http.post(`${this.BASE_URL}/orders`,n)}getOrders(n,i,o){return this.http.get(`${this.BASE_URL}/orders/`,{params:j(j(j({},n),i),o)})}getOrderById(n){return this.http.get(`${this.BASE_URL}/orders/${n}`)}cancelOrder(n){return this.http.patch(`${this.BASE_URL}/orders/${n}/cancel`,{})}completeOrder(n){return this.http.patch(`${this.BASE_URL}/orders/${n}/complete`,{})}changeOrderStatus(n,i){return this.http.patch(`${this.BASE_URL}/orders/${i}`,{status:n})}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Gy=vC(qM());var lt=(()=>{let e=class e{showConfirmationAlert(n,i,o,s){Gy.default.fire({title:n,text:i,icon:o,showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",confirmButtonColor:"var(--purple-9)",cancelButtonColor:"var(--gray-6)"}).then(a=>a.isConfirmed?s():{})}showErrorToast(n){this.showAlert(n,"error")}showSuccessToast(n){this.showAlert(n,"success")}showAlert(n,i){Gy.default.fire({text:n,icon:i,toast:!0,position:"top-end",showConfirmButton:!1,showCloseButton:!0,timer:5e3})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var k8=(t,e)=>e.id,T8=(t,e)=>({page:t,size:e});function O8(t,e){if(t&1){let r=ve();f(0,"li",9),P("click",function(){let i=U(r).$implicit,o=N();return $(o.onSelectStatus(i))}),f(1,"a",10),y(2),w(3,"translate"),h()()}if(t&2){let r=e.$implicit,n=N();m(),pe("active",r===n.selectedStatus),m(),k(x(3,3,r))}}function A8(t,e){t&1&&It(0)}function P8(t,e){t&1&&(f(0,"td"),I(1,"div",25),h())}function N8(t,e){if(t&1&&(f(0,"tr"),Me(1,P8,2,0,"td",null,ze),h()),t&2){let r=N(2);m(),De(r.Array(8))}}function R8(t,e){if(t&1&&Me(0,N8,3,0,"tr",null,ze),t&2){let r=N();De(r.Array(10))}}function F8(t,e){if(t&1){let r=ve();f(0,"tr",27),P("click",function(){let i=U(r).$implicit,o=N(2);return $(o.onClickOnOrder(i))}),f(1,"td"),y(2),h(),f(3,"td"),y(4),w(5,"currency"),h(),f(6,"td")(7,"span",28),y(8),w(9,"translate"),h()(),f(10,"td"),y(11),w(12,"translate"),h(),f(13,"td"),y(14),w(15,"date"),h(),f(16,"td"),y(17),h(),f(18,"td")(19,"span",29),y(20),h()()()}if(t&2){let r=e.$implicit,n=N(2);pe("active",(n.selectedOrder==null?null:n.selectedOrder.id)===r.id),m(2),k(r.id),m(2),k($e(5,9,r.totalAmount,"VND")),m(4),A(" ",x(9,12,r.orderStatus)," "),m(3),k(x(12,14,r.paymentMethod)),m(3),k($e(15,16,r.createdAt,"HH:mm dd-MM-yyyy")),m(3),k(r.username),m(3),k(r.shippingAddress)}}function L8(t,e){if(t&1&&Me(0,F8,21,19,"tr",26,k8),t&2){let r=N();De(r.orders)}}function V8(t,e){t&1&&(f(0,"div",22)(1,"i"),y(2),w(3,"translate"),h()()),t&2&&(m(2),k(x(3,1,"NO_RECORD")))}function B8(t,e){t&1&&It(0)}function j8(t,e){if(t&1&&(f(0,"option",39),y(1),w(2,"translate"),h()),t&2){let r=e.$implicit,n=N(2);O("value",r)("disabled",!n.canTransitionTo(r)),m(),A(" ",x(2,3,r)," ")}}function U8(t,e){if(t&1&&(f(0,"li",43)(1,"div")(2,"a",44),y(3),h(),f(4,"small",45),y(5),w(6,"currency"),h()(),f(7,"span"),y(8),w(9,"currency"),h()()),t&2){let r=e.$implicit;m(3),A(" ",r.productSlug," "),m(2),at(" ",r.quantity," x ",$e(6,4,r.price,"VND")," "),m(3),k($e(9,7,r.quantity*r.price,"VND"))}}function $8(t,e){if(t&1){let r=ve();f(0,"div",24)(1,"div",4)(2,"div",5)(3,"div",30)(4,"span"),y(5),w(6,"translate"),h(),f(7,"button",31),P("click",function(){U(r);let i=N();return $(i.selectedOrder=null)}),f(8,"span",32),I(9,"i",33),h()()()(),f(10,"div",13)(11,"div",34)(12,"div",35)(13,"span",36),y(14),w(15,"translate"),h()(),f(16,"div",37),y(17),h()(),f(18,"div",34)(19,"div",35)(20,"span",36),y(21),w(22,"translate"),h()(),f(23,"div",37),y(24),w(25,"currency"),h()(),f(26,"div",34)(27,"div",35)(28,"span",36),y(29),w(30,"translate"),h()(),f(31,"div",37),y(32),w(33,"translate"),h()(),f(34,"div",34)(35,"div",35)(36,"span",36),y(37),w(38,"translate"),h()(),f(39,"div",37),y(40),w(41,"date"),h()(),f(42,"div",34)(43,"div",35)(44,"span",36),y(45),w(46,"translate"),h()(),f(47,"div",16)(48,"select",38),Hs("ngModelChange",function(i){U(r);let o=N();return dl(o.selectedOrderStatus,i)||(o.selectedOrderStatus=i),$(i)}),Me(49,j8,3,5,"option",39,ze),h()(),f(51,"div",40)(52,"button",41),P("click",function(){U(r);let i=N();return $(i.onChangeOrderStatus(i.selectedOrderStatus))}),y(53),w(54,"translate"),h()()(),f(55,"div",34)(56,"div",35)(57,"span",36),y(58),w(59,"translate"),h()(),f(60,"div",37),y(61),h()()(),f(62,"div",13)(63,"ul",42),Me(64,U8,10,10,"li",43,ze),h()()()()}if(t&2){let r=N();m(5),k(x(6,15,"ORDER")+" - #"+r.selectedOrder.id),m(9),k(x(15,17,"CUSTOMER")),m(3),k(r.selectedOrder.username),m(4),k(x(22,19,"TOTAL_AMOUNT")),m(3),k($e(25,21,r.selectedOrder.totalAmount,"VND")),m(5),k(x(30,24,"PAYMENT_METHOD")),m(3),k(x(33,26,r.selectedOrder.paymentMethod)),m(5),k(x(38,28,"ORDER_DATE")),m(3),k($e(41,30,r.selectedOrder.createdAt,"HH:mm dd-MM-yyyy")),m(5),k(x(46,33,"ORDER_STATUS")),m(3),$s("ngModel",r.selectedOrderStatus),m(),De(r.Object.keys(r.ORDER_STATUS)),m(3),O("disabled",r.selectedOrderStatus===r.selectedOrder.orderStatus),m(),A(" ",x(54,35,"SAVE")," "),m(5),k(x(59,37,"SHIPPING_ADDRESS")),m(3),k(r.selectedOrder.shippingAddress),m(3),De(r.orderDetails.get(r.selectedOrder.id))}}function H8(t,e){if(t&1){let r=ve();f(0,"app-pagination",46),P("pageChange",function(i){U(r);let o=N();return $(o.onPageChange(i))})("pageSizeChange",function(i){U(r);let o=N();return $(o.onPageSizeChange(i))}),h()}if(t&2){let r=N();O("pageRequest",Bo(2,T8,r.page,r.size))("items",r.orderResponse)}}var GM=(()=>{let e=class e{constructor(n,i,o){this.translateService=n,this.orderService=i,this.alertService=o,this.loading=!0,this.orderResponse=null,this.orders=[],this.orderDetails=new Map,this.page=0,this.size=20,this.sortBy=Nt.CREATED_AT,this.ascending=!1,this.selectedOrder=null,this.selectedOrderStatus=null,this.selectedStatus="ALL",this.Array=Array,this.sortableFields=Nt,this.SortField=Nt,this.ORDER_STATUS=ot,this.Object=Object,this.console=console,n.setDefaultLang("vi")}ngOnInit(){this.fetchOrdersNext()}onPageChange(n){n==="next"?this.fetchOrdersNext():this.fetchOrdersPrevious()}onPageSizeChange(n){this.size=n,this.fetchOrders()}onSortChange(n){n.sortBy&&(this.sortBy=n.sortBy),this.ascending=n.ascending??this.ascending,this.fetchOrders()}onSelectStatus(n){this.selectedStatus=n,this.page=1,this.fetchOrders()}onClickOnOrder(n){this.selectedOrder=n,this.selectedOrderStatus=n.orderStatus,this.fetchOrderDetails(n.id)}onChangeOrderStatus(n=null){n&&this.selectedOrder&&this.orderService.changeOrderStatus(n,this.selectedOrder?.id).subscribe({next:()=>{this.alertService.showSuccessToast("Updated order status successfully"),this.selectedOrder&&(this.selectedOrder.orderStatus=n)},error:()=>{this.alertService.showErrorToast("Failed to update order status")}})}fetchOrdersNext(){this.page=this.page+1,this.fetchOrders()}fetchOrdersPrevious(){this.page=this.page-1,this.fetchOrders()}fetchOrders(){this.loading=!0;let n={page:this.page,size:this.size},i={sortBy:this.sortBy,ascending:this.ascending},o=this.selectedStatus==="ALL"?{}:{status:this.selectedStatus};this.orderService.getOrders(o,n,i).subscribe({next:s=>{this.orderResponse=s,this.orders=s.items,this.loading=!1},error:()=>this.loading=!1})}fetchOrderDetails(n){this.orderService.getOrderById(n).subscribe({next:i=>{let o=i.orderDetails??[];this.orderDetails.set(n,[...o])}})}canTransitionTo(n){let i=this.selectedOrder?.orderStatus;if(i){let o=n,s=gu.get(o);return s?s.includes(i):!1}return!1}};e.\u0275fac=function(i){return new(i||e)(T(ke),T(Ll),T(lt))},e.\u0275cmp=ae({type:e,selectors:[["app-orders"]],standalone:!0,features:[ge],decls:51,vars:34,consts:[["paginationTemplate",""],[1,"container-fluid","my-5"],[1,"row"],[1,"col"],[1,"card","shadow-sm"],[1,"card-header","py-3"],[1,"fs-2","fw-medium"],[1,"card-header","d-flex","justify-content-between"],[1,"nav","nav-underline","text-uppercase"],[1,"nav-item",3,"click"],[1,"nav-link"],[1,"nav-item"],[4,"ngTemplateOutlet"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],[1,"col-auto"],[1,"col-md-1"],["appSortable","",1,"col-md-auto",3,"sortChange","sortField"],[1,"col-md-auto"],["appSortable","",1,"col-md-2",3,"sortChange","sortField"],[1,"col-md-4"],[1,"text-center"],[1,"card-footer","d-flex","justify-content-end"],["id","selected-order",1,"col-lg-4","col-md-12"],[1,"skeleton-loader"],[3,"active"],[3,"click"],[1,"badge"],[1,"shipping-address"],[1,"d-flex","justify-content-between","fs-2","fw-medium"],[1,"btn",3,"click"],[1,"fs-5","fw-medium"],[1,"bi","bi-x-lg"],[1,"row","mb-3"],[1,"col-4"],[1,"fw-light","text-muted"],[1,"col-8"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value","disabled"],[1,"col-1"],[1,"btn","save-status-btn",3,"click","disabled"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"text-uppercase","fw-bold","text-muted","product-slug"],[1,"text-muted","d-block"],[3,"pageChange","pageSizeChange","pageRequest","items"]],template:function(i,o){if(i&1){let s=ve();f(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"span",6),y(6),w(7,"translate"),h()(),f(8,"div",7)(9,"ul",8)(10,"li",9),P("click",function(){return U(s),$(o.onSelectStatus("ALL"))}),f(11,"a",10),y(12),w(13,"translate"),h()(),Me(14,O8,4,5,"li",11,ze),h(),Y(16,A8,1,0,"ng-container",12),h(),f(17,"div",13)(18,"div",14)(19,"table",15)(20,"thead")(21,"tr")(22,"th",16),y(23,"#ID"),h(),f(24,"th",17),y(25),w(26,"translate"),h(),f(27,"th",18),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(28),w(29,"translate"),h(),f(30,"th",19),y(31),w(32,"translate"),h(),f(33,"th",20),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(34),w(35,"translate"),h(),f(36,"th",20),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(37),w(38,"translate"),h(),f(39,"th",21),y(40),w(41,"translate"),h()()(),f(42,"tbody"),Y(43,R8,2,0)(44,L8,2,0),h()(),Y(45,V8,4,3,"div",22),h()(),f(46,"div",23),Y(47,B8,1,0,"ng-container",12),h()()(),Y(48,$8,66,39,"div",24),h()(),Y(49,H8,1,5,"ng-template",null,0,Mn)}if(i&2){let s=nn(50);m(6),k(x(7,18,"ORDER_MANAGEMENT")),m(5),pe("active",o.selectedStatus==="ALL"),m(),k(x(13,20,"ALL")),m(2),De(o.Object.keys(o.ORDER_STATUS)),m(2),O("ngTemplateOutlet",s),m(9),A(" ",x(26,22,"TOTAL_AMOUNT")," "),m(2),O("sortField",o.SortField.STATUS),m(),A(" ",x(29,24,"ORDER_STATUS")," "),m(3),k(x(32,26,"PAYMENT_METHOD")),m(2),O("sortField",o.SortField.CREATED_AT),m(),A(" ",x(35,28,"ORDER_DATE")," "),m(2),O("sortField",o.sortableFields.USERNAME),m(),A(" ",x(38,30,"CUSTOMER")," "),m(3),k(x(41,32,"SHIPPING_ADDRESS")),m(3),fe(o.loading?43:44),m(2),fe(!o.orders||o.orders.length===0?45:-1),m(2),O("ngTemplateOutlet",s),m(),fe(o.selectedOrder?48:-1)}},dependencies:[Ie,Te,$r,ur,hn,cr,Hr,fr,Rl,Fl,Qo,At,na],styles:[".card[_ngcontent-%COMP%]{border:none;border-radius:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:none;border-radius:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--gray-9);cursor:pointer}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--purple-9)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:first-child{background:var(--purple-9);color:var(--purple-contrast)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;font-size:.85rem;color:var(--gray-10);text-transform:uppercase}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{line-height:1.75rem;cursor:pointer}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .shipping-address[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;line-height:2;max-height:2em}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-bottom:2px solid var(--purple-9)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:var(--purple-3);color:var(--purple-10)!important;font-weight:700}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:var(--purple-9)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .save-status-btn[_ngcontent-%COMP%]{border-radius:0;background:var(--purple-9);color:var(--purple-contrast)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .save-status-btn[_ngcontent-%COMP%]:hover{background:var(--purple-10)}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{border-top:none}.skeleton-loader[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--gray-2) 25%,var(--gray-3) 50%,var(--gray-2) 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;height:2rem;border-radius:4px}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}"]});let t=e;return t})();var ki=(()=>{let e=class e{constructor(n){this.translateService=n,this.refreshButtonClick=new Ae,this.deleteButtonClick=new Ae,this.translateService.setDefaultLang("vi")}onRefreshButtonClick(){this.refreshButtonClick.emit()}onDeleteButtonClick(){this.deleteButtonClick.emit()}};e.\u0275fac=function(i){return new(i||e)(T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-list-controls"]],outputs:{refreshButtonClick:"refreshButtonClick",deleteButtonClick:"deleteButtonClick"},standalone:!0,features:[ge],decls:16,vars:9,consts:[[1,"d-flex","flex-column","flex-md-row"],["routerLink","new",1,"control-btn","btn","btn-sm","rounded-pill","px-3","me-2"],[1,"bi","bi-plus-lg","me-1"],[1,"control-btn","btn","btn-sm","rounded-pill","px-3","me-2",3,"click"],[1,"bi","bi-arrow-clockwise","me-1"],[1,"bi","bi-trash","me-1"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"button",1),I(2,"i",2),f(3,"span"),y(4),w(5,"translate"),h()(),f(6,"button",3),P("click",function(){return o.onRefreshButtonClick()}),I(7,"i",4),f(8,"span"),y(9),w(10,"translate"),h()(),f(11,"button",3),P("click",function(){return o.onDeleteButtonClick()}),I(12,"i",5),f(13,"span"),y(14),w(15,"translate"),h()()()),i&2&&(m(4),k(x(5,3,"NEW")),m(5),k(x(10,5,"REFRESH")),m(5),k(x(15,7,"DELETE")))},dependencies:[Be,Ie,Te],styles:[".control-btn[_ngcontent-%COMP%]{color:var(--purple-9)!important}.control-btn[_ngcontent-%COMP%]:last-child{color:var(--gray-9)!important}"]});let t=e;return t})();var Rt={defaultHeroImageUrl:"https://placehold.co/450x450",defaultThumbnail:"https://placehold.co/82x82",defaultAvatar:"https://placehold.co/256x256"};var Ti=(()=>{let e=class e{constructor(n){this.http=n,this.BASE_URL=Pe.PRODUCT_SERVICE_API,this.PRODUCT_SERVICE_API_URL=`${this.BASE_URL}/products`}getBy(n,i){return this.http.get(this.PRODUCT_SERVICE_API_URL,{params:j(j({},n),i)})}getBySlug(n){return this.http.get(`${this.PRODUCT_SERVICE_API_URL}/${n}`)}getImagesById(n){return this.http.get(`${this.PRODUCT_SERVICE_API_URL}/${n}/images`)}create(n){return this.http.post(this.PRODUCT_SERVICE_API_URL,n)}update(n){return this.http.put(`${this.PRODUCT_SERVICE_API_URL}/${n.id}`,n)}updateImages(n,i){return this.http.put(`${this.PRODUCT_SERVICE_API_URL}/${n}/images`,i)}setFeaturedImage(n,i){return this.http.patch(`${this.PRODUCT_SERVICE_API_URL}/${n}/images/${i}`,{})}delete(n){return this.http.delete(this.PRODUCT_SERVICE_API_URL,{body:n})}removeImage(n,i){return this.http.delete(`${this.PRODUCT_SERVICE_API_URL}/${n}/images`,{body:i})}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var z8=()=>[1,2,3,4,5,6,7,8,9,10],q8=t=>[".",t];function G8(t,e){t&1&&It(0)}function W8(t,e){t&1&&It(0)}function K8(t,e){t&1&&(f(0,"td"),I(1,"div",23),h())}function Z8(t,e){if(t&1&&(f(0,"tr",17)(1,"td"),I(2,"input",18),h(),f(3,"td"),I(4,"div",19),h(),f(5,"td")(6,"div",20),I(7,"div",21)(8,"div",22),h()(),Me(9,K8,2,0,"td",null,ze),h()),t&2){let r=N(2);m(9),De(r.Array(7))}}function Y8(t,e){t&1&&Me(0,Z8,11,0,"tr",17,Rr),t&2&&De(cn(0,z8))}function J8(t,e){if(t&1){let r=ve();f(0,"tr")(1,"td")(2,"input",24),P("change",function(){U(r);let i=N(2);return $(i.onSelect())}),h()(),f(3,"td"),y(4),h(),f(5,"td")(6,"div",20),I(7,"img",25),f(8,"a",26),y(9),h()()(),f(10,"td"),y(11),h(),f(12,"td")(13,"span",27),y(14),w(15,"translate"),w(16,"translate"),h()(),f(17,"td"),y(18),w(19,"currency"),h(),f(20,"td"),y(21),w(22,"currency"),h(),f(23,"td"),y(24),h(),f(25,"td"),y(26),h(),f(27,"td"),y(28),w(29,"date"),h()()}if(t&2){let r,n=e.$implicit,i=N(2);m(2),O("id",n.id),m(2),k(n.id),m(3),O("src",(r=i.productImage.get(n.id))!==null&&r!==void 0?r:i.constant.defaultThumbnail,Ut),m(),O("routerLink",un(29,q8,n.slug)),m(),A(" ",n.name," "),m(2),k(n.slug),m(2),pe("inactive-badge",!n.active)("active-badge",n.active),m(),A(" ",n.active?x(15,16,"ON_SALE"):x(16,18,"ON_STOCK")," "),m(4),k($e(19,20,n.basePrice,"VND")),m(3),k($e(22,23,n.salePrice,"VND")),m(3),k(n.stockQuantity),m(2),k(n.viewCount),m(2),k($e(29,26,n.createdAt,"HH:mm dd-MM-yyyy"))}}function Q8(t,e){if(t&1&&Me(0,J8,30,31,"tr",null,ze),t&2){let r=N();De(r.products)}}function X8(t,e){t&1&&It(0)}function e6(t,e){if(t&1){let r=ve();f(0,"app-list-controls",28),P("refreshButtonClick",function(){U(r);let i=N();return $(i.onRefreshButtonClick())})("deleteButtonClick",function(){U(r);let i=N();return $(i.onDeleteSelected())}),h()}}function t6(t,e){if(t&1){let r=ve();f(0,"app-pagination",29),P("pageChange",function(i){U(r);let o=N();return $(o.onPageChange(i))})("pageSizeChange",function(i){U(r);let o=N();return $(o.onPageSizeChange(i))}),h()}if(t&2){let r=N();O("pageRequest",r.pageRequest)("items",r.productResponse)("loading",r.loading)}}var WM=(()=>{let e=class e{constructor(n,i,o){this.productService=n,this.alertService=i,this.translate=o,this.loading=!1,this.pageRequest={page:1,size:10},this.sort={sortBy:Nt.CREATED_AT,ascending:!1},this.productResponse=null,this.products=[],this.productImage=new Map,this.sortableFields=Nt,this.selectAllChecked=!1,this.Array=Array,this.constant=Rt,this.translate.setDefaultLang("vi")}ngOnInit(){this.fetchProducts()}onRefreshButtonClick(){this.fetchProducts()}onDeleteSelected(){console.log("INFO - Starting deleting product...");let i=`Delete ${this.getSelectedProductIds().length} product(s)?`;this.alertService.showConfirmationAlert(i,"Those products will be deleted forever! Do you want to continue?","warning",()=>this.doDeleteSelectedProducts())}onPageChange(n){n==="next"?this.nextPage():this.previousPage()}onPageSizeChange(n){this.pageRequest.size=n,this.validatePageRequest(),this.fetchProducts()}onSelectAll(n){let i=n.target;this.selectAllChecked=i.checked,document.querySelectorAll(".custom-checkbox").forEach(s=>{s.checked=this.selectAllChecked})}onSortChange(n){this.sort=n,this.fetchProducts()}onSelect(){let n=document.querySelectorAll(".custom-checkbox:not(#selectAll)");this.selectAllChecked=Array.from(n).every(o=>o.checked);let i=document.querySelector("#selectAll");i&&(i.checked=this.selectAllChecked)}fetchProducts(){this.loading=!0,this.productService.getBy(this.pageRequest,this.sort).pipe(Se(n=>(this.productResponse=n,this.products=n.items,this.loading=!1,this.products.map(i=>this.productService.getImagesById(i.id)))),ct(n=>qi(n))).subscribe({next:n=>{this.productImage=this.products.reduce((i,o,s)=>{let a=n.at(s)??[];return i.set(o.id,this.pickThumbnailImage(a)),i},new Map),this.loading=!1},error:()=>this.loading=!1})}nextPage(){this.productResponse?.hasNext&&(this.pageRequest.page++,this.fetchProducts())}previousPage(){this.productResponse?.hasPrevious&&(this.pageRequest.page--,this.fetchProducts())}validatePageRequest(){this.productResponse&&this.productResponse.totalItems-this.pageRequest.page*this.pageRequest.size<0&&(this.pageRequest.page=Math.ceil(this.productResponse.totalItems/this.pageRequest.size))}getSelectedProductIds(){let n=document.querySelectorAll(".custom-checkbox:not(#selectAll)");return Array.from(n).filter(i=>i.checked).map(i=>parseInt(i.id))}doDeleteSelectedProducts(){this.productService.delete(this.getSelectedProductIds()).subscribe({next:()=>{this.showSuccess(),this.fetchProducts()},error:n=>this.showError(n)})}showSuccess(){let n=`${this.getSelectedProductIds().length} products deleted`;this.alertService.showSuccessToast(n)}showError(n){let{error:i}=n,o=i.errorMessage||"Some server issues occurred";this.alertService.showErrorToast(o)}pickThumbnailImage(n){let i=n.find(s=>s.featured);if(i)return this.createImageUrl(i.imageId);let o=n.at(0);return o?this.createImageUrl(o.imageId):Rt.defaultHeroImageUrl}createImageUrl(n){return`${Pe.IMAGE_SERVICE_API}/images/${n}`}};e.\u0275fac=function(i){return new(i||e)(T(Ti),T(lt),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["admin-products"]],standalone:!0,features:[ge],decls:51,vars:39,consts:[["controls",""],["pagination",""],[1,"container-fluid","my-5"],[1,"card","border-0","shadow"],[1,"card-header","bg-purple","bg-gradient","d-flex","justify-content-between","align-items-center","py-3"],[1,"mb-0","text-white"],[1,"card-footer","border-0","d-flex","align-items-center","justify-content-between"],[4,"ngTemplateOutlet"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],["id","selectAll","type","checkbox",1,"form-check-input","custom-checkbox",3,"change"],[2,"width","5%"],["appSortable","",2,"width","20%",3,"sortChange","sortField"],["appSortable","",2,"width","5%",3,"sortChange","sortField"],["appSortable","",2,"width","10%",3,"sortChange","sortField"],[1,"card-footer","border-0","d-flex","justify-content-end"],[1,"skeleton-row"],["type","checkbox",1,"form-check-input","custom-checkbox"],[1,"skeleton-loader",2,"width","30px"],[1,"d-flex","align-items-center"],[1,"skeleton-loader","rounded-circle","me-3",2,"width","40px","height","40px"],[1,"skeleton-loader",2,"width","100px"],[1,"skeleton-loader",2,"width","60px"],["type","checkbox",1,"form-check-input","custom-checkbox",3,"change","id"],["alt","Product image","width","40","height","40",1,"me-3","user-avatar",3,"src"],[1,"user-link","text-decoration-none","fw-bold",3,"routerLink"],[1,"badge"],[3,"refreshButtonClick","deleteButtonClick"],[3,"pageChange","pageSizeChange","pageRequest","items","loading"]],template:function(i,o){if(i&1){let s=ve();f(0,"main",2)(1,"div",3)(2,"div",4)(3,"h2",5),y(4),w(5,"translate"),h()(),f(6,"div",6),Y(7,G8,1,0,"ng-container",7)(8,W8,1,0,"ng-container",7),h(),f(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th")(15,"input",11),P("change",function(l){return U(s),$(o.onSelectAll(l))}),h()(),f(16,"th",12),y(17,"ID"),h(),f(18,"th",13),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(19),w(20,"translate"),h(),f(21,"th",13),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(22),w(23,"translate"),h(),f(24,"th",14),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(25),w(26,"translate"),h(),f(27,"th",15),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(28),w(29,"translate"),h(),f(30,"th",15),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(31),w(32,"translate"),h(),f(33,"th",15),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(34),w(35,"translate"),h(),f(36,"th",15),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(37),w(38,"translate"),h(),f(39,"th",15),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(40),w(41,"translate"),h()()(),f(42,"tbody"),Y(43,Y8,2,1)(44,Q8,2,0),h()()()(),f(45,"div",16),Y(46,X8,1,0,"ng-container",7),h()()(),Y(47,e6,1,0,"ng-template",null,0,Mn)(49,t6,1,3,"ng-template",null,1,Mn)}if(i&2){let s=nn(48),a=nn(50);m(4),k(x(5,21,"PRODUCTS")),m(3),O("ngTemplateOutlet",s),m(),O("ngTemplateOutlet",a),m(10),O("sortField",o.sortableFields.NAME),m(),A(" ",x(20,23,"NAME")," "),m(2),O("sortField",o.sortableFields.SLUG),m(),A(" ",x(23,25,"SLUG")," "),m(2),O("sortField",o.sortableFields.FIRST_NAME),m(),A(" ",x(26,27,"STATUS")," "),m(2),O("sortField",o.sortableFields.BASE_PRICE),m(),A(" ",x(29,29,"BASE_PRICE")," "),m(2),O("sortField",o.sortableFields.SALE_PRICE),m(),A(" ",x(32,31,"SALE_PRICE")," "),m(2),O("sortField",o.sortableFields.STOCK_QUANTITY),m(),A(" ",x(35,33,"STOCK")," "),m(2),O("sortField",o.sortableFields.VIEW_COUNT),m(),A(" ",x(38,35,"VIEW_COUNT")," "),m(2),O("sortField",o.sortableFields.CREATED_AT),m(),A(" ",x(41,37,"CREATED_AT")," "),m(3),fe(o.loading?43:44),m(3),O("ngTemplateOutlet",a)}},dependencies:[$r,hn,ki,Hr,Be,ur,Ie,Te,cr],styles:[".card[_ngcontent-%COMP%]   .bg-purple[_ngcontent-%COMP%]{background:var(--purple-9)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--purple-1);transition:all .3s ease}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{color:var(--purple-contrast);background:var(--purple-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;font-size:.8rem;color:var(--gray-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{border:2px solid var(--purple-contrast);box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-weight:500;color:var(--purple-contrast)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .active-badge[_ngcontent-%COMP%]{background:var(--purple-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .inactive-badge[_ngcontent-%COMP%]{background:var(--gray-6)}.card[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--gray-2) 25%,var(--gray-3) 50%,var(--gray-2) 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;height:20px;border-radius:4px}.card[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]{color:var(--purple-9);transition:color .3s ease}.card[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]:hover{color:var(--purple-12)}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.custom-checkbox[_ngcontent-%COMP%]{border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--purple-9);border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6f42c140}"]});let t=e;return t})();var Vl=(()=>{let e=class e{constructor(n){this.http=n,this.BASE_URL=Pe.IMAGE_SERVICE_API,this.IMAGE_SERVICE_API_URL=`${this.BASE_URL}/images`}getUploaded(n){return this.http.get(`${this.IMAGE_SERVICE_API_URL}`,{params:j({},n)})}getById(n){return this.http.get(`${this.IMAGE_SERVICE_API_URL}/${n}`,{responseType:"blob"})}uploadImage(n){let i=new FormData;return i.append("image",n),i.append("altText",n.name),this.http.post(`${this.IMAGE_SERVICE_API_URL}/upload`,i)}setAvatar(n){return this.http.patch(`${this.IMAGE_SERVICE_API_URL}/${n}/set-avatar`,{})}deleteImage(n){return this.http.delete(`${this.IMAGE_SERVICE_API_URL}/${n}`)}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var KM=(()=>{let e=class e{constructor(n,i,o){this.keycloak=n,this.imageService=i,this.alertService=o,this.username=this.keycloak.getUsername()}ngOnInit(){this.loadAvatar()}loadAvatar(){this.avatarUrl="http://localhost:8082/api/images/1"}previewAvatar(n){let i=n.target;if(i.files&&i.files[0]){let o=new FileReader;o.onload=s=>{this.avatarUrl=s.target?.result},o.readAsDataURL(i.files[0])}}handleFileChange(n){let i=n.target;i.files&&i.files[0]&&this.imageService.uploadImage(i.files[0]).subscribe({next:o=>{console.log("Upload successful",o);let s=o.id;s&&this.imageService.setAvatar(s).subscribe({next:()=>{this.alertService.showSuccessToast("Changed avatar successfully")},error:a=>{console.error("Change failed",a),this.alertService.showErrorToast("Failed to change avatar")}})},error:o=>{console.error("Upload failed",o),this.alertService.showErrorToast("Failed to upload image")}})}logout(){this.keycloak.logout()}};e.\u0275fac=function(i){return new(i||e)(T(hu),T(Vl),T(lt))},e.\u0275cmp=ae({type:e,selectors:[["app-admin-profile"]],standalone:!0,features:[ge],decls:12,vars:0,consts:[["fileInput",""],[1,"container-fluid","my-5"],[1,"row"],[1,"col-md-4","text-center"],[1,"avatar-container"],["src","http://localhost:8082/api/images/1","alt","User Avatar",1,"img-fluid","rounded-circle","avatar-preview",3,"click"],["type","file","accept","image/*",1,"mt-2","avatar-input",2,"display","none",3,"change"],[1,"col-md-8"],[1,"btn","btn-danger",3,"click"]],template:function(i,o){if(i&1){let s=ve();f(0,"main",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"img",5),P("click",function(){U(s);let l=nn(6);return $(l.click())}),h(),f(5,"input",6,0),P("change",function(l){return U(s),o.previewAvatar(l),$(o.handleFileChange(l))}),h()()(),f(7,"div",7)(8,"h2"),y(9,"User Details"),h(),f(10,"button",8),P("click",function(){return U(s),$(o.logout())}),y(11,"logout"),h()()()()}},styles:[".avatar-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.avatar-container[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border:2px solid var(--purple-9);border-radius:50%;transition:border-color .3s}.avatar-container[_ngcontent-%COMP%]   .avatar-input[_ngcontent-%COMP%]{margin-top:10px;cursor:pointer}.avatar-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.avatar-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--purple-12)}"]});let t=e;return t})();var Jf=(()=>{let e=class e{constructor(){this.passwordMatchValidator=n=>{let i=n.get("password")?.value,o=n.get("rePassword")?.value;return i&&o&&i!==o?{mismatch:!0}:null}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oi=(()=>{let e=class e{constructor(n){this.http=n,this.BASE_URL=Pe.USER_SERVICE_API,this.USER_SERVICE_API_URL=`${this.BASE_URL}/users`,this.CUSTOMER_SERVICE_API_URL=`${this.BASE_URL}/customers`}getBy(n,i){return this.http.get(this.USER_SERVICE_API_URL,{params:j(j({},n),i)})}getById(n){return this.http.get(`${this.USER_SERVICE_API_URL}/${n}`)}getByUsername(n){return this.http.get(`${this.CUSTOMER_SERVICE_API_URL}/${n}`)}create(n){return this.http.post(this.USER_SERVICE_API_URL,n)}update(n){return this.http.put(`${this.USER_SERVICE_API_URL}/${n.id}`,n)}updateProfile(n,i){return this.http.put(`${this.CUSTOMER_SERVICE_API_URL}/${n}`,i)}changePassword(n,i){return this.http.put(`${this.CUSTOMER_SERVICE_API_URL}/${n}/change-password`,{newPassword:i})}resetPassword(n,i){return this.http.put(`${this.USER_SERVICE_API_URL}/${n}/reset-password`,i)}delete(n){return this.http.delete(this.USER_SERVICE_API_URL,{body:n})}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function n6(t,e){if(t&1&&y(0),t&2){let r=N();at(" ",r.user==null?null:r.user.firstName," ",r.user==null?null:r.user.lastName," ")}}function r6(t,e){t&1&&(y(0),w(1,"translate")),t&2&&A(" ",x(1,1,"NEW_USER")," ")}function i6(t,e){if(t&1){let r=ve();f(0,"li",6)(1,"button",7),P("click",function(){U(r);let i=N();return $(i.changeTab("credentials"))}),y(2),w(3,"translate"),h()()}if(t&2){let r=N();m(),pe("active",r.currentTabView==="credentials"),m(),A(" ",x(3,3,"CREDENTIALS")," ")}}function o6(t,e){t&1&&(f(0,"div",20)(1,"span",36),y(2),w(3,"translate"),h()()),t&2&&(m(2),A(" ",x(3,1,"FIRST_NAME_IS_REQUIRED")," "))}function s6(t,e){t&1&&(f(0,"div",20)(1,"span",36),y(2),w(3,"translate"),h()()),t&2&&(m(2),k(x(3,1,"LAST_NAME_IS_REQUIRED")))}function a6(t,e){t&1&&(f(0,"div",20)(1,"span",36),y(2),w(3,"translate"),h()()),t&2&&(m(2),k(x(3,1,"USERNAME_IS_REQUIRED")))}function l6(t,e){t&1&&(f(0,"div",20)(1,"span",36),y(2),w(3,"translate"),h()()),t&2&&(m(2),k(x(3,1,"EMAIL_IS_REQUIRED")))}function c6(t,e){if(t&1&&(f(0,"form",9)(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"label",19),y(6),w(7,"translate"),h()(),f(8,"div",20),I(9,"input",21),h(),Y(10,o6,4,3,"div",20),h(),f(11,"div",22)(12,"div",18)(13,"label",23),y(14),w(15,"translate"),h()(),f(16,"div",20),I(17,"input",24),h(),Y(18,s6,4,3,"div",20),h(),f(19,"div",22)(20,"div",18)(21,"label",25),y(22),w(23,"translate"),h()(),f(24,"div",20),I(25,"input",26),h(),Y(26,a6,4,3,"div",20),h(),f(27,"div",22)(28,"div",18)(29,"label",27),y(30),w(31,"translate"),h()(),f(32,"div",20),I(33,"input",28),h(),Y(34,l6,4,3,"div",20),h(),f(35,"div",22)(36,"div",18)(37,"label",29),y(38),w(39,"translate"),h()(),f(40,"div",16)(41,"div",30),I(42,"input",31),f(43,"label",32),y(44,"True"),h()()()(),f(45,"div",22)(46,"div",18)(47,"label",33),y(48),w(49,"translate"),h()(),f(50,"div",16)(51,"div",30),I(52,"input",34),f(53,"label",35),y(54),w(55,"translate"),w(56,"translate"),h()()()()()()()),t&2){let r,n=N();O("formGroup",n.userForm),m(6),k(x(7,20,"FIRST_NAME")),m(3),pe("invalid-input",n.isInvalid("firstName")),m(),fe(n.isInvalid("firstName")?10:-1),m(4),k(x(15,22,"LAST_NAME")),m(3),pe("invalid-input",n.isInvalid("lastName")),m(),fe(n.isInvalid("lastName")?18:-1),m(4),k(x(23,24,"USERNAME")),m(3),pe("invalid-input",n.isInvalid("username")),m(),fe(n.isInvalid("username")?26:-1),m(4),k(x(31,26,"EMAIL")),m(3),pe("invalid-input",n.isInvalid("email")),m(),fe(n.isInvalid("email")?34:-1),m(4),A(" ",x(39,28,"EMAIL_VERIFIED")," "),m(10),A(" ",x(49,30,"ENABLED")," "),m(6),A(" ",(r=n.userForm.get("enabled"))!=null&&r.value?x(55,32,"ACTIVE"):x(56,34,"INACTIVE")," ")}}function u6(t,e){t&1&&(f(0,"div",20)(1,"span",36),y(2),w(3,"translate"),h()()),t&2&&(m(2),k(x(3,1,"PASSWORD_IS_REQUIRED")))}function d6(t,e){t&1&&(y(0),w(1,"translate")),t&2&&A(" ",x(1,1,"CONFIRM_PASSWORD_DOES_NOT_MATCHED")," ")}function p6(t,e){t&1&&(y(0),w(1,"translate")),t&2&&A(" ",x(1,1,"CONFIRM_PASSWORD_IS_REQUIRED")," ")}function f6(t,e){if(t&1&&(f(0,"div",20)(1,"span",36),Y(2,d6,2,3)(3,p6,2,3),h()()),t&2){let r=N(2);m(2),fe(r.rePasswordNotMatched?2:3)}}function h6(t,e){if(t&1&&(f(0,"form",9)(1,"div",15)(2,"div",16)(3,"div",22)(4,"div",18)(5,"label",37),y(6),w(7,"translate"),h()(),f(8,"div",20),I(9,"input",38),h(),Y(10,u6,4,3,"div",20),h(),f(11,"div",22)(12,"div",18)(13,"label",39),y(14),w(15,"translate"),h()(),f(16,"div",20),I(17,"input",40),h(),Y(18,f6,4,1,"div",20),h(),f(19,"div",22)(20,"div",18)(21,"label",41),y(22),w(23,"translate"),h()(),f(24,"div",16)(25,"div",30),I(26,"input",42),f(27,"label",43),y(28,"True"),h()()()()()()()),t&2){let r=N();O("formGroup",r.passwordForm),m(6),k(x(7,10,"NEW_PASSWORD")),m(3),pe("invalid-input",r.isInvalid("password")),m(),fe(r.isInvalid("password")?10:-1),m(4),A(" ",x(15,12,"CONFIRM_PASSWORD")," "),m(3),pe("invalid-input",r.isInvalid("rePassword")),m(),fe(r.isInvalid("rePassword")||r.rePasswordNotMatched?18:-1),m(4),A(" ",x(23,14,"TEMPORARY")," ")}}var YM=(()=>{let e=class e{constructor(n,i,o,s,a,l){this.fb=n,this.validator=i,this.userService=o,this.alertService=s,this.router=a,this.translate=l,this.userId=null,this.user=null,this.user$=null,this.currentTabView="general",this.translate.setDefaultLang("vi")}ngOnInit(){this.initForm(),this.initPasswordForm(),this.user$?.subscribe(n=>{this.user=n,this.updateForm(n)})}isInvalid(n){let i=this.userForm.get(n);return i?.invalid&&(i?.dirty||i?.touched)}onSaveButtonClick(){if(console.log("INFO - USER: ",this.userForm.value),this.currentTabView==="general")if(this.userId){let n=this.userForm.value;n.id=this.userId,this.userService.update(this.userForm.value).subscribe({next:()=>{this.router.navigate(["/admin/users/",this.userId]),this.alertService.showSuccessToast("User has been saved successfully")},error:i=>{this.alertService.showErrorToast(i.error?.errorMessage)}})}else this.userService.create(this.userForm.value).subscribe({next:n=>{console.log(n),this.router.navigate(["/admin/users/",n.id]),this.alertService.showSuccessToast(`User ${n?.username} has been saved successfully`)},error:n=>{this.alertService.showErrorToast(n.error?.errorMessage)}});else if(this.currentTabView==="credentials"){let n=this.passwordForm.value;this.userId&&this.userService.resetPassword(this.userId,n).subscribe({next:()=>{this.router.navigate(["/admin/users/",this.userId]),this.alertService.showSuccessToast("Password has been saved successfully")},error:i=>{this.alertService.showErrorToast(i.error?.errorMessage)}})}}changeTab(n){this.currentTabView=n}get rePasswordNotMatched(){return this.userForm.errors?.mismatch}set id(n){this.userId=parseInt(n),this.userId&&(this.user$=this.userService.getById(this.userId))}initForm(){this.userForm=this.fb.group({firstName:["",we.required],lastName:["",we.required],email:["",[we.required,we.email]],emailVerified:[!1],enabled:[!1],username:["",we.required]})}initPasswordForm(){this.passwordForm=this.fb.group({password:[""],rePassword:[""],temporary:[!1]}),this.userForm.addValidators(this.validator.passwordMatchValidator)}updateForm(n){this.userForm.patchValue(j({},n))}};e.\u0275fac=function(i){return new(i||e)(T(bn),T(Jf),T(Oi),T(lt),T(mt),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-user-details"]],inputs:{id:"id"},standalone:!0,features:[ge],decls:27,vars:15,consts:[[1,"container","my-5"],[1,"card","border-0","shadow"],[1,"card-header","bg-purple","bg-gradient","d-flex","justify-content-between","align-items-center","py-3"],[1,"mb-0","text-white"],[1,"card-footer"],[1,"nav","nav-underline"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"card-body"],[3,"formGroup"],[1,"card-footer","border-0","controls-bar","d-flex","justify-content-between","align-items-center"],["routerLink","..",1,"btn","return-btn","border-0","fs-5"],[1,"bi","bi-arrow-return-left","me-3"],[1,"btn","save-btn","border-0","fs-5","fw-bold",3,"click","disabled"],[1,"bi","bi-floppy","me-3"],[1,"row"],[1,"col"],[1,"row","g-3","align-items-center","mt-1"],[1,"col-3"],["for","firstName",1,"col-form-label"],[1,"col-auto"],["formControlName","firstName","type","text","id","firstName","placeholder","Nguyen Van",1,"form-control"],[1,"row","g-3","align-items-center","my-1"],["for","lastName",1,"col-form-label"],["formControlName","lastName","type","text","id","lastName","placeholder","A",1,"form-control"],["for","username",1,"col-form-label"],["formControlName","username","type","text","id","username","placeholder","user1",1,"form-control"],["for","email",1,"col-form-label"],["formControlName","email","type","email","id","email","placeholder","nguyenvana@gmail.com",1,"form-control"],["for","emailVerified",1,"col-form-label"],[1,"form-check","form-switch"],["formControlName","emailVerified","type","checkbox","role","switch","aria-checked","true","id","emailVerified",1,"form-check-input","custom-checkbox"],["for","emailVerified"],["for","enabled",1,"col-form-label"],["formControlName","enabled","type","checkbox","role","switch","aria-checked","true","id","enabled",1,"form-check-input","custom-checkbox"],["for","enabled"],[1,"form-text","text-danger"],["for","password",1,"col-form-label"],["formControlName","password","type","password","id","password",1,"form-control"],["for","re-password",1,"col-form-label"],["formControlName","rePassword","type","password","id","re-password",1,"form-control"],["for","temporary",1,"col-form-label"],["formControlName","temporary","type","checkbox","role","switch","aria-checked","true","id","temporary",1,"form-check-input","custom-checkbox"],["for","temporary"]],template:function(i,o){i&1&&(f(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),Y(4,n6,1,2)(5,r6,2,3),h()(),f(6,"div",4)(7,"ul",5)(8,"li",6)(9,"button",7),P("click",function(){return o.changeTab("general")}),y(10),w(11,"translate"),h()(),Y(12,i6,4,5,"li",6),h()(),f(13,"div",8),Y(14,c6,57,36,"form",9)(15,h6,29,16,"form",9),h(),f(16,"div",10)(17,"button",11),I(18,"i",12),f(19,"span"),y(20),w(21,"translate"),h()(),f(22,"button",13),P("click",function(){return o.onSaveButtonClick()}),I(23,"i",14),f(24,"span"),y(25),w(26,"translate"),h()()()()()),i&2&&(m(4),fe(o.user!=null&&o.user.firstName||o.user!=null&&o.user.lastName?4:5),m(5),pe("active",o.currentTabView==="general"),m(),A(" ",x(11,9,"GENERAL")," "),m(2),fe(o.user!=null&&o.user.id?12:-1),m(2),fe(o.currentTabView==="general"?14:15),m(6),k(x(21,11,"BACK")),m(2),O("disabled",!o.userForm.valid),m(3),k(x(26,13,"SAVE")))},dependencies:[Be,on,Qt,Ot,ta,At,Jt,Gt,Wt,Ie,Te],styles:[".card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--gray-9)}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--purple-9)}.bg-purple[_ngcontent-%COMP%]{background:var(--purple-9)}.card-header[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--purple-1);transition:all .3s ease}.card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]:hover, .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{color:var(--purple-contrast);background:var(--purple-9)}.invalid-input[_ngcontent-%COMP%]{border-color:var(--red-9)}.invalid-input[_ngcontent-%COMP%]:focus, .invalid-input[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem var(--red-a6)}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem #6f42c140;border-color:var(--purple-6)}label[_ngcontent-%COMP%]{color:var(--gray-9);font-weight:600}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--purple-9);border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:focus, .custom-checkbox[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem #6f42c140}.card-footer.controls-bar[_ngcontent-%COMP%]   .return-btn[_ngcontent-%COMP%]{color:var(--purple-9)}.card-footer.controls-bar[_ngcontent-%COMP%]   .return-btn[_ngcontent-%COMP%]:hover{color:var(--purple-12)}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{color:var(--purple-contrast);background-color:var(--purple-9);transition:all .3s ease-in-out}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background:var(--purple-12)!important}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:active{background:var(--purple-9)!important}"]});let t=e;return t})();var m6=t=>[".",t];function g6(t,e){t&1&&It(0)}function v6(t,e){t&1&&It(0)}function y6(t,e){t&1&&(f(0,"tr",14)(1,"td"),I(2,"input",15),h(),f(3,"td"),I(4,"div",16),h(),f(5,"td")(6,"div",17),I(7,"div",18)(8,"div",19),h()(),f(9,"td"),I(10,"div",20),h(),f(11,"td"),I(12,"div",21),h(),f(13,"td"),I(14,"div",21),h(),f(15,"td"),I(16,"div",21),h()())}function b6(t,e){if(t&1&&Me(0,y6,17,0,"tr",14,Rr),t&2){let r=N();De(r.Array(10))}}function C6(t,e){if(t&1){let r=ve();f(0,"tr")(1,"td")(2,"input",22),P("change",function(){U(r);let i=N(2);return $(i.onSelect())}),h()(),f(3,"td"),y(4),h(),f(5,"td")(6,"div",17)(7,"img",23),P("error",function(i){U(r);let o=N(2);return $(o.onAvatarNotFound(i))}),h(),f(8,"a",24),y(9),h()()(),f(10,"td"),y(11),h(),f(12,"td"),y(13),h(),f(14,"td"),y(15),h(),f(16,"td")(17,"span",25),y(18),w(19,"translate"),w(20,"translate"),h()(),f(21,"td"),y(22),w(23,"date"),h()()}if(t&2){let r=e.$implicit,n=N(2);m(2),O("id",r.id),m(2),k(r.id),m(3),O("src",n.createUserAvatarUrl(r),Ut),m(),O("routerLink",un(19,m6,r.id)),m(),A(" ",r.username," "),m(2),k(r.email),m(2),k(r.firstName),m(2),k(r.lastName),m(2),pe("inactive",!r.enabled),m(),A(" ",r.enabled?x(19,12,"ACTIVE"):x(20,14,"INACTIVE")," "),m(4),k($e(23,16,r.createdAt,"HH:mm dd/MM/yyyy"))}}function w6(t,e){if(t&1&&Me(0,C6,24,21,"tr",null,ze),t&2){let r=N();De(r.users==null?null:r.users.items)}}function _6(t,e){t&1&&It(0)}function x6(t,e){if(t&1){let r=ve();f(0,"app-pagination",26),P("pageChange",function(i){U(r);let o=N();return $(o.onPageChange(i))})("pageSizeChange",function(i){U(r);let o=N();return $(o.onPageSizeChange(i))}),h()}if(t&2){let r=N();O("pageRequest",r.pageRequest)("items",r.users)}}function S6(t,e){if(t&1){let r=ve();f(0,"app-list-controls",27),P("refreshButtonClick",function(){U(r);let i=N();return $(i.onRefreshButtonClick())})("deleteButtonClick",function(){U(r);let i=N();return $(i.onDeleteSelected())}),h()}}var JM=(()=>{let e=class e{constructor(n,i,o){this.userService=n,this.alertService=i,this.translate=o,this.loading=!1,this.users=null,this.pageRequest={page:1,size:10},this.sort={sortBy:Nt.CREATED_AT,ascending:!1},this.sortableFields=Nt,this.selectAllChecked=!1,this.constant=Rt,this.Array=Array,this.translate.setDefaultLang("vi")}ngOnInit(){this.fetchUsers()}fetchUsers(){this.loading=!0,this.userService.getBy(this.pageRequest,this.sort).subscribe({next:n=>{this.users=n,this.loading=!1},error:()=>this.loading=!1})}onRefreshButtonClick(){this.fetchUsers()}onSelectAll(n){let i=n.target;this.selectAllChecked=i.checked,document.querySelectorAll(".custom-checkbox").forEach(s=>{s.checked=this.selectAllChecked})}onSelect(){let n=document.querySelectorAll(".custom-checkbox:not(#selectAll)");this.selectAllChecked=Array.from(n).every(o=>o.checked);let i=document.querySelector("#selectAll");i&&(i.checked=this.selectAllChecked)}nextPage(){this.users?.hasNext&&(this.pageRequest.page++,this.fetchUsers())}previousPage(){this.users?.hasPrevious&&(this.pageRequest.page--,this.fetchUsers())}onPageChange(n){n==="next"?this.nextPage():this.previousPage()}onPageSizeChange(n){this.pageRequest.size=n,this.validatePageRequest(),this.fetchUsers()}onSortChange(n){this.sort=n,this.fetchUsers()}onDeleteSelected(){console.log("INFO - Starting deleting user...");let i=`Delete ${this.getSelectedUserIds().length} user(s)?`;this.alertService.showConfirmationAlert(i,"Those users will be deleted forever! Do you want to continue?","warning",()=>this.doDeleteSelectedUsers())}createUserAvatarUrl(n){return`${Pe.IMAGE_SERVICE_API}/images/avatar/users/${n.id}`}onAvatarNotFound(n){let i=n.target;i.src=Rt.defaultAvatar}doDeleteSelectedUsers(){this.userService.delete(this.getSelectedUserIds()).subscribe({next:()=>{this.showSuccess(),this.fetchUsers()},error:n=>this.showError(n)})}showSuccess(){let n=`${this.getSelectedUserIds().length} users deleted`;this.alertService.showSuccessToast(n)}showError(n){let{error:i}=n,o=i.errorMessage||"Some server issues occurred";this.alertService.showErrorToast(o)}getSelectedUserIds(){let n=document.querySelectorAll(".custom-checkbox:not(#selectAll)");return Array.from(n).filter(i=>i.checked).map(i=>parseInt(i.id))}validatePageRequest(){this.users&&this.users.totalItems-this.pageRequest.page*this.pageRequest.size<0&&(this.pageRequest.page=Math.ceil(this.users.totalItems/this.pageRequest.size))}};e.\u0275fac=function(i){return new(i||e)(T(Oi),T(lt),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-users"]],standalone:!0,features:[ge],decls:45,vars:30,consts:[["pagination",""],["controls",""],[1,"container-fluid","my-5"],[1,"card","border-0","shadow"],[1,"card-header","bg-purple","bg-gradient","d-flex","justify-content-between","align-items-center","py-3"],[1,"mb-0","text-white"],[1,"card-footer","border-0","d-flex","align-items-center","justify-content-between"],[4,"ngTemplateOutlet"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],["id","selectAll","type","checkbox",1,"form-check-input","custom-checkbox",3,"change"],["appSortable","",3,"sortChange","sortField"],[1,"card-footer","border-0","d-flex","justify-content-end"],[1,"skeleton-row"],["type","checkbox",1,"form-check-input","custom-checkbox"],[1,"skeleton-loader",2,"width","30px"],[1,"d-flex","align-items-center"],[1,"skeleton-loader","rounded-circle","me-3",2,"width","40px","height","40px"],[1,"skeleton-loader",2,"width","100px"],[1,"skeleton-loader",2,"width","150px"],[1,"skeleton-loader",2,"width","60px"],["type","checkbox",1,"form-check-input","custom-checkbox",3,"change","id"],["alt","John Doe","width","40","height","40","loading","lazy",1,"rounded-circle","me-3","user-avatar",3,"error","src"],[1,"user-link","text-decoration-none","fw-bold",3,"routerLink"],[1,"badge"],[3,"pageChange","pageSizeChange","pageRequest","items"],[3,"refreshButtonClick","deleteButtonClick"]],template:function(i,o){if(i&1){let s=ve();f(0,"main",2)(1,"div",3)(2,"div",4)(3,"h2",5),y(4),w(5,"translate"),h()(),f(6,"div",6),Y(7,g6,1,0,"ng-container",7)(8,v6,1,0,"ng-container",7),h(),f(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th")(15,"input",11),P("change",function(l){return U(s),$(o.onSelectAll(l))}),h()(),f(16,"th"),y(17,"ID"),h(),f(18,"th",12),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(19),w(20,"translate"),h(),f(21,"th",12),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(22),w(23,"translate"),h(),f(24,"th",12),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(25),w(26,"translate"),h(),f(27,"th",12),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(28),w(29,"translate"),h(),f(30,"th"),y(31),w(32,"translate"),h(),f(33,"th",12),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(34),w(35,"translate"),h()()(),f(36,"tbody"),Y(37,b6,2,0)(38,w6,2,0),h()()()(),f(39,"div",13),Y(40,_6,1,0,"ng-container",7),h()()(),Y(41,x6,1,2,"ng-template",null,0,Mn)(43,S6,1,0,"ng-template",null,1,Mn)}if(i&2){let s=nn(42),a=nn(44);m(4),k(x(5,16,"USERS")),m(3),O("ngTemplateOutlet",a),m(),O("ngTemplateOutlet",s),m(10),O("sortField",o.sortableFields.USERNAME),m(),A(" ",x(20,18,"USER")," "),m(2),O("sortField",o.sortableFields.EMAIL),m(),A(" ",x(23,20,"EMAIL")," "),m(2),O("sortField",o.sortableFields.FIRST_NAME),m(),A(" ",x(26,22,"FIRST_NAME")," "),m(2),O("sortField",o.sortableFields.LAST_NAME),m(),A(" ",x(29,24,"LAST_NAME")," "),m(3),A(" ",x(32,26,"STATUS")," "),m(2),O("sortField",o.sortableFields.CREATED_AT),m(),A(" ",x(35,28,"CREATED_AT")," "),m(3),fe(o.loading?37:38),m(3),O("ngTemplateOutlet",s)}},dependencies:[hn,$r,Be,Hr,ki,Ie,Te,cr],styles:[".card[_ngcontent-%COMP%]   .bg-purple[_ngcontent-%COMP%]{background:var(--purple-9)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--purple-1);transition:all .3s ease}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{color:var(--purple-contrast);background:var(--purple-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;font-size:.8rem;color:var(--gray-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{border:2px solid var(--purple-contrast);box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:var(--purple-9);font-weight:500}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%]{background:var(--gray-9)}.card[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--gray-2) 25%,var(--gray-3) 50%,var(--gray-2) 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;height:20px;border-radius:4px}.card[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]{color:var(--purple-9);transition:color .3s ease}.card[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]:hover{color:var(--purple-12)}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.custom-checkbox[_ngcontent-%COMP%]{border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--purple-9);border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6f42c140}"]});let t=e;return t})();var QM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ae({type:e,selectors:[["app-footer"]],standalone:!0,features:[ge],decls:112,vars:0,consts:[[1,"footer","mt-3","p-3"],[1,"container"],[1,"row"],[1,"col","mb-4"],[1,"fw-bold"],[1,"list-unstyled"],["href","#",1,"link","text-muted","text-decoration-none"],[1,"mb-4"],[1,"d-flex","justify-content-start"],["src","/images/visa.jpg","alt","Payment Methods",1,"me-2",2,"max-width","50px"],["src","/images/mastercard.jpg","alt","Payment Methods",1,"me-2",2,"max-width","50px"],["src","/images/americanexpress.png","alt","Payment Methods",1,"me-2",2,"max-width","50px"],["src","/images/jcb.png","alt","Payment Methods",2,"max-width","50px"],["src","/images/vietnampost.png","alt","Logistics",1,"me-2",2,"max-width","50px"],["src","/images/viettelpost.png","alt","Logistics",1,"me-2",2,"max-width","50px"],["src","/images/ninjavan.png","alt","Logistics",1,"me-2",2,"max-width","50px"],["src","/images/ahamove.png","alt","Logistics",2,"max-width","50px"],[1,"d-flex","gap-3"],["src","/images/qr.png","alt","",2,"max-width","50%"],[1,"d-flex","flex-column"],["src","/images/appstore.png","alt","Download on the App Store",1,"mb-2",2,"max-width","68px"],["src","/images/googleplay.png","alt","Get it on Google Play",1,"mb-2",2,"max-width","68px"],["src","/images/appgallery.png","alt","Download on AppGallery",2,"max-width","68px"],[1,"text-center","text-muted","mt-4"]],template:function(i,o){i&1&&(f(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),y(5,"CUSTOMER SERVICE"),h(),f(6,"ul",5)(7,"li")(8,"a",6),y(9,"Help Centre"),h()(),f(10,"li")(11,"a",6),y(12,"How To Buy"),h()(),f(13,"li")(14,"a",6),y(15,"How To Sell"),h()(),f(16,"li")(17,"a",6),y(18,"Payment Methods"),h()(),f(19,"li")(20,"a",6),y(21,"Shopbee Coins"),h()(),f(22,"li")(23,"a",6),y(24,"Shopbee Guarantee"),h()(),f(25,"li")(26,"a",6),y(27,"Return & Refund"),h()(),f(28,"li")(29,"a",6),y(30,"Shopbee Mall Return & Refund"),h()(),f(31,"li")(32,"a",6),y(33,"Contact Us"),h()()()(),f(34,"div",3)(35,"h5",4),y(36,"ABOUT SHOPBEE"),h(),f(37,"ul",5)(38,"li")(39,"a",6),y(40,"About Us"),h()(),f(41,"li")(42,"a",6),y(43,"Shopbee Careers"),h()(),f(44,"li")(45,"a",6),y(46,"Shopbee Policies"),h()(),f(47,"li")(48,"a",6),y(49,"Privacy Policy"),h()(),f(50,"li")(51,"a",6),y(52,"Shopbee Blog"),h()(),f(53,"li")(54,"a",6),y(55,"Shopbee Mall"),h()(),f(56,"li")(57,"a",6),y(58,"Seller Centre"),h()(),f(59,"li")(60,"a",6),y(61,"Shopbee Seller Mentors"),h()(),f(62,"li")(63,"a",6),y(64,"Flash Deals"),h()(),f(65,"li")(66,"a",6),y(67,"Media Contact"),h()(),f(68,"li")(69,"a",6),y(70,"Shopbee Ambassador Programme"),h()()()(),f(71,"div",3)(72,"div",7)(73,"h5",4),y(74,"PAYMENT"),h(),f(75,"div",8),I(76,"img",9)(77,"img",10)(78,"img",11)(79,"img",12),h()(),f(80,"div")(81,"h5",4),y(82,"LOGISTICS"),h(),f(83,"div",8),I(84,"img",13)(85,"img",14)(86,"img",15)(87,"img",16),h()()(),f(88,"div",3)(89,"h5",4),y(90,"FOLLOW US"),h(),f(91,"ul",5)(92,"li")(93,"a",6),y(94,"Facebook"),h()(),f(95,"li")(96,"a",6),y(97,"Instagram"),h()(),f(98,"li")(99,"a",6),y(100,"LinkedIn"),h()()()(),f(101,"div",3)(102,"h5",4),y(103,"SHOPBEE APP DOWNLOAD"),h(),f(104,"div",17),I(105,"img",18),f(106,"div",19),I(107,"img",20)(108,"img",21)(109,"img",22),h()()()(),f(110,"div",23),y(111," \xA9 2024 Shopbee. All Rights Reserved. "),h()()())},styles:[".footer[_ngcontent-%COMP%]{background:var(--color-background)}.footer[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:var(--purple-9)!important}"]});let t=e;return t})();var Xo=(()=>{let e=class e{constructor(n){this.http=n,this.totalCartsSubject=new Lt(0),this.totalCarts$=this.totalCartsSubject.asObservable(),this.BASE_URL=Pe.CART_SERVICE_API,this.getCartCount()}getCartCount(){this.getCart({page:1,size:1}).subscribe(({totalItems:n})=>this.totalCartsSubject.next(n))}getCart(n){return this.http.get(`${this.BASE_URL}/carts`,{params:j({},n)})}addToCart(n){return this.http.post(`${this.BASE_URL}/carts/add`,n).pipe(yt(()=>this.getCartCount()))}removeCartItem(n){return this.http.delete(`${this.BASE_URL}/carts/${n}`).pipe(yt(()=>this.getCartCount()))}clearCart(){return this.http.delete(`${this.BASE_URL}/carts`).pipe(yt(()=>this.getCartCount()))}updateQuantity(n,i){return this.http.put(`${this.BASE_URL}/carts/${n}`,{quantity:i})}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var E6=()=>["/cart"];function I6(t,e){t&1&&(f(0,"li")(1,"a",21),I(2,"i",22),y(3),w(4,"translate"),h()()),t&2&&(m(3),A(" ",x(4,1,"ADMIN_CONSOLE")," "))}function M6(t,e){if(t&1){let r=ve();f(0,"div",10)(1,"a",12),I(2,"img",13),f(3,"span",14),y(4),h()(),f(5,"ul",15),Y(6,I6,5,3,"li"),f(7,"li")(8,"a",16),I(9,"i",17),y(10),w(11,"translate"),h()(),f(12,"li"),I(13,"hr",18),h(),f(14,"li")(15,"a",19),P("click",function(){U(r);let i=N();return $(i.authService.logout())}),I(16,"i",20),y(17),w(18,"translate"),h()()()()}if(t&2){let r=N();m(2),O("src",r.avatarUrl,Ut),m(2),k(r.authService.username),m(2),fe(r.authService.isAdmin?6:-1),m(4),A(" ",x(11,5,"PROFILE")," "),m(7),A(" ",x(18,7,"LOGOUT")," ")}}function D6(t,e){t&1&&(f(0,"button",11),I(1,"i",23),y(2),w(3,"translate"),h()),t&2&&(m(2),A("",x(3,1,"LOGIN")," "))}var XM=(()=>{let e=class e{constructor(n,i,o,s){this.authService=n,this.translate=i,this.cartService=o,this.userService=s,this.totalCarts=0,this.user=null,this.constant=Rt,this.translate.setDefaultLang("vi")}ngOnInit(){this.authService.isAuthenticated&&(this.cartService.totalCarts$.subscribe(n=>this.totalCarts=n),this.userService.getByUsername(this.authService.username).subscribe(n=>this.user=n))}get avatarUrl(){return this.user&&this.user.id?`${Pe.IMAGE_SERVICE_API}/images/avatar/users/${this.user.id}`:Rt.defaultAvatar}};e.\u0275fac=function(i){return new(i||e)(T(yn),T(ke),T(Xo),T(Oi))},e.\u0275cmp=ae({type:e,selectors:[["app-header"]],standalone:!0,features:[ge],decls:17,vars:10,consts:[[1,"navbar","py-3","px-3"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand","fs-4","fw-bold"],[1,"fs-1","bi","bi-bag"],["role","search",1,"position-relative"],["type","search","aria-label","Search",1,"bg-white","py-3","rounded-0","form-control","search-form"],["type","button",1,"position-absolute","top-50","end-0","translate-middle-y","btn","p-3","border-0","rounded-start-pill","search-btn"],[1,"bi","bi-search","me-2"],[1,"btn","rounded-pill","bg-transparent","border-0","fs-5","fw-bold","text-white",3,"routerLink"],[1,"fs-3","bi","bi-cart","me-2"],[1,"dropdown"],["routerLink","/login",1,"btn","text-white","fs-5","fw-bold","border-0"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"d-flex","align-items-center","text-decoration-none","text-white","fs-5","fw-bold","dropdown-toggle"],["alt","Avatar","width","32","height","32",1,"avatar","rounded-circle","me-2",3,"src"],[1,"username"],[1,"shadow","border-0","dropdown-menu","dropdown-menu-lg-end"],["routerLink","users",1,"dropdown-item"],[1,"bi","bi-person"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"bi","bi-box-arrow-right"],["routerLink","admin",1,"dropdown-item"],[1,"bi","bi-columns-gap"],[1,"bi","bi-box-arrow-in-right","me-2"]],template:function(i,o){i&1&&(f(0,"nav",0)(1,"div",1)(2,"a",2),I(3,"i",3),y(4," Shopbee "),h(),f(5,"form",4),I(6,"input",5),f(7,"button",6),I(8,"i",7),y(9),w(10,"translate"),h()(),f(11,"button",8),I(12,"i",9),y(13),w(14,"translate"),h(),Y(15,M6,19,9,"div",10)(16,D6,4,3,"button",11),h()()),i&2&&(m(9),A("",x(10,5,"SEARCH")," "),m(2),O("routerLink",cn(9,E6)),m(2),at("",x(14,7,"CART")," (",o.totalCarts,") "),m(2),fe(o.authService.isAuthenticated?15:16))},dependencies:[Be,Ie,Te],styles:[".navbar[_ngcontent-%COMP%]{background:linear-gradient(to bottom,var(--purple-8),var(--purple-9))}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:var(--purple-contrast)}.navbar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]{width:65dvw}.navbar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{background:var(--purple-contrast);transition:all .1s ease}.navbar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background:var(--purple-6)}.navbar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:active{background-color:var(--purple-9)}.navbar[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background:var(--purple-6)}.navbar[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus, .navbar[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active{background:var(--purple-9)}"]});let t=e;return t})();var eD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ae({type:e,selectors:[["app-landing"]],standalone:!0,features:[ge],decls:3,vars:0,template:function(i,o){i&1&&I(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Ks,XM,QM]});let t=e;return t})();var tD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ae({type:e,selectors:[["app-card-loader"]],standalone:!0,features:[ge],decls:13,vars:0,consts:[[1,"card"],[1,"skeleton","skeleton-img"],[1,"card-body"],[1,"skeleton","skeleton-text","skeleton-name"],[1,"price"],[1,"skeleton","skeleton-text","skeleton-small"],[1,"skeleton","skeleton-text","skeleton-price"],[1,"d-flex","skeleton-stars"],[1,"skeleton","skeleton-star"]],template:function(i,o){i&1&&(f(0,"div",0),I(1,"div",1),f(2,"div",2),I(3,"div",3),f(4,"div",4),I(5,"div",5)(6,"div",6),h(),f(7,"div",7),I(8,"div",8)(9,"div",8)(10,"div",8)(11,"div",8)(12,"div",8),h()()())},styles:[".card[_ngcontent-%COMP%]{border-color:var(--gray-3);overflow:hidden;transition:all .3s ease;height:24rem}@keyframes _ngcontent-%COMP%_loading{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}.skeleton[_ngcontent-%COMP%]{background:linear-gradient(90deg,#e0e0e0 25%,#f0f0f0,#e0e0e0 75%);background-size:200px 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}.skeleton-text[_ngcontent-%COMP%]{height:15px;margin-bottom:10px}.skeleton-title[_ngcontent-%COMP%]{height:25px;width:150px;margin-bottom:20px}.skeleton-name[_ngcontent-%COMP%]{width:80%;height:20px;margin-bottom:10px}.skeleton-price[_ngcontent-%COMP%]{width:60%;height:20px}.skeleton-small[_ngcontent-%COMP%]{width:50%;height:15px;margin-bottom:5px}.skeleton-img[_ngcontent-%COMP%]{width:100%;height:80px}.skeleton-stars[_ngcontent-%COMP%]{display:flex;gap:5px}.skeleton-star[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;background-color:#e0e0e0}.card-body[_ngcontent-%COMP%]{padding:10px}"]});let t=e;return t})();var k6=()=>[],T6=t=>["/may-tinh-xach-tay",t];function O6(t,e){t&1&&(f(0,"div",1),I(1,"app-card-loader"),h())}function A6(t,e){t&1&&Me(0,O6,2,0,"div",1,ze),t&2&&De(cn(0,k6).constructor(6))}function P6(t,e){if(t&1&&(f(0,"div",9),y(1),w(2,"translate"),w(3,"currency"),h()),t&2){let r=N().$implicit,n=N(2);m(),at(" ",x(2,2,"DISCOUNT")," ",$e(3,4,n.savedPrice(r),"VND")," ")}}function N6(t,e){t&1&&I(0,"i",11)}function R6(t,e){if(t&1&&(f(0,"div",1)(1,"div",2),I(2,"img",3),f(3,"div",4)(4,"a",5),y(5),h(),f(6,"div",6)(7,"div",7)(8,"del"),y(9),w(10,"currency"),h()(),f(11,"div",8),y(12),w(13,"currency"),h(),Y(14,P6,4,7,"div",9),h(),f(15,"div",10),Me(16,N6,1,0,"i",11,ze),h()()()()),t&2){let r=e.$implicit,n=N(2);m(2),O("src",n.heroImages.get(r.id),Ut)("alt",r.name),m(2),O("routerLink",un(14,T6,r.slug))("title",r.name),m(),A(" ",r.name," "),m(4),k($e(10,8,r.basePrice,"VND")),m(3),A(" ",$e(13,11,r.salePrice,"VND")," "),m(2),fe(n.savedPrice(r)?14:-1),m(2),De(n.Array(5))}}function F6(t,e){if(t&1&&Me(0,R6,18,16,"div",1,ze),t&2){let r=N();De(r.productResponse==null?null:r.productResponse.items)}}var Xf=(()=>{let e=class e{constructor(n,i,o){this.translate=n,this.productService=i,this.router=o,this.productResponse=null,this.heroImages=new Map,this.pageRequest={page:1,size:10},this.sort={sortBy:Nt.CREATED_AT,ascending:!1},this.loading=!1,this.environment=Pe,this.Array=Array,this.translate.setDefaultLang("vi")}ngOnInit(){this.fetchProducts(),this.router.events.subscribe(n=>{n instanceof Er&&window.scrollTo(0,0)})}fetchProducts(){this.loading=!0,this.productService.getBy(this.pageRequest,this.sort).subscribe({next:n=>{this.productResponse=n,this.fetchProductHeroImages(n),this.loading=!1},error:()=>this.loading=!1})}fetchProductHeroImages(n){n.items&&n.items.forEach(o=>{this.setDefaultHeroImageUrl(o),this.productService.getImagesById(o.id).subscribe(s=>{this.heroImages.set(o.id,Rt.defaultHeroImageUrl);let a=s.find(l=>l.featured);if(a){let l=this.createHeroUrl(a);this.heroImages.set(o.id,l)}})})}setDefaultHeroImageUrl(n){this.heroImages.set(n.id,Rt.defaultHeroImageUrl)}createHeroUrl(n){return`${Pe.IMAGE_SERVICE_API}/images/${n.imageId}`}savedPrice(n){let i=n.basePrice-n.salePrice;return i>0?i:null}};e.\u0275fac=function(i){return new(i||e)(T(ke),T(Ti),T(mt))},e.\u0275cmp=ae({type:e,selectors:[["app-product-list"]],standalone:!0,features:[ge],decls:3,vars:1,consts:[[1,"row","justify-content-center"],[1,"col-md-2","p-0","me-2","mt-2"],[1,"card"],["width","80",1,"product-hero","card-img-top",3,"src","alt"],[1,"card-body"],[1,"text-muted","fw-light","text-decoration-none","truncate-multiline",3,"routerLink","title"],[1,"price"],[1,"text-muted"],[1,"fs-5","fw-bold"],[1,"saved-price","fw-light"],[1,"rating","d-flex"],[1,"bi","bi-star-fill"]],template:function(i,o){i&1&&(f(0,"div",0),Y(1,A6,2,1)(2,F6,2,0),h()),i&2&&(m(),fe(o.loading?1:2))},dependencies:[Be,ur,Ie,Te,tD],styles:[".product-list[_ngcontent-%COMP%]{background:var(--gray-contrast)}.card[_ngcontent-%COMP%]{border-color:var(--gray-3);overflow:hidden;transition:all .3s ease;height:24rem}.card[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{font-size:.8rem;color:var(--purple-9)}.card[_ngcontent-%COMP%]   .saved-price[_ngcontent-%COMP%]{color:var(--purple-9)}.card[_ngcontent-%COMP%]:hover{border:1px solid var(--purple-9);box-shadow:0 .25rem .5rem .2rem var(--gray-3);transform:translateY(-5%)}.card[_ngcontent-%COMP%]:hover   .product-hero[_ngcontent-%COMP%]{transition:all .3s ease-in-out;transform:scale(1.05)}.truncate-multiline[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:1;line-height:1.5em;max-height:1.5em}"]});let t=e;return t})();var nD=(()=>{let e=class e{constructor(n){this.http=n,this.BASE_URL=Pe.REVIEW_SERVICE_API}getByCriteria(n,i,o){return this.http.get(`${this.BASE_URL}/reviews`,{params:j(j(j({},n),i),o)})}getReviewStatistic(n){return this.http.get(`${this.BASE_URL}/reviews/statistic`,{params:{productSlug:n}})}createReview(n){return this.http.post(`${this.BASE_URL}/reviews`,n)}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var V6=(t,e)=>e.id,eh=()=>[1,2,3,4,5];function B6(t,e){if(t&1){let r=ve();f(0,"img",49),P("mouseover",function(){let i=U(r).$index,o=N();return $(o.onHoverThumbnail(i))}),h()}if(t&2){let r=e.$implicit;O("src",r,Ut)}}function j6(t,e){if(t&1&&I(0,"i",50),t&2){let r=e.$implicit,n=N();pe("bi-star-fill",r<=((n.reviewStatistic==null?null:n.reviewStatistic.averageRating)||0))("bi-star-half",r>((n.reviewStatistic==null?null:n.reviewStatistic.averageRating)||0)&&r-.5<=((n.reviewStatistic==null?null:n.reviewStatistic.averageRating)||0))("bi-star",r>((n.reviewStatistic==null?null:n.reviewStatistic.averageRating)||0)+.5)}}function U6(t,e){if(t&1){let r=ve();I(0,"div",51),w(1,"slice"),f(2,"div",52)(3,"button",53),P("click",function(){U(r);let i=N();return $(i.toggleShowFullDescription())}),y(4),h()()}if(t&2){let r=N();O("innerHTML",r.showFullDescription?r.product==null?null:r.product.description:OS(1,2,r.product==null?null:r.product.description,0,500)+"...",Fo),m(4),A(" ",r.showFullDescription?"LESS":"MORE"," ")}}function $6(t,e){t&1&&(f(0,"div",42)(1,"span"),y(2,"Ch\u01B0a c\xF3 b\xECnh lu\u1EADn n\xE0o"),h()())}function H6(t,e){if(t&1&&I(0,"i",50),t&2){let r=e.$implicit,n=N(2);pe("bi-star-fill",r<=((n.reviewStatistic==null?null:n.reviewStatistic.averageRating)||0))("bi-star-half",r>((n.reviewStatistic==null?null:n.reviewStatistic.averageRating)||0)&&r-.5<=((n.reviewStatistic==null?null:n.reviewStatistic.averageRating)||0))("bi-star",r>((n.reviewStatistic==null?null:n.reviewStatistic.averageRating)||0)+.5)}}function z6(t,e){t&1&&I(0,"div",66)}function q6(t,e){t&1&&(f(0,"div",61),I(1,"div",62),f(2,"div",63),I(3,"div",64),f(4,"div",65),Me(5,z6,1,0,"div",66,ze),h(),I(7,"div",67)(8,"div",68)(9,"div",69),h()()),t&2&&(m(5),De(cn(0,eh)))}function G6(t,e){if(t&1&&Me(0,q6,10,1,"div",61,ze),t&2){let r=N(2);De(r.Array(10))}}function W6(t,e){if(t&1&&I(0,"i",50),t&2){let r=e.$implicit,n=N().$implicit;pe("bi-star-fill",r<=n.rating)("bi-star",r>n.rating)}}function K6(t,e){if(t&1&&(f(0,"div",70)(1,"div",72),I(2,"img",73),h(),f(3,"div",74)(4,"div",75)(5,"div",76),y(6),h(),f(7,"span",77),y(8),w(9,"date"),h()(),f(10,"div",78),Me(11,W6,1,4,"i",79,ze),h(),f(13,"div",80),y(14),h(),f(15,"div",81)(16,"button",82),I(17,"i",83),f(18,"span"),y(19),h()()()()()),t&2){let r=e.$implicit;m(6),k(r.username),m(2),k($e(9,4,r.createdAt,"HH:mm dd/MM/yyyy")),m(3),De(cn(7,eh)),m(3),k(r.text),m(5),k(r.helpfulCount)}}function Z6(t,e){if(t&1){let r=ve();f(0,"div",71)(1,"button",84),P("click",function(){U(r);let i=N(3);return $(i.loadMoreReviews())}),y(2),w(3,"translate"),h()()}t&2&&(m(2),A(" ",x(3,1,"MORE")," "))}function Y6(t,e){if(t&1&&(Me(0,K6,20,8,"div",70,V6),Y(2,Z6,4,3,"div",71)),t&2){let r=N(2);De(r.reviews),m(2),fe(r.reviewResponse!=null&&r.reviewResponse.hasNext?2:-1)}}function J6(t,e){if(t&1){let r=ve();f(0,"div",42)(1,"div",54)(2,"div",55)(3,"div"),y(4),h(),f(5,"div",56),Me(6,H6,1,6,"i",17,ze),h()(),f(8,"div",57)(9,"button",58),P("click",function(){U(r);let i=N();return $(i.onRating())}),y(10),w(11,"translate"),h(),f(12,"button",58),P("click",function(){U(r);let i=N();return $(i.onRating(5))}),y(13),w(14,"translate"),h(),f(15,"button",58),P("click",function(){U(r);let i=N();return $(i.onRating(4))}),y(16),w(17,"translate"),h(),f(18,"button",58),P("click",function(){U(r);let i=N();return $(i.onRating(3))}),y(19),w(20,"translate"),h(),f(21,"button",58),P("click",function(){U(r);let i=N();return $(i.onRating(2))}),y(22),w(23,"translate"),h(),f(24,"button",58),P("click",function(){U(r);let i=N();return $(i.onRating(1))}),y(25),w(26,"translate"),h(),f(27,"button",58),P("click",function(){U(r);let i=N();return $(i.onAscending(!1))}),y(28),w(29,"translate"),h(),f(30,"button",58),P("click",function(){U(r);let i=N();return $(i.onAscending(!0))}),y(31),w(32,"translate"),h()()(),f(33,"div",59)(34,"div",60),Y(35,G6,2,0)(36,Y6,3,1),h()()()}if(t&2){let r=N();m(4),A("",(r.reviewStatistic==null?null:r.reviewStatistic.averageRating)||0," / 5"),m(2),De(cn(47,eh)),m(3),pe("active",!(r.filter!=null&&r.filter.rating)),m(),A("",x(11,31,"ALL")," "),m(2),pe("active",(r.filter==null?null:r.filter.rating)===5),m(),at(" 5 ",x(14,33,"STAR")," (",r.reviewStatistic==null?null:r.reviewStatistic.totalFiveStars,") "),m(2),pe("active",(r.filter==null?null:r.filter.rating)===4),m(),at(" 4 ",x(17,35,"STAR")," (",r.reviewStatistic==null?null:r.reviewStatistic.totalFourStars,") "),m(2),pe("active",(r.filter==null?null:r.filter.rating)===3),m(),at(" 3 ",x(20,37,"STAR")," (",r.reviewStatistic==null?null:r.reviewStatistic.totalThreeStars,") "),m(2),pe("active",(r.filter==null?null:r.filter.rating)===2),m(),at(" 2 ",x(23,39,"STAR")," (",r.reviewStatistic==null?null:r.reviewStatistic.totalTwoStars,") "),m(2),pe("active",(r.filter==null?null:r.filter.rating)===1),m(),at(" 1 ",x(26,41,"STAR")," (",r.reviewStatistic==null?null:r.reviewStatistic.totalOneStars,") "),m(2),pe("active",!r.sort.ascending),m(),A("",x(29,43,"LATEST")," "),m(2),pe("active",r.sort.ascending),m(),A("",x(32,45,"OLDEST")," "),m(4),fe(r.loading?35:36)}}var rD=(()=>{let e=class e{constructor(n,i,o,s,a,l,c,u){this.translateService=n,this.productService=i,this.route=o,this.router=s,this.reviewService=a,this.cartService=l,this.alertService=c,this.authService=u,this.quantity=1,this.productSlug=null,this.product=null,this.reviewResponse=null,this.reviews=[],this.reviewStatistic=null,this.imageUrls=[],this.heroUrl=Rt.defaultHeroImageUrl,this.showFullDescription=!1,this.pageRequest={page:1,size:10},this.sort={sortBy:Nt.CREATED_AT,ascending:!1},this.loading=!1,this.constant=Rt,this.Array=Array,this.translateService.setDefaultLang("vi")}ngOnInit(){this.route.params.subscribe(n=>{this.productSlug=n.slug,this.productSlug&&(this.loadProductDetails(this.productSlug),this.filter={productSlug:this.productSlug},this.fetchReviews(),this.fetchReviewStatistic())})}loadProductDetails(n){this.productService.getBySlug(n).subscribe(i=>{this.product=i,this.loadProductImages(i.id)})}loadProductImages(n){this.productService.getImagesById(n).subscribe(i=>{let o=i.find(s=>s.featured);this.heroUrl=o?this.createImageUrl(o.imageId):Rt.defaultHeroImageUrl,this.imageUrls=i.map(s=>this.createImageUrl(s.imageId))})}onHoverThumbnail(n){this.heroUrl=this.imageUrls[n]}increaseQuantity(){this.product&&this.quantity<this.product?.stockQuantity&&this.quantity++}decreaseQuantity(){this.quantity>0&&this.quantity--}validateQuantity(){if(isNaN(this.quantity)){this.quantity=0;return}if(this.quantity=Math.ceil(this.quantity),this.quantity<0){this.quantity=0;return}this.product&&this.quantity>this.product?.stockQuantity&&(this.quantity=this.product.stockQuantity)}addToCart(n,i){if(!this.authService.isAuthenticated){this.alertService.showErrorToast("You must login first");return}if(!this.validQuantity(n)){this.alertService.showErrorToast("Quantity must be greater than 0");return}if(i){let o={productSlug:i,quantity:n};this.cartService.addToCart(o).subscribe({next:s=>this.alertService.showSuccessToast("Added to cart"),error:()=>this.alertService.showErrorToast("Error while adding to cart")})}}onClickBuyNow(){if(!this.authService.isAuthenticated){this.alertService.showErrorToast("You must login first");return}if(!this.validQuantity(this.quantity)){this.alertService.showErrorToast("Quantity must be greater than 0");return}if(this.productSlug){let n={productSlug:this.productSlug,quantity:this.quantity};this.cartService.addToCart(n).subscribe({next:i=>{this.router.navigate(["/cart"])},error:()=>this.alertService.showErrorToast("Error while adding to cart")})}}validQuantity(n){return n>0}get discount(){return this.product?Math.round((1-this.product?.salePrice/this.product?.basePrice)*100):0}toggleShowFullDescription(){this.showFullDescription=!this.showFullDescription}createImageUrl(n){return`${Pe.IMAGE_SERVICE_API}/images/${n}`}onRating(n){this.filter&&(this.filter.rating=n,this.reviews=[],this.fetchReviews())}onAscending(n){this.sort.ascending=n,this.fetchReviews()}fetchReviews(){if(!this.filter?.productSlug)return;let n=this.cleanFilter(this.filter);this.loading=!0,this.reviewService.getByCriteria(n,this.pageRequest,this.sort).subscribe({next:i=>{this.reviewResponse=i,this.reviews=[...this.reviews,...i.items],this.loading=!1},error:()=>this.loading=!1})}fetchReviewStatistic(){this.productSlug&&(this.loading=!0,this.reviewService.getReviewStatistic(this.productSlug).subscribe({next:n=>{this.reviewStatistic=n,this.loading=!1},error:()=>this.loading=!1}))}cleanFilter(n){return Object.fromEntries(Object.entries(n).filter(([i,o])=>o!==void 0))}loadMoreReviews(){this.reviewResponse?.hasNext&&(this.pageRequest.page++,this.fetchReviews())}};e.\u0275fac=function(i){return new(i||e)(T(ke),T(Ti),T(mn),T(mt),T(nD),T(Xo),T(lt),T(yn))},e.\u0275cmp=ae({type:e,selectors:[["app-product-details"]],standalone:!0,features:[ge],decls:199,vars:98,consts:[[1,"container"],[1,"row","mt-3","py-3","bg-white"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href",""],["aria-current","page",1,"breadcrumb-item"],[1,"row","py-3","mt-3","bg-white"],[1,"col-md-4"],["priority","","width","450","height","450","alt","product-hero",1,"figure-img","img-fluid","rounded","border","border-1","p-2",3,"ngSrc"],[1,"d-flex","gap-2","overflow-auto"],["width","82","height","82","alt","product-thumbnails",1,"product-thumbnail","rounded","border","border-1",3,"src"],[1,"col-md-8"],[1,"fw-lighter"],[1,"d-flex","gap-3"],[1,"rating"],[1,"fs-5","me-1"],[1,"bi",3,"bi-star-fill","bi-star-half","bi-star"],[1,"border-end"],[1,"sold"],[1,"fs-5"],[1,"price","d-flex","align-items-center","gap-3","p-3","mt-2"],[1,"sale-price","fs-4"],[1,"fs-2","fw-bold"],[1,"discount-percentage","badge"],[1,"row","mt-3","p-3"],[1,"col-md-3"],["for","quantity",1,"text-muted"],[1,"col-md-9","d-flex","gap-1","align-items-center"],[1,"btn","quantity-input-btn",3,"click","disabled"],[1,"bi","bi-dash-lg"],["id","quantity","type","number","value","1",1,"form-control","text-center",3,"ngModelChange","change","min","max","ngModel"],[1,"bi","bi-plus-lg"],[1,"text-muted"],[1,"d-flex","align-items-center","mt-auto"],[1,"add-to-cart-btn","btn","btn-lg","me-3","rounded-0",3,"click"],[1,"bi","bi-cart-plus","me-2"],[1,"fs-6"],[1,"buy-now-btn","btn","btn-lg","rounded-0",3,"click"],[1,"bi","bi-bag-check","me-2"],[1,"product-detail-title","col","mx-3","p-3"],[1,"fs-3","fw-lighter"],[1,"col-12","mx-3","mt-3","text-muted"],[1,"row"],[1,"row","mb-3"],[1,"col-2"],[1,"col"],[1,"breadcrumb","m-0"],["routerLink","/"],["width","82","height","82","alt","product-thumbnails",1,"product-thumbnail","rounded","border","border-1",3,"mouseover","src"],[1,"bi"],[3,"innerHTML"],[1,"text-center","mt-2"],[1,"btn","read-more-btn",3,"click"],[1,"rating","d-flex","gap-3","p-3"],[1,"text-center","fs-4"],[1,"star-rating"],[1,"d-flex","align-items-center","justify-content-around","gap-3"],[1,"review-filter-btn","btn","rounded-0",3,"click"],[1,"reviews-container"],[1,"reviews"],[1,"review-item-skeleton","d-flex","gap-3","align-items-start","mb-4"],[1,"skeleton-avatar"],[1,"skeleton-details","flex-grow-1"],[1,"skeleton-text","skeleton-username"],[1,"skeleton-stars"],[1,"skeleton-star"],[1,"skeleton-text","skeleton-date"],[1,"skeleton-text","skeleton-review"],[1,"skeleton-helpful"],[1,"review-item","d-flex","gap-3","align-items-start","mb-4"],[1,"text-center","mt-3"],[1,"avatar-container"],["src","https://placehold.co/80x80","alt","user-avatar","width","48","height","48",1,"user-avatar","rounded-circle"],[1,"review-details","flex-grow-1"],[1,"review-header","d-flex","flex-column"],[1,"username","fs-5","fw-bold"],[1,"text-muted","fs-6"],[1,"rating","fs-6"],[1,"bi",3,"bi-star-fill","bi-star"],[1,"review-text","mb-3"],[1,"helpful"],[1,"helpful-btn","border-0","bg-transparent","p-0"],[1,"bi","bi-hand-thumbs-up","me-2"],[1,"btn","load-more-review-btn",3,"click"]],template:function(i,o){i&1&&(f(0,"main",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),y(6,"Shopbee"),h()(),f(7,"li",4)(8,"a",5),y(9),w(10,"translate"),h()(),f(11,"li",6),y(12),h()()()(),f(13,"div",7)(14,"div",8),I(15,"img",9),f(16,"div",10),Me(17,B6,1,1,"img",11,ze),h()(),f(19,"div",12)(20,"h3",13),y(21),h(),f(22,"div",14)(23,"div",15)(24,"span",16),y(25),h(),f(26,"span"),Me(27,j6,1,6,"i",17,ze),h()(),I(29,"div",18),f(30,"div",19)(31,"span",20),y(32),w(33,"translate"),h()()(),f(34,"div",21)(35,"span",22)(36,"del"),y(37),w(38,"currency"),h()(),f(39,"span",23),y(40),w(41,"currency"),h(),f(42,"span",24),y(43),w(44,"translate"),h()(),f(45,"div",25)(46,"div",26)(47,"label",27),y(48),w(49,"translate"),h()(),f(50,"div",28)(51,"button",29),P("click",function(){return o.decreaseQuantity()}),I(52,"i",30),h(),f(53,"div")(54,"input",31),Hs("ngModelChange",function(a){return dl(o.quantity,a)||(o.quantity=a),a}),P("change",function(){return o.validateQuantity()}),h()(),f(55,"button",29),P("click",function(){return o.increaseQuantity()}),I(56,"i",32),h(),f(57,"span",33),y(58),w(59,"translate"),h()()(),f(60,"div",34)(61,"button",35),P("click",function(){return o.addToCart(o.quantity,o.productSlug)}),I(62,"i",36),f(63,"span",37),y(64),w(65,"translate"),h()(),f(66,"button",38),P("click",function(){return o.onClickBuyNow()}),I(67,"i",39),f(68,"span",37),y(69),w(70,"translate"),h()()()()(),f(71,"div",7)(72,"div",40)(73,"span",41),y(74),w(75,"translate"),h()(),f(76,"div",42)(77,"div",43)(78,"div",44)(79,"div",45)(80,"span"),y(81),w(82,"translate"),h()(),f(83,"div",46)(84,"nav",2)(85,"ol",47)(86,"li",4)(87,"a",48),y(88,"Shopbee"),h()(),f(89,"li",4)(90,"a",48),y(91,"Laptop"),h()(),f(92,"li",4),y(93),h()()()()(),f(94,"div",44)(95,"div",45)(96,"span"),y(97),w(98,"translate"),h()(),f(99,"div",46)(100,"span"),y(101),h()()(),f(102,"div",44)(103,"div",45)(104,"span"),y(105),w(106,"translate"),h()(),f(107,"div",46)(108,"span"),y(109),h()()(),f(110,"div",44)(111,"div",45)(112,"span"),y(113),w(114,"translate"),h()(),f(115,"div",46)(116,"span"),y(117),h()()(),f(118,"div",44)(119,"div",45)(120,"span"),y(121),w(122,"translate"),h()(),f(123,"div",46)(124,"span"),y(125),h()()(),f(126,"div",44)(127,"div",45)(128,"span"),y(129),w(130,"translate"),h()(),f(131,"div",46)(132,"span"),y(133),h()()(),f(134,"div",44)(135,"div",45)(136,"span"),y(137,"CPU"),h()(),f(138,"div",46)(139,"span"),y(140),h()()(),f(141,"div",44)(142,"div",45)(143,"span"),y(144,"RAM"),h()(),f(145,"div",46)(146,"span"),y(147),h()()(),f(148,"div",44)(149,"div",45)(150,"span"),y(151),w(152,"translate"),h()(),f(153,"div",46)(154,"span"),y(155),h()()(),f(156,"div",44)(157,"div",45)(158,"span"),y(159),w(160,"translate"),h()(),f(161,"div",46)(162,"span"),y(163),h()()(),f(164,"div",44)(165,"div",45)(166,"span"),y(167),w(168,"translate"),h()(),f(169,"div",46)(170,"span"),y(171),h()()(),f(172,"div",44)(173,"div",45)(174,"span"),y(175),w(176,"translate"),h()(),f(177,"div",46)(178,"span"),y(179),h()()()()(),f(180,"div",40)(181,"span",41),y(182),w(183,"translate"),h()(),f(184,"div",42),Y(185,U6,5,6),h()(),f(186,"div",7)(187,"div",40)(188,"span",41),y(189),w(190,"translate"),h()(),Y(191,$6,3,0,"div",42)(192,J6,37,48,"div",42),h(),f(193,"div",7)(194,"div",40)(195,"span",41),y(196),w(197,"translate"),h()(),I(198,"app-product-list"),h()()),i&2&&(m(9),k(x(10,49,"LAPTOP")),m(3),k(o.product==null||o.product.category==null?null:o.product.category.name),m(3),O("ngSrc",o.heroUrl),m(2),De(o.imageUrls),m(4),A(" ",o.product==null?null:o.product.name," "),m(4),k((o.reviewStatistic==null?null:o.reviewStatistic.averageRating)||0),m(2),De(cn(97,eh)),m(5),A("1k+ ",x(33,51,"SOLD"),""),m(5),k($e(38,53,o.product==null?null:o.product.basePrice,"VND")),m(3),k($e(41,56,o.product==null?null:o.product.salePrice,"VND")),m(3),at("",o.discount,"% ",x(44,59,"DISCOUNT"),""),m(5),k(x(49,61,"QUANTITY")),m(3),O("disabled",o.quantity<=0),m(3),O("min",0)("max",(o.product==null?null:o.product.stockQuantity)||0),$s("ngModel",o.quantity),m(),O("disabled",o.quantity>=o.product.stockQuantity),m(3),at("",o.product==null?null:o.product.stockQuantity," ",x(59,63,"AVAILABLE"),""),m(6),k(x(65,65,"ADD_TO_CART")),m(5),k(x(70,67,"BUY_NOW")),m(5),k(x(75,69,"PRODUCT_DETAILS")),m(7),k(x(82,71,"CATEGORY")),m(12),k(o.product==null||o.product.category==null?null:o.product.category.name),m(4),k(x(98,73,"BRAND")),m(4),k(o.product==null||o.product.model==null||o.product.model.brand==null?null:o.product.model.brand.name),m(4),k(x(106,75,"MODEL")),m(4),k(o.product==null||o.product.model==null?null:o.product.model.name),m(4),k(x(114,77,"STOCK")),m(4),k(o.product==null?null:o.product.stockQuantity),m(4),k(x(122,79,"COLOR")),m(4),k(o.product==null?null:o.product.color),m(4),k(x(130,81,"STORAGE")),m(4),at("",o.product==null?null:o.product.storageType," ",o.product==null?null:o.product.storageCapacity," GB"),m(7),k(o.product==null?null:o.product.processor),m(7),A("",o.product==null?null:o.product.ram,"GB"),m(4),k(x(152,83,"Monitor")),m(4),k(o.product==null?null:o.product.screenSize),m(4),k(x(160,85,"OS")),m(4),k(o.product==null?null:o.product.os),m(4),k(x(168,87,"WEIGHT")),m(4),A("",o.product==null?null:o.product.weight,"Kg"),m(4),k(x(176,89,"CAPACITY")),m(4),A("",o.product==null?null:o.product.batteryCapacity,"Wh"),m(3),k(x(183,91,"DESCRIPTION")),m(3),fe(o.product!=null&&o.product.description?185:-1),m(4),k(x(190,93,"REVIEWS")),m(2),fe(o.reviewResponse!=null&&o.reviewResponse.items?192:191),m(5),k(x(197,95,"YOU_MAY_ALSO_LIKE")))},dependencies:[Xf,ur,vE,Ie,Te,fr,Ot,ra,At,$y,Uy,na,hE,hn,Be],styles:[".text-purple[_ngcontent-%COMP%]{color:var(--purple-9)}.bg-purple-light[_ngcontent-%COMP%]{background:var(--purple-3)}.bg-purple-main[_ngcontent-%COMP%]{background:var(--purple-9)}.border-purple[_ngcontent-%COMP%], .quantity-input-btn[_ngcontent-%COMP%], .add-to-cart-btn.buy-now-btn[_ngcontent-%COMP%]:active, .buy-now-btn.buy-now-btn[_ngcontent-%COMP%]:active, .add-to-cart-btn.add-to-cart-btn[_ngcontent-%COMP%], .buy-now-btn.add-to-cart-btn[_ngcontent-%COMP%]{border:1px solid var(--purple-9)}.border-gray[_ngcontent-%COMP%], .reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}.product-thumbnail[_ngcontent-%COMP%]:hover{border-color:var(--purple-9)!important}a[_ngcontent-%COMP%], .rating[_ngcontent-%COMP%], .breadcrumb[_ngcontent-%COMP%]{color:var(--purple-9)}.discount-percentage[_ngcontent-%COMP%]{background:var(--purple-9)}.price[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--gray-1)}.price[_ngcontent-%COMP%]   .sale-price[_ngcontent-%COMP%]{color:var(--gray-9)}.add-to-cart-btn[_ngcontent-%COMP%], .buy-now-btn[_ngcontent-%COMP%]{color:var(--purple-contrast);transition:background .3s ease,color .3s ease}.add-to-cart-btn.add-to-cart-btn[_ngcontent-%COMP%], .buy-now-btn.add-to-cart-btn[_ngcontent-%COMP%]{color:var(--purple-9)}.add-to-cart-btn.add-to-cart-btn[_ngcontent-%COMP%]:hover, .buy-now-btn.add-to-cart-btn[_ngcontent-%COMP%]:hover{background:var(--purple-3)}.add-to-cart-btn.add-to-cart-btn[_ngcontent-%COMP%]:active, .buy-now-btn.add-to-cart-btn[_ngcontent-%COMP%]:active, .add-to-cart-btn.buy-now-btn[_ngcontent-%COMP%], .buy-now-btn.buy-now-btn[_ngcontent-%COMP%]{background:var(--purple-9)}.add-to-cart-btn.buy-now-btn[_ngcontent-%COMP%]:hover, .buy-now-btn.buy-now-btn[_ngcontent-%COMP%]:hover, .add-to-cart-btn.buy-now-btn[_ngcontent-%COMP%]:active, .buy-now-btn.buy-now-btn[_ngcontent-%COMP%]:active{background:var(--purple-10)}.product-detail-title[_ngcontent-%COMP%], .review-filter-btn[_ngcontent-%COMP%], .read-more-btn[_ngcontent-%COMP%], .load-more-review-btn[_ngcontent-%COMP%]{background:var(--gray-1)}.product-detail-title.review-filter-btn[_ngcontent-%COMP%], .review-filter-btn.review-filter-btn[_ngcontent-%COMP%], .read-more-btn.review-filter-btn[_ngcontent-%COMP%], .load-more-review-btn.review-filter-btn[_ngcontent-%COMP%]{transition:background .3s ease}.product-detail-title.review-filter-btn[_ngcontent-%COMP%]:hover, .review-filter-btn.review-filter-btn[_ngcontent-%COMP%]:hover, .read-more-btn.review-filter-btn[_ngcontent-%COMP%]:hover, .load-more-review-btn.review-filter-btn[_ngcontent-%COMP%]:hover{background:var(--purple-3)}.product-detail-title.review-filter-btn[_ngcontent-%COMP%]:active, .review-filter-btn.review-filter-btn[_ngcontent-%COMP%]:active, .read-more-btn.review-filter-btn[_ngcontent-%COMP%]:active, .load-more-review-btn.review-filter-btn[_ngcontent-%COMP%]:active{border-color:var(--purple-9)}.product-detail-title.load-more-review-btn[_ngcontent-%COMP%], .review-filter-btn.load-more-review-btn[_ngcontent-%COMP%], .read-more-btn.load-more-review-btn[_ngcontent-%COMP%], .load-more-review-btn.load-more-review-btn[_ngcontent-%COMP%]{color:var(--purple-9)}.product-detail-title.load-more-review-btn[_ngcontent-%COMP%]:hover, .review-filter-btn.load-more-review-btn[_ngcontent-%COMP%]:hover, .read-more-btn.load-more-review-btn[_ngcontent-%COMP%]:hover, .load-more-review-btn.load-more-review-btn[_ngcontent-%COMP%]:hover{border-color:var(--purple-9)}.product-detail-title.load-more-review-btn[_ngcontent-%COMP%]:active, .review-filter-btn.load-more-review-btn[_ngcontent-%COMP%]:active, .read-more-btn.load-more-review-btn[_ngcontent-%COMP%]:active, .load-more-review-btn.load-more-review-btn[_ngcontent-%COMP%]:active{background:var(--purple-6)}.quantity-input-btn[_ngcontent-%COMP%]{color:var(--purple-9)}.quantity-input-btn[_ngcontent-%COMP%]:disabled{background:var(--purple-3);border-color:var(--gray-1)}.reviews-container[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;padding-right:10px}.reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]{padding:1rem}.reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]{flex-shrink:0}.reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;object-fit:cover}.reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-details[_ngcontent-%COMP%]{flex-grow:1}.reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-details[_ngcontent-%COMP%]   .review-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-details[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{color:var(--purple-9)}.reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-details[_ngcontent-%COMP%]   .review-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.5}.reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-details[_ngcontent-%COMP%]   .helpful[_ngcontent-%COMP%]{margin-top:.5rem}.reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-details[_ngcontent-%COMP%]   .helpful[_ngcontent-%COMP%]   .helpful-btn[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s}.reviews-container[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]   .review-details[_ngcontent-%COMP%]   .helpful[_ngcontent-%COMP%]   .helpful-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.25rem}.review-item-skeleton[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start}.review-item-skeleton[_ngcontent-%COMP%]   .skeleton-avatar[_ngcontent-%COMP%], .review-item-skeleton[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%], .review-item-skeleton[_ngcontent-%COMP%]   .skeleton-star[_ngcontent-%COMP%], .review-item-skeleton[_ngcontent-%COMP%]   .skeleton-helpful[_ngcontent-%COMP%]{background-color:#e0e0e0;animation:_ngcontent-%COMP%_pulse 1.5s infinite;border-radius:4px}.review-item-skeleton[_ngcontent-%COMP%]   .skeleton-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%}.review-item-skeleton[_ngcontent-%COMP%]   .skeleton-details[_ngcontent-%COMP%]{flex-grow:1}.review-item-skeleton[_ngcontent-%COMP%]   .skeleton-details[_ngcontent-%COMP%]   .skeleton-text[_ngcontent-%COMP%]{height:12px;margin-bottom:8px}.review-item-skeleton[_ngcontent-%COMP%]   .skeleton-details[_ngcontent-%COMP%]   .skeleton-text.skeleton-username[_ngcontent-%COMP%]{width:30%;height:16px}.review-item-skeleton[_ngcontent-%COMP%]   .skeleton-details[_ngcontent-%COMP%]   .skeleton-text.skeleton-date[_ngcontent-%COMP%]{width:50%;margin-top:4px}.review-item-skeleton[_ngcontent-%COMP%]   .skeleton-details[_ngcontent-%COMP%]   .skeleton-text.skeleton-review[_ngcontent-%COMP%]{width:100%;height:12px;margin-top:8px}.review-item-skeleton[_ngcontent-%COMP%]   .skeleton-details[_ngcontent-%COMP%]   .skeleton-stars[_ngcontent-%COMP%]{display:flex;gap:4px}.review-item-skeleton[_ngcontent-%COMP%]   .skeleton-details[_ngcontent-%COMP%]   .skeleton-stars[_ngcontent-%COMP%]   .skeleton-star[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%}.review-item-skeleton[_ngcontent-%COMP%]   .skeleton-details[_ngcontent-%COMP%]   .skeleton-helpful[_ngcontent-%COMP%]{width:60px;height:12px;margin-top:8px}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}"]});let t=e;return t})();var th=new le("ngx-mask config"),iD=new le("new ngx-mask config"),oD=new le("initial ngx-mask config"),Q6={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:!1,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,apm:!1,leadZero:!1,keepCharacterPositions:!1,triggerOnMaskChange:!1,inputTransformFn:t=>t,outputTransformFn:t=>t,maskFilled:new Ae,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},X6=["Hh:m0:s0","Hh:m0","m0:s0"],eU=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"],tU=(()=>{let e=class e{constructor(){this._config=H(th),this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.hiddenInput=this._config.hiddenInput,this.clearIfNotMatch=this._config.clearIfNotMatch,this.specialCharacters=this._config.specialCharacters,this.patterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime,this.leadZero=this._config.leadZero,this.apm=this._config.apm,this.inputTransformFn=this._config.inputTransformFn,this.outputTransformFn=this._config.outputTransformFn,this.keepCharacterPositions=this._config.keepCharacterPositions,this._shift=new Set,this.plusOnePosition=!1,this.maskExpression="",this.actualValue="",this.showKeepCharacterExp="",this.shownMaskExpression="",this.deletedSpecialCharacter=!1,this._formatWithSeparators=(n,i,o,s)=>{let a=[],l="";if(Array.isArray(o)){let C=new RegExp(o.map(_=>"[\\^$.|?*+()".indexOf(_)>=0?`\\${_}`:_).join("|"));a=n.split(C),l=n.match(C)?.[0]??""}else a=n.split(o),l=o;let c=a.length>1?`${l}${a[1]}`:"",u=a[0]??"",d=this.separatorLimit.replace(/\s/g,"");d&&+d&&(u[0]==="-"?u=`-${u.slice(1,u.length).slice(0,d.length)}`:u=u.slice(0,d.length));let v=/(\d+)(\d{3})/;for(;i&&v.test(u);)u=u.replace(v,"$1"+i+"$2");return typeof s>"u"?u+c:s===0?u:u+c.substring(0,s+1)},this.percentage=n=>{let i=n.replace(",","."),o=Number(this.allowNegativeNumbers&&n.includes("-")?i.slice(1,n.length):i);return!isNaN(o)&&o>=0&&o<=100},this.getPrecision=n=>{let i=n.split(".");return i.length>1?Number(i[i.length-1]):1/0},this.checkAndRemoveSuffix=n=>{for(let i=this.suffix?.length-1;i>=0;i--){let o=this.suffix.substring(i,this.suffix?.length);if(n.includes(o)&&i!==this.suffix?.length-1&&(i-1<0||!n.includes(this.suffix.substring(i-1,this.suffix?.length))))return n.replace(o,"")}return n},this.checkInputPrecision=(n,i,o)=>{let s=n,a=o;if(i<1/0){if(Array.isArray(a)){let d=a.find(v=>v!==this.thousandSeparator);a=d||a[0]}let l=new RegExp(this._charToRegExpExpression(a)+`\\d{${i}}.*$`),c=s.match(l),u=(c&&c[0]?.length)??0;if(u-1>i){let d=u-1-i;s=s.substring(0,s.length-d)}i===0&&this._compareOrIncludes(s[s.length-1],a,this.thousandSeparator)&&(s=s.substring(0,s.length-1))}return s}}applyMaskWithPattern(n,i){let[o,s]=i;return this.customPattern=s,this.applyMask(n,o)}applyMask(n,i,o=0,s=!1,a=!1,l=()=>{}){if(!i||typeof n!="string")return"";let c=0,u="",d=!1,v=!1,C=1,_=!1,S=n,M=o;S.slice(0,this.prefix.length)===this.prefix&&(S=S.slice(this.prefix.length,S.length)),this.suffix&&S.length>0&&(S=this.checkAndRemoveSuffix(S)),S==="("&&this.prefix&&(S="");let L=S.toString().split("");if(this.allowNegativeNumbers&&S.slice(c,c+1)==="-"&&(u+=S.slice(c,c+1)),i==="IP"){let Q=S.split(".");this.ipError=this._validIP(Q),i="099.099.099.099"}let re=[];for(let Q=0;Q<S.length;Q++)S[Q]?.match("\\d")&&re.push(S[Q]??"");if(i==="CPF_CNPJ"&&(this.cpfCnpjError=re.length!==11&&re.length!==14,re.length>11?i="00.000.000/0000-00":i="000.000.000-00"),i.startsWith("percent")){if(S.match("[a-z]|[A-Z]")||S.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)&&!a){S=this._stripToDecimal(S);let ee=this.getPrecision(i);S=this.checkInputPrecision(S,ee,this.decimalMarker)}let Q=typeof this.decimalMarker=="string"?this.decimalMarker:".";if(S.indexOf(Q)>0&&!this.percentage(S.substring(0,S.indexOf(Q)))){let ee=S.substring(0,S.indexOf(Q)-1);this.allowNegativeNumbers&&S.slice(c,c+1)==="-"&&!a&&(ee=S.substring(0,S.indexOf(Q))),S=`${ee}${S.substring(S.indexOf(Q),S.length)}`}let R="";this.allowNegativeNumbers&&S.slice(c,c+1)==="-"?R=`-${S.slice(c+1,c+S.length)}`:R=S,this.percentage(R)?u=this._splitPercentZero(S):u=this._splitPercentZero(S.substring(0,S.length-1))}else if(i.startsWith("separator")){(S.match("[w\u0430-\u044F\u0410-\u042F]")||S.match("[\u0401\u0451\u0410-\u044F]")||S.match("[a-z]|[A-Z]")||S.match(/[-@#!$%\\^&*()_£¬'+|~=`{}\]:";<>.?/]/)||S.match("[^A-Za-z0-9,]"))&&(S=this._stripToDecimal(S));let Q=this.getPrecision(i),R=Array.isArray(this.decimalMarker)?this.thousandSeparator==="."?",":".":this.decimalMarker;if(Q===0?S=this.allowNegativeNumbers?S.length>2&&S[0]==="-"&&S[1]==="0"&&S[2]!==this.thousandSeparator&&S[2]!==","&&S[2]!=="."?"-"+S.slice(2,S.length):S[0]==="0"&&S.length>1&&S[1]!==this.thousandSeparator&&S[1]!==","&&S[1]!=="."?S.slice(1,S.length):S:S.length>1&&S[0]==="0"&&S[1]!==this.thousandSeparator&&S[1]!==","&&S[1]!=="."?S.slice(1,S.length):S:(S[0]===R&&S.length>1&&(S="0"+S.slice(0,S.length+1),this.plusOnePosition=!0),S[0]==="0"&&S[1]!==R&&S[1]!==this.thousandSeparator&&(S=S.length>1?S.slice(0,1)+R+S.slice(1,S.length+1):S,this.plusOnePosition=!0),this.allowNegativeNumbers&&S[0]==="-"&&(S[1]===R||S[1]==="0")&&(S=S[1]===R&&S.length>2?S.slice(0,1)+"0"+S.slice(1,S.length):S[1]==="0"&&S.length>2&&S[2]!==R?S.slice(0,2)+R+S.slice(2,S.length):S,this.plusOnePosition=!0)),a){let Ge=S.slice(this._findFirstNonZeroDigitIndex(S),S.length),Pt=S[M]==="0"||S[M]===R,Le=S[0]==="0",vt=S[0]==="-",D=S[0]===this.thousandSeparator,F=S[1]===R,J=S[1]==="0",te=S[2]===R;Le&&F&&Pt&&M<2&&(S=Ge),vt&&J&&te&&Pt&&M<3&&(S="-"+Ge),Ge!=="-"&&(M===0&&(Le||D)||this.allowNegativeNumbers&&M===1&&vt&&!J)&&(S=vt?"-"+Ge:Ge)}let ee=this._charToRegExpExpression(this.thousandSeparator),q='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(ee,"");if(Array.isArray(this.decimalMarker))for(let Ge of this.decimalMarker)q=q.replace(this._charToRegExpExpression(Ge),"");else q=q.replace(this._charToRegExpExpression(this.decimalMarker),"");let se=new RegExp("["+q+"]");S.match(se)&&(S=S.substring(0,S.length-1)),S=this.checkInputPrecision(S,Q,this.decimalMarker);let K=S.replace(new RegExp(ee,"g"),"");u=this._formatWithSeparators(K,this.thousandSeparator,this.decimalMarker,Q);let Fe=u.indexOf(",")-S.indexOf(","),Qe=u.length-S.length,xt=a&&u.length<n.length&&this.separatorLimit;if((u[M-1]===this.thousandSeparator||u[M-this.prefix.length])&&this.prefix&&a)M=M-1;else if(Qe>0&&u[M]!==this.thousandSeparator||xt){v=!0;let Ge=0;do this._shift.add(M+Ge),Ge++;while(Ge<Qe)}else u[M-1]===this.thousandSeparator||Qe===-4||Qe===-3||u[M]===this.thousandSeparator?(this._shift.clear(),this._shift.add(M-1)):Fe!==0&&M>0&&!(u.indexOf(",")>=M&&M>3)||!(u.indexOf(".")>=M&&M>3)&&Qe<=0?(this._shift.clear(),v=!0,C=Qe,M+=Qe,this._shift.add(M)):this._shift.clear()}else for(let Q=0,R=L[0];Q<L.length&&c!==i.length;Q++,R=L[Q]??""){let ee="*"in this.patterns;if(this._checkSymbolMask(R,i[c]??"")&&i[c+1]==="?")u+=R,c+=2;else if(i[c+1]==="*"&&d&&this._checkSymbolMask(R,i[c+2]??""))u+=R,c+=3,d=!1;else if(this._checkSymbolMask(R,i[c]??"")&&i[c+1]==="*"&&!ee)u+=R,d=!0;else if(i[c+1]==="?"&&this._checkSymbolMask(R,i[c+2]??""))u+=R,c+=3;else if(this._checkSymbolMask(R,i[c]??"")){if(i[c]==="H"&&(this.apm?Number(R)>9:Number(R)>2)){M=this.leadZeroDateTime?M:M+1,c+=1,this._shiftStep(i,c,L.length),Q--,this.leadZeroDateTime&&(u+="0");continue}if(i[c]==="h"&&(this.apm?u.length===1&&Number(u)>1||u==="1"&&Number(R)>2||S.slice(c-1,c).length===1&&Number(S.slice(c-1,c))>2||S.slice(c-1,c)==="1"&&Number(R)>2:u==="2"&&Number(R)>3||(u.slice(c-2,c)==="2"||u.slice(c-3,c)==="2"||u.slice(c-4,c)==="2"||u.slice(c-1,c)==="2")&&Number(R)>3&&c>10)){M=M+1,c+=1,Q--;continue}if((i[c]==="m"||i[c]==="s")&&Number(R)>5){M=this.leadZeroDateTime?M:M+1,c+=1,this._shiftStep(i,c,L.length),Q--,this.leadZeroDateTime&&(u+="0");continue}let q=31,se=S[c],K=S[c+1],Fe=S[c+2],Qe=S[c-1],xt=S[c-2],Ge=S.slice(c-3,c-1),Pt=S.slice(c-1,c+1),Le=S.slice(c,c+2),vt=S.slice(c-2,c);if(i[c]==="d"){let D=i.slice(0,2)==="M0",F=i.slice(0,2)==="M0"&&this.specialCharacters.includes(xt);if(Number(R)>3&&this.leadZeroDateTime||!D&&(Number(Le)>q||Number(Pt)>q||this.specialCharacters.includes(K))||(F?Number(Pt)>q||!this.specialCharacters.includes(se)&&this.specialCharacters.includes(Fe)||this.specialCharacters.includes(se):Number(Le)>q||this.specialCharacters.includes(K)&&!a)){M=this.leadZeroDateTime?M:M+1,c+=1,this._shiftStep(i,c,L.length),Q--,this.leadZeroDateTime&&(u+="0");continue}}if(i[c]==="M"){let F=c===0&&(Number(R)>2||Number(Le)>12||this.specialCharacters.includes(K)&&!a),J=i.slice(c+2,c+3),te=Ge.includes(J)&&i.includes("d0")&&(this.specialCharacters.includes(xt)&&Number(Pt)>12&&!this.specialCharacters.includes(se)||this.specialCharacters.includes(se)),G=Number(Ge)<=q&&!this.specialCharacters.includes(Ge)&&this.specialCharacters.includes(Qe)&&(Number(Le)>12||this.specialCharacters.includes(K)),ce=Number(Le)>12&&c===5||this.specialCharacters.includes(K)&&c===5,X=Number(Ge)>q&&!this.specialCharacters.includes(Ge)&&!this.specialCharacters.includes(vt)&&Number(vt)>12&&i.includes("d0"),ne=Number(Ge)<=q&&!this.specialCharacters.includes(Ge)&&!this.specialCharacters.includes(Qe)&&Number(Pt)>12;if(Number(R)>1&&this.leadZeroDateTime||F||te||ne||X||G||ce&&!this.leadZeroDateTime){M=this.leadZeroDateTime?M:M+1,c+=1,this._shiftStep(i,c,L.length),Q--,this.leadZeroDateTime&&(u+="0");continue}}u+=R,c++}else this.specialCharacters.includes(R)&&i[c]===R?(u+=R,c++):this.specialCharacters.indexOf(i[c]??"")!==-1?(u+=i[c],c++,this._shiftStep(i,c,L.length),Q--):i[c]==="9"&&this.showMaskTyped?this._shiftStep(i,c,L.length):this.patterns[i[c]??""]&&this.patterns[i[c]??""]?.optional?(L[c]&&i!=="099.099.099.099"&&i!=="000.000.000-00"&&i!=="00.000.000/0000-00"&&!i.match(/^9+\.0+$/)&&!this.patterns[i[c]??""]?.optional&&(u+=L[c]),i.includes("9*")&&i.includes("0*")&&c++,c++,Q--):this.maskExpression[c+1]==="*"&&this._findSpecialChar(this.maskExpression[c+2]??"")&&this._findSpecialChar(R)===this.maskExpression[c+2]&&d||this.maskExpression[c+1]==="?"&&this._findSpecialChar(this.maskExpression[c+2]??"")&&this._findSpecialChar(R)===this.maskExpression[c+2]&&d?(c+=3,u+=R):this.showMaskTyped&&this.specialCharacters.indexOf(R)<0&&R!==this.placeHolderCharacter&&this.placeHolderCharacter.length===1&&(_=!0)}u.length+1===i.length&&this.specialCharacters.indexOf(i[i.length-1]??"")!==-1&&(u+=i[i.length-1]);let ue=M+1;for(;this._shift.has(ue);)C++,ue++;let _e=s&&!i.startsWith("separator")?c:this._shift.has(M)?C:0;_&&_e--,l(_e,v),C<0&&this._shift.clear();let Oe=!1;a&&(Oe=L.every(Q=>this.specialCharacters.includes(Q)));let V=`${this.prefix}${Oe?"":u}${this.showMaskTyped?"":this.suffix}`;u.length===0&&(V=this.dropSpecialCharacters?`${u}`:`${this.prefix}${u}`);let W=S.length===1&&this.specialCharacters.includes(i[0])&&S!==i[0];if(!this._checkSymbolMask(S,i[1])&&W)return"";if(u.includes("-")&&this.prefix&&this.allowNegativeNumbers){if(a&&u==="-")return"";V=`-${this.prefix}${u.split("-").join("")}${this.suffix}`}return V}_findDropSpecialChar(n){return Array.isArray(this.dropSpecialCharacters)?this.dropSpecialCharacters.find(i=>i===n):this._findSpecialChar(n)}_findSpecialChar(n){return this.specialCharacters.find(i=>i===n)}_checkSymbolMask(n,i){return this.patterns=this.customPattern?this.customPattern:this.patterns,(this.patterns[i]?.pattern&&this.patterns[i]?.pattern.test(n))??!1}_stripToDecimal(n){return n.split("").filter((i,o)=>{let s=typeof this.decimalMarker=="string"?i===this.decimalMarker:this.decimalMarker.includes(i);return i.match("^-?\\d")||i===this.thousandSeparator||s||i==="-"&&o===0&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(n){return n&&(n===" "?"\\s":"[\\^$.|?*+()".indexOf(n)>=0?`\\${n}`:n)}_shiftStep(n,i,o){let s=/[*?]/g.test(n.slice(0,i))?o:i;this._shift.add(s+this.prefix.length||0)}_compareOrIncludes(n,i,o){return Array.isArray(i)?i.filter(s=>s!==o).includes(n):n===i}_validIP(n){return!(n.length===4&&!n.some((i,o)=>n.length!==o+1?i===""||Number(i)>255:i===""||Number(i.substring(0,3))>255))}_splitPercentZero(n){if(n==="-"&&this.allowNegativeNumbers)return n;let i=typeof this.decimalMarker=="string"?n.indexOf(this.decimalMarker):n.indexOf("."),o=this.allowNegativeNumbers&&n.includes("-")?"-":"";if(i===-1){let s=parseInt(o?n.slice(1,n.length):n,10);return isNaN(s)?"":`${o}${s}`}else{let s=parseInt(n.replace("-","").substring(0,i),10),a=n.substring(i+1),l=isNaN(s)?"":s.toString(),c=typeof this.decimalMarker=="string"?this.decimalMarker:".";return l===""?"":`${o}${l}${c}${a}`}}_findFirstNonZeroDigitIndex(n){for(let i=0;i<n.length;i++){let o=n[i];if(o&&o>="1"&&o<="9")return i}return-1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})(),Ky=(()=>{let e=class e extends tU{constructor(){super(...arguments),this.isNumberValue=!1,this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this._maskExpressionArray=[],this.triggerOnMaskChange=!1,this._previousValue="",this._currentValue="",this._emitValue=!1,this.onChange=n=>{},this._elementRef=H(bt,{optional:!0}),this.document=H(qt),this._config=H(th),this._renderer=H(tn,{optional:!0})}applyMask(n,i,o=0,s=!1,a=!1,l=()=>{}){if(!i)return n!==this.actualValue?this.actualValue:n;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"",this.maskExpression==="IP"&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(n||"#")),this.maskExpression==="CPF_CNPJ"&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(n||"#")),!n&&this.showMaskTyped)return this.formControlResult(this.prefix),`${this.prefix}${this.maskIsShown}${this.suffix}`;let c=n&&typeof this.selStart=="number"?n[this.selStart]??"":"",u="",d=o;if(this.hiddenInput&&!this.writingValue){let S=n&&n.length===1?n.split(""):this.actualValue.split("");typeof this.selStart=="object"&&typeof this.selEnd=="object"?(this.selStart=Number(this.selStart),this.selEnd=Number(this.selEnd)):n!==""&&S.length?typeof this.selStart=="number"&&typeof this.selEnd=="number"&&(n.length>S.length?S.splice(this.selStart,0,c):n.length<S.length&&(S.length-n.length===1?a?S.splice(this.selStart-1,1):S.splice(n.length-1,1):S.splice(this.selStart,this.selEnd-this.selStart))):S=[],this.showMaskTyped&&!this.hiddenInput&&(u=this.removeMask(n)),u=this.actualValue.length&&S.length<=n.length?this.shiftTypedSymbols(S.join("")):n}if(s&&(this.hiddenInput||!this.hiddenInput)&&(u=n),a&&this.specialCharacters.indexOf(this.maskExpression[d]??"")!==-1&&this.showMaskTyped&&!this.prefix&&(u=this._currentValue),this.deletedSpecialCharacter&&d&&(this.specialCharacters.includes(this.actualValue.slice(d,d+1))?d=d+1:i.slice(d-1,d+1)!=="M0"&&(d=d-2),this.deletedSpecialCharacter=!1),this.showMaskTyped&&this.placeHolderCharacter.length===1&&!this.leadZeroDateTime&&(u=this.removeMask(n)),this.maskChanged?u=n:u=u&&u.length?u:n,this.showMaskTyped&&this.keepCharacterPositions&&this.actualValue&&!s&&!this.writingValue){let S=this.dropSpecialCharacters?this.removeMask(this.actualValue):this.actualValue;return this.formControlResult(S),this.actualValue?this.actualValue:`${this.prefix}${this.maskIsShown}${this.suffix}`}let v=super.applyMask(u,i,d,s,a,l);if(this.actualValue=this.getActualValue(v),this.thousandSeparator==="."&&this.decimalMarker==="."&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&this.dropSpecialCharacters===!0&&(this.specialCharacters=this.specialCharacters.filter(S=>!this._compareOrIncludes(S,this.decimalMarker,this.thousandSeparator))),(v||v==="")&&(this._previousValue=this._currentValue,this._currentValue=v,this._emitValue=this._previousValue!==this._currentValue||this.maskChanged||this.writingValue||this._previousValue===this._currentValue&&s),this._emitValue&&(this.writingValue&&this.triggerOnMaskChange?requestAnimationFrame(()=>this.formControlResult(v)):this.formControlResult(v)),!this.showMaskTyped||this.showMaskTyped&&this.hiddenInput)return this.hiddenInput?a?this.hideInput(v,this.maskExpression):`${this.hideInput(v,this.maskExpression)}${this.maskIsShown.slice(v.length)}`:v;let C=v.length,_=`${this.prefix}${this.maskIsShown}${this.suffix}`;if(this.maskExpression.includes("H")){let S=this._numberSkipedSymbols(v);return`${v}${_.slice(C+S)}`}else if(this.maskExpression==="IP"||this.maskExpression==="CPF_CNPJ")return`${v}${_}`;return`${v}${_.slice(C)}`}_numberSkipedSymbols(n){let i=/(^|\D)(\d\D)/g,o=i.exec(n),s=0;for(;o!=null;)s+=1,o=i.exec(n);return s}applyValueChanges(n,i,o,s=()=>{}){let a=this._elementRef?.nativeElement;a&&(a.value=this.applyMask(a.value,this.maskExpression,n,i,o,s),a!==this._getActiveElement()&&this.clearIfNotMatchFn())}hideInput(n,i){return n.split("").map((o,s)=>this.patterns&&this.patterns[i[s]??""]&&this.patterns[i[s]??""]?.symbol?this.patterns[i[s]??""]?.symbol:o).join("")}getActualValue(n){let i=n.split("").filter((o,s)=>{let a=this.maskExpression[s]??"";return this._checkSymbolMask(o,a)||this.specialCharacters.includes(a)&&o===a});return i.join("")===n?i.join(""):n}shiftTypedSymbols(n){let i="";return(n&&n.split("").map((s,a)=>{if(this.specialCharacters.includes(n[a+1]??"")&&n[a+1]!==this.maskExpression[a+1])return i=s,n[a+1];if(i.length){let l=i;return i="",l}return s})||[]).join("")}numberToString(n){return!n&&n!==0||this.maskExpression.startsWith("separator")&&(this.leadZero||!this.dropSpecialCharacters)||this.maskExpression.startsWith("separator")&&this.separatorLimit.length>14&&String(n).length>14?String(n):Number(n).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}).replace("/-/","-")}showMaskInInput(n){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}else if(this.showMaskTyped){if(n){if(this.maskExpression==="IP")return this._checkForIp(n);if(this.maskExpression==="CPF_CNPJ")return this._checkForCpfCnpj(n)}return this.placeHolderCharacter.length===this.maskExpression.length?this.placeHolderCharacter:this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){let n=this._elementRef?.nativeElement;n&&this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==n.value.replace(this.placeHolderCharacter,"").length&&(this.formElementProperty=["value",""],this.applyMask("",this.maskExpression))}set formElementProperty([n,i]){!this._renderer||!this._elementRef||Promise.resolve().then(()=>this._renderer?.setProperty(this._elementRef?.nativeElement,n,i))}checkDropSpecialCharAmount(n){return n.split("").filter(o=>this._findDropSpecialChar(o)).length}removeMask(n){return this._removeMask(this._removeSuffix(this._removePrefix(n)),this.specialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(n){if(n==="#")return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;let i=[];for(let o=0;o<n.length;o++){let s=n[o]??"";s&&s.match("\\d")&&i.push(s)}return i.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:i.length>3&&i.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:i.length>6&&i.length<=9?this.placeHolderCharacter:(i.length>9&&i.length<=12,"")}_checkForCpfCnpj(n){let i=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,o=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if(n==="#")return i;let s=[];for(let a=0;a<n.length;a++){let l=n[a]??"";l&&l.match("\\d")&&s.push(l)}return s.length<=3?i.slice(s.length,i.length):s.length>3&&s.length<=6?i.slice(s.length+1,i.length):s.length>6&&s.length<=9?i.slice(s.length+2,i.length):s.length>9&&s.length<11?i.slice(s.length+3,i.length):s.length===11?"":s.length===12?n.length===17?o.slice(16,o.length):o.slice(15,o.length):s.length>12&&s.length<=14?o.slice(s.length+4,o.length):""}_getActiveElement(n=this.document){let i=n?.activeElement?.shadowRoot;return i?.activeElement?this._getActiveElement(i):n.activeElement}formControlResult(n){if(this.writingValue&&!n){this.onChange("");return}if(this.writingValue||!this.triggerOnMaskChange&&this.maskChanged){this.triggerOnMaskChange&&this.maskChanged&&this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(n)))))),this.maskChanged=!1;return}Array.isArray(this.dropSpecialCharacters)?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeMask(this._removeSuffix(this._removePrefix(n)),this.dropSpecialCharacters))))):this.dropSpecialCharacters||!this.dropSpecialCharacters&&this.prefix===n?this.onChange(this.outputTransformFn(this._toNumber(this._checkSymbols(this._removeSuffix(this._removePrefix(n)))))):this.onChange(this.outputTransformFn(this._toNumber(n)))}_toNumber(n){if(!this.isNumberValue||n===""||this.maskExpression.startsWith("separator")&&(this.leadZero||!this.dropSpecialCharacters))return n;if(String(n).length>14&&this.maskExpression.startsWith("separator"))return String(n);let i=Number(n);if(this.maskExpression.startsWith("separator")&&Number.isNaN(i)){let o=String(n).replace(",",".");return Number(o)}return Number.isNaN(i)?n:i}_removeMask(n,i){return this.maskExpression.startsWith("percent")&&n.includes(".")?n:n&&n.replace(this._regExpForRemove(i),"")}_removePrefix(n){return this.prefix?n&&n.replace(this.prefix,""):n}_removeSuffix(n){return this.suffix?n&&n.replace(this.suffix,""):n}_retrieveSeparatorValue(n){let i=Array.isArray(this.dropSpecialCharacters)?this.specialCharacters.filter(o=>this.dropSpecialCharacters.includes(o)):this.specialCharacters;return!this.deletedSpecialCharacter&&this._checkPatternForSpace()&&n.includes(" ")&&this.maskExpression.includes("*")&&(i=i.filter(o=>o!==" ")),this._removeMask(n,i)}_regExpForRemove(n){return new RegExp(n.map(i=>`\\${i}`).join("|"),"gi")}_replaceDecimalMarkerToDot(n){let i=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return n.replace(this._regExpForRemove(i),".")}_checkSymbols(n){let i=n;if(i==="")return i;this.maskExpression.startsWith("percent")&&this.decimalMarker===","&&(i=i.replace(",","."));let o=this._retrieveSeparatorPrecision(this.maskExpression),s=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(i));return this.isNumberValue&&o?i===this.decimalMarker?null:s.length>14?String(s):this._checkPrecision(this.maskExpression,s):s}_checkPatternForSpace(){for(let n in this.patterns)if(this.patterns[n]&&this.patterns[n]?.hasOwnProperty("pattern")){let i=this.patterns[n]?.pattern.toString(),o=this.patterns[n]?.pattern;if(i?.includes(" ")&&o?.test(this.maskExpression))return!0}return!1}_retrieveSeparatorPrecision(n){let i=n.match(new RegExp("^separator\\.([^d]*)"));return i?Number(i[1]):null}_checkPrecision(n,i){let o=this.getPrecision(n),s=i;return n.indexOf("2")>0||this.leadZero&&Number(o)>0?(this.decimalMarker===","&&this.leadZero&&(s=s.replace(",",".")),this.leadZero?Number(s).toFixed(Number(o)):Number(s).toFixed(2)):this.numberToString(s)}_repeatPatternSymbols(n){return n.match(/{[0-9]+}/)&&n.split("").reduce((i,o,s)=>{if(this._start=o==="{"?s:this._start,o!=="}")return this._findSpecialChar(o)?i+o:i;this._end=s;let a=Number(n.slice(this._start+1,this._end)),l=new Array(a+1).join(n[this._start-1]);if(n.slice(0,this._start).length>1&&n.includes("S")){let c=n.slice(0,this._start-1);return c.includes("{")?i+l:c+i+l}else return i+l},"")||n}currentLocaleDecimalMarker(){return 1.1.toLocaleString().substring(1,2)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=pn(e)))(o||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac});let t=e;return t})();function nU(){let t=H(oD),e=H(iD);return e instanceof Function?j(j({},t),e()):j(j({},t),e)}function sD(t){return[{provide:iD,useValue:t},{provide:oD,useValue:Q6},{provide:th,useFactory:nU},Ky]}var Bl=(()=>{let e=class e{constructor(){this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.leadZero=null,this.triggerOnMaskChange=null,this.apm=null,this.inputTransformFn=null,this.outputTransformFn=null,this.keepCharacterPositions=null,this.maskFilled=new Ae,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._allowFewMaskChangeMask=!1,this._justPasted=!1,this._isFocused=!1,this._isComposing=!1,this.document=H(qt),this._maskService=H(Ky,{self:!0}),this._config=H(th),this.onChange=n=>{},this.onTouch=()=>{}}ngOnChanges(n){let{maskExpression:i,specialCharacters:o,patterns:s,prefix:a,suffix:l,thousandSeparator:c,decimalMarker:u,dropSpecialCharacters:d,hiddenInput:v,showMaskTyped:C,placeHolderCharacter:_,shownMaskExpression:S,showTemplate:M,clearIfNotMatch:L,validation:re,separatorLimit:ue,allowNegativeNumbers:_e,leadZeroDateTime:Oe,leadZero:V,triggerOnMaskChange:W,apm:Q,inputTransformFn:R,outputTransformFn:ee,keepCharacterPositions:q}=n;if(i&&(i.currentValue!==i.previousValue&&!i.firstChange&&(this._maskService.maskChanged=!0),i.currentValue&&i.currentValue.split("||").length>1?(this._maskExpressionArray=i.currentValue.split("||").sort((se,K)=>se.length-K.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=i.currentValue||"",this._maskService.maskExpression=this._maskValue)),o){if(!o.currentValue||!Array.isArray(o.currentValue))return;this._maskService.specialCharacters=o.currentValue||[]}_e&&(this._maskService.allowNegativeNumbers=_e.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.specialCharacters=this._maskService.specialCharacters.filter(se=>se!=="-"))),s&&s.currentValue&&(this._maskService.patterns=s.currentValue),Q&&Q.currentValue&&(this._maskService.apm=Q.currentValue),a&&(this._maskService.prefix=a.currentValue),l&&(this._maskService.suffix=l.currentValue),c&&(this._maskService.thousandSeparator=c.currentValue),u&&(this._maskService.decimalMarker=u.currentValue),d&&(this._maskService.dropSpecialCharacters=d.currentValue),v&&(this._maskService.hiddenInput=v.currentValue),C&&(this._maskService.showMaskTyped=C.currentValue,C.previousValue===!1&&C.currentValue===!0&&this._isFocused&&requestAnimationFrame(()=>{this._maskService._elementRef?.nativeElement.click()})),_&&(this._maskService.placeHolderCharacter=_.currentValue),S&&(this._maskService.shownMaskExpression=S.currentValue),M&&(this._maskService.showTemplate=M.currentValue),L&&(this._maskService.clearIfNotMatch=L.currentValue),re&&(this._maskService.validation=re.currentValue),ue&&(this._maskService.separatorLimit=ue.currentValue),Oe&&(this._maskService.leadZeroDateTime=Oe.currentValue),V&&(this._maskService.leadZero=V.currentValue),W&&(this._maskService.triggerOnMaskChange=W.currentValue),R&&(this._maskService.inputTransformFn=R.currentValue),ee&&(this._maskService.outputTransformFn=ee.currentValue),q&&(this._maskService.keepCharacterPositions=q.currentValue),this._applyMask()}validate({value:n}){let i=typeof n=="number"?String(n):n;if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(i);if(this._maskService.cpfCnpjError)return this._createValidationError(i);if(this._maskValue.startsWith("separator")||eU.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(X6.includes(this._maskValue))return this._validateTime(i);if(this._maskValue==="A*@A*.A*")return!/^[^@]+@[^@]+\.[^@]+$/.test(i)&&i?this._createValidationError(i):null;if(i&&i.length>=1){let o=0;if(this._maskValue.includes("{")&&this._maskValue.includes("}"))return this._maskValue.slice(this._maskValue.indexOf("{")+1,this._maskValue.indexOf("}"))===String(i.length)?null:this._createValidationError(i);if(this._maskValue.startsWith("percent"))return null;for(let s in this._maskService.patterns)if(this._maskService.patterns[s]?.optional){if(this._maskValue.indexOf(s)!==this._maskValue.lastIndexOf(s)){let a=this._maskValue.split("").filter(l=>l===s).join("");o+=a.length}else this._maskValue.indexOf(s)!==-1&&o++;if(this._maskValue.indexOf(s)!==-1&&i.length>=this._maskValue.indexOf(s)||o===this._maskValue.length)return null}if(this._maskValue.indexOf("*")>1&&i.length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&i.length<this._maskValue.indexOf("?"))return this._createValidationError(i);if(this._maskValue.indexOf("*")===-1||this._maskValue.indexOf("?")===-1){let s=this._maskValue.split("*"),a=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkDropSpecialCharAmount(this._maskValue)-o:this.prefix?this._maskValue.length+this.prefix.length-o:this._maskValue.length-o;if(s.length===1&&i.length<a)return this._createValidationError(i);if(s.length>1){let l=s[s.length-1];if(l&&this._maskService.specialCharacters.includes(l[0])&&String(i).includes(l[0]??"")&&!this.dropSpecialCharacters){let c=n.split(l[0]);return c[c.length-1].length===l.length-1?null:this._createValidationError(i)}else return(l&&!this._maskService.specialCharacters.includes(l[0])||!l||this._maskService.dropSpecialCharacters)&&i.length>=a-1?null:this._createValidationError(i)}}if(this._maskValue.indexOf("*")===1||this._maskValue.indexOf("?")===1)return null}return n&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onFocus(){this._isFocused=!0}onModelChange(n){(n===""||n===null||typeof n>"u")&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(n){if(this._isComposing)return;let i=n.target,o=this._maskService.inputTransformFn(i.value);if(i.type!=="number")if(typeof o=="string"||typeof o=="number"){if(i.value=o.toString(),this._inputValue=i.value,this._setMask(),!this._maskValue){this.onChange(i.value);return}let s=i.selectionStart===1?i.selectionStart+this._maskService.prefix.length:i.selectionStart;if(this.showMaskTyped&&this.keepCharacterPositions&&this._maskService.placeHolderCharacter.length===1){let u=i.value.slice(s-1,s),d=this.prefix.length,v=this._maskService._checkSymbolMask(u,this._maskService.maskExpression[s-1-d]??""),C=this._maskService._checkSymbolMask(u,this._maskService.maskExpression[s+1-d]??""),_=this._maskService.selStart===this._maskService.selEnd,S=Number(this._maskService.selStart)-d,M=Number(this._maskService.selEnd)-d,L=this._code==="Backspace"||this._code==="Delete";if(L){if(!_)this._maskService.selStart===d?this._maskService.actualValue=`${this.prefix}${this._maskService.maskIsShown.slice(0,M)}${this._inputValue.split(this.prefix).join("")}`:this._maskService.selStart===this._maskService.maskIsShown.length+d?this._maskService.actualValue=`${this._inputValue}${this._maskService.maskIsShown.slice(S,M)}`:this._maskService.actualValue=`${this.prefix}${this._inputValue.split(this.prefix).join("").slice(0,S)}${this._maskService.maskIsShown.slice(S,M)}${this._maskService.actualValue.slice(M+d,this._maskService.maskIsShown.length+d)}${this.suffix}`;else if(!this._maskService.specialCharacters.includes(this._maskService.maskExpression.slice(s-this.prefix.length,s+1-this.prefix.length))&&_)if(S===1&&this.prefix)this._maskService.actualValue=`${this.prefix}${this._maskService.placeHolderCharacter}${i.value.split(this.prefix).join("").split(this.suffix).join("")}${this.suffix}`,s=s-1;else{let re=i.value.substring(0,s),ue=i.value.substring(s);this._maskService.actualValue=`${re}${this._maskService.placeHolderCharacter}${ue}`}s=this._code==="Delete"?s+1:s}L||(!v&&!C&&_?s=Number(i.selectionStart)-1:this._maskService.specialCharacters.includes(i.value.slice(s,s+1))&&C&&!this._maskService.specialCharacters.includes(i.value.slice(s+1,s+2))?(this._maskService.actualValue=`${i.value.slice(0,s-1)}${i.value.slice(s,s+1)}${u}${i.value.slice(s+2)}`,s=s+1):v?i.value.length===1&&s===1?this._maskService.actualValue=`${this.prefix}${u}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${this.suffix}`:this._maskService.actualValue=`${i.value.slice(0,s-1)}${u}${i.value.slice(s+1).split(this.suffix).join("")}${this.suffix}`:this.prefix&&i.value.length===1&&s-d===1&&this._maskService._checkSymbolMask(i.value,this._maskService.maskExpression[s-1-d]??"")&&(this._maskService.actualValue=`${this.prefix}${i.value}${this._maskService.maskIsShown.slice(1,this._maskService.maskIsShown.length)}${this.suffix}`))}let a=0,l=!1;if(this._code==="Delete"&&(this._maskService.deletedSpecialCharacter=!0),this._inputValue.length>=this._maskService.maskExpression.length-1&&this._code!=="Backspace"&&this._maskService.maskExpression==="d0/M0/0000"&&s<10){let u=this._inputValue.slice(s-1,s);i.value=this._inputValue.slice(0,s-1)+u+this._inputValue.slice(s+1)}if(this._maskService.maskExpression==="d0/M0/0000"&&this.leadZeroDateTime&&(s<3&&Number(i.value)>31&&Number(i.value)<40||s===5&&Number(i.value.slice(3,5))>12)&&(s=s+2),this._maskService.maskExpression==="Hh:m0:s0"&&this.apm&&(this._justPasted&&i.value.slice(0,2)==="00"&&(i.value=i.value.slice(1,2)+i.value.slice(2,i.value.length)),i.value=i.value==="00"?"0":i.value),this._maskService.applyValueChanges(s,this._justPasted,this._code==="Backspace"||this._code==="Delete",(u,d)=>{this._justPasted=!1,a=u,l=d}),this._getActiveElement()!==i)return;if(this._maskService.plusOnePosition&&(s=s+1,this._maskService.plusOnePosition=!1),this._maskExpressionArray.length)if(this._code==="Backspace"){let u=this.specialCharacters.includes(this._maskService.actualValue.slice(s-1,s)),d=this.specialCharacters.includes(this._maskService.actualValue.slice(s,s+1));this._allowFewMaskChangeMask&&!d?(s=i.selectionStart+1,this._allowFewMaskChangeMask=!1):s=u?s-1:s}else s=i.selectionStart===1?i.selectionStart+this._maskService.prefix.length:i.selectionStart;this._position=this._position===1&&this._inputValue.length===1?null:this._position;let c=this._position?this._inputValue.length+s+a:s+(this._code==="Backspace"&&!l?0:a);c>this._getActualInputLength()&&(c=i.value===this._maskService.decimalMarker&&i.value.length===1?this._getActualInputLength()+1:this._getActualInputLength()),c<0&&(c=0),i.setSelectionRange(c,c),this._position=null}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof o);else{if(!this._maskValue){this.onChange(i.value);return}this._maskService.applyValueChanges(i.value.length,this._justPasted,this._code==="Backspace"||this._code==="Delete")}}onCompositionStart(){this._isComposing=!0}onCompositionEnd(n){this._isComposing=!1,this._justPasted=!0,this.onInput(n)}onBlur(n){if(this._maskValue){let i=n.target;if(this._maskService.leadZero&&i.value.length>0&&typeof this._maskService.decimalMarker=="string"){let o=this._maskService.maskExpression,s=Number(this._maskService.maskExpression.slice(o.length-1,o.length));if(s>0){i.value=this._maskService.suffix?i.value.split(this._maskService.suffix).join(""):i.value;let a=i.value.split(this._maskService.decimalMarker)[1];i.value=i.value.includes(this._maskService.decimalMarker)?i.value+"0".repeat(s-a.length)+this._maskService.suffix:i.value+this._maskService.decimalMarker+"0".repeat(s)+this._maskService.suffix,this._maskService.actualValue=i.value}}this._maskService.clearIfNotMatchFn()}this._isFocused=!1,this.onTouch()}onClick(n){if(!this._maskValue)return;let i=n.target,o=0,s=0;i!==null&&i.selectionStart!==null&&i.selectionStart===i.selectionEnd&&i.selectionStart>this._maskService.prefix.length&&n.keyCode!==38&&this._maskService.showMaskTyped&&!this.keepCharacterPositions&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),i.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===i.value?(i.focus(),i.setSelectionRange(o,s)):i.selectionStart>this._maskService.actualValue.length&&i.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));let a=i&&(i.value===this._maskService.prefix?this._maskService.prefix+this._maskService.maskIsShown:i.value);if(i&&i.value!==a&&(i.value=a),i&&i.type!=="number"&&(i.selectionStart||i.selectionEnd)<=this._maskService.prefix.length){let l=this._maskService.maskExpression.match(new RegExp(`^[${this._maskService.specialCharacters.map(c=>`\\${c}`).join("")}]+`))?.[0].length||0;i.selectionStart=this._maskService.prefix.length+l;return}i&&i.selectionEnd>this._getActualInputLength()&&(i.selectionEnd=this._getActualInputLength())}onKeyDown(n){if(!this._maskValue)return;if(this._isComposing){n.key==="Enter"&&this.onCompositionEnd(n);return}this._code=n.code?n.code:n.key;let i=n.target;if(this._inputValue=i.value,this._setMask(),i.type!=="number"){if(n.key==="ArrowUp"&&n.preventDefault(),n.key==="ArrowLeft"||n.key==="Backspace"||n.key==="Delete"){if(n.key==="Backspace"&&i.value.length===0&&(i.selectionStart=i.selectionEnd),n.key==="Backspace"&&i.selectionStart!==0){if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&i.selectionStart<=this.prefix.length)i.setSelectionRange(this.prefix.length,i.selectionEnd);else if(this._inputValue.length!==i.selectionStart&&i.selectionStart!==1)for(;this.specialCharacters.includes((this._inputValue[i.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&i.selectionStart>this.prefix.length||this.prefix.length===0);)i.setSelectionRange(i.selectionStart-1,i.selectionEnd)}this.checkSelectionOnDeletion(i),this._maskService.prefix.length&&i.selectionStart<=this._maskService.prefix.length&&i.selectionEnd<=this._maskService.prefix.length&&n.preventDefault();let o=i.selectionStart;n.key==="Backspace"&&!i.readOnly&&o===0&&i.selectionEnd===i.value.length&&i.value.length!==0&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<i.selectionStart?i.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(n.code==="KeyA"&&n.ctrlKey||n.code==="KeyA"&&n.metaKey)&&(i.setSelectionRange(0,this._getActualInputLength()),n.preventDefault()),this._maskService.selStart=i.selectionStart,this._maskService.selEnd=i.selectionEnd}}writeValue(n){return Et(this,null,function*(){let i=n;if(typeof i=="object"&&i!==null&&"value"in i&&("disable"in i&&this.setDisabledState(!!i.disable),i=i.value),i!==null&&(i=this.inputTransformFn?this.inputTransformFn(i):i),typeof i=="string"||typeof i=="number"||i===null||typeof i>"u"){(i===null||typeof i>"u"||i==="")&&(this._maskService._currentValue="",this._maskService._previousValue="");let o=i;if(typeof o=="number"||this._maskValue.startsWith("separator")){o=String(o);let s=this._maskService.currentLocaleDecimalMarker();Array.isArray(this._maskService.decimalMarker)||(o=this._maskService.decimalMarker!==s?o.replace(s,this._maskService.decimalMarker):o),this._maskService.leadZero&&o&&this.maskExpression&&this.dropSpecialCharacters!==!1&&(o=this._maskService._checkPrecision(this._maskService.maskExpression,o)),(this._maskService.decimalMarker===","||Array.isArray(this._maskService.decimalMarker)&&this._maskService.thousandSeparator===".")&&(o=o.toString().replace(".",",")),this.maskExpression?.startsWith("separator")&&this.leadZero&&requestAnimationFrame(()=>{this._maskService.applyMask(o?.toString()??"",this._maskService.maskExpression)}),this._maskService.isNumberValue=!0}typeof o!="string"&&(o=""),this._inputValue=o,this._setMask(),o&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(typeof this.inputTransformFn!="function"&&(this._maskService.writingValue=!0),this._maskService.formElementProperty=["value",this._maskService.applyMask(o,this._maskService.maskExpression)],typeof this.inputTransformFn!="function"&&(this._maskService.writingValue=!1)):this._maskService.formElementProperty=["value",o],this._inputValue=o}else console.warn("Ngx-mask writeValue work with string | number, your current value:",typeof i)})}registerOnChange(n){this._maskService.onChange=this.onChange=n}registerOnTouched(n){this.onTouch=n}_getActiveElement(n=this.document){let i=n?.activeElement?.shadowRoot;return i?.activeElement?this._getActiveElement(i):n.activeElement}checkSelectionOnDeletion(n){n.selectionStart=Math.min(Math.max(this.prefix.length,n.selectionStart),this._inputValue.length-this.suffix.length),n.selectionEnd=Math.min(Math.max(this.prefix.length,n.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(n){this._maskService.formElementProperty=["disabled",n]}_applyMask(){this._maskService.maskExpression=this._maskService._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(n){let i=this._maskValue.split("").filter(o=>o!==":").length;return n&&(+(n[n.length-1]??-1)==0&&n.length<i||n.length<=i-2)?this._createValidationError(n):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(n){return{mask:{requiredMask:this._maskValue,actualValue:n}}}_setMask(){this._maskExpressionArray.some(n=>{if(n.split("").some(o=>this._maskService.specialCharacters.includes(o))&&this._inputValue&&this._areAllCharactersInEachStringSame(this._maskExpressionArray)||n.includes("{")){let o=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(n)?.length;if(o)return this._maskValue=this.maskExpression=this._maskService.maskExpression=n.includes("{")?this._maskService._repeatPatternSymbols(n):n,o;{this._code==="Backspace"&&(this._allowFewMaskChangeMask=!0);let s=this._maskExpressionArray[this._maskExpressionArray.length-1]??"";this._maskValue=this.maskExpression=this._maskService.maskExpression=s.includes("{")?this._maskService._repeatPatternSymbols(s):s}}else{let o=this._maskService.removeMask(this._inputValue)?.split("").every((s,a)=>{let l=n.charAt(a);return this._maskService._checkSymbolMask(s,l)});if(o||this._justPasted)return this._maskValue=this.maskExpression=this._maskService.maskExpression=n,o}})}_areAllCharactersInEachStringSame(n){let i=this._maskService.specialCharacters;function o(a){let l=new RegExp(`[${i.map(c=>`\\${c}`).join("")}]`,"g");return a.replace(l,"")}return n.map(o).every(a=>new Set(a).size===1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=et({type:e,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(i,o){i&1&&P("paste",function(){return o.onPaste()})("focus",function(a){return o.onFocus(a)})("ngModelChange",function(a){return o.onModelChange(a)})("input",function(a){return o.onInput(a)})("compositionstart",function(a){return o.onCompositionStart(a)})("compositionend",function(a){return o.onCompositionEnd(a)})("blur",function(a){return o.onBlur(a)})("click",function(a){return o.onClick(a)})("keydown",function(a){return o.onKeyDown(a)})},inputs:{maskExpression:[0,"mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",leadZero:"leadZero",triggerOnMaskChange:"triggerOnMaskChange",apm:"apm",inputTransformFn:"inputTransformFn",outputTransformFn:"outputTransformFn",keepCharacterPositions:"keepCharacterPositions"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],standalone:!0,features:[fn([{provide:qr,useExisting:e,multi:!0},{provide:Jo,useExisting:e,multi:!0},Ky]),Sn]});let t=e;return t})();var rU=()=>[1,2,3,4],iU=t=>["/may-tinh-xach-tay",t];function oU(t,e){if(t&1&&(f(0,"div",23)(1,"label",91),y(2),w(3,"translate"),h(),f(4,"div",25),I(5,"input",92),w(6,"translate"),h()()),t&2){let r=e.$implicit;m(),O("for","address"+r),m(),at(" ",x(3,6,"ADDRESS")," ",r," "),m(3),O("formControlName","address"+r)("id","address"+r)("placeholder",x(6,8,"ADDRESS")+r)}}function sU(t,e){if(t&1){let r=ve();f(0,"div",56)(1,"div",93)(2,"img",94),P("click",function(){let i=U(r).$implicit,o=N();return $(o.setAvatar(i))}),h()()()}if(t&2){let r=e.$implicit,n=N();m(2),O("src",n.createImageUrl(r.id),Ut)("alt",r.altText)}}function aU(t,e){if(t&1){let r=ve();f(0,"li",99),P("click",function(){let i=U(r).$implicit,o=N(2);return $(o.viewOrderDetails(i))}),f(1,"div")(2,"h6",100),y(3),h(),f(4,"small",101),y(5),w(6,"date"),h()(),f(7,"span",102),y(8),w(9,"translate"),h()()}if(t&2){let r=e.$implicit,n=N(2);pe("active",n.selectedOrder===r),m(3),A("#",r.id,""),m(2),k($e(6,5,r.createdAt,"HH:mm dd-MM-yyyy")),m(3),k(x(9,8,r.orderStatus))}}function lU(t,e){if(t&1&&(f(0,"li",115)(1,"div")(2,"a",117),y(3),h(),f(4,"small",118),y(5),w(6,"currency"),h()(),f(7,"span"),y(8),w(9,"currency"),h()()),t&2){let r=e.$implicit;m(2),O("routerLink",un(11,iU,r.productSlug)),m(),A(" ",r.productSlug," "),m(2),at("",r.quantity," x ",$e(6,5,r.price,"VND"),""),m(3),k($e(9,8,r.quantity*r.price,"VND"))}}function cU(t,e){if(t&1){let r=ve();f(0,"button",122),P("click",function(){U(r);let i=N(4);return $(i.cancelOrder(i.selectedOrder))}),y(1),w(2,"translate"),h()}t&2&&(m(),A(" ",x(2,1,"CANCEL_ORDER")," "))}function uU(t,e){if(t&1){let r=ve();f(0,"button",123),P("click",function(){U(r);let i=N(4);return $(i.completeOrder(i.selectedOrder))}),y(1),w(2,"translate"),h()}t&2&&(m(),A(" ",x(2,1,"COMPLETE_ORDER")," "))}function dU(t,e){if(t&1){let r=ve();f(0,"button",124),P("click",function(){U(r);let i=N(4);return $(i.isReviewDialogOpened=!0)}),y(1),w(2,"translate"),h()}t&2&&(m(),A(" ",x(2,1,"LEAVE_REVIEW")," "))}function pU(t,e){if(t&1&&Y(0,cU,3,3,"button",119)(1,uU,3,3,"button",120)(2,dU,3,3,"button",121),t&2){let r=N(3);fe(r.isAllowedToCancel(r.selectedOrder)?0:-1),m(),fe(r.isAllowedToComplete(r.selectedOrder)?1:-1),m(),fe(r.selectedOrder.orderStatus===r.OrderStatus.COMPLETED?2:-1)}}function fU(t,e){if(t&1){let r=ve();f(0,"div",98)(1,"div",103)(2,"div",104)(3,"h6",105),y(4),w(5,"translate"),h(),f(6,"button",106),P("click",function(){U(r);let i=N(2);return $(i.selectedOrder=null)}),I(7,"i",107),h()(),f(8,"div",108)(9,"div",109)(10,"div",110)(11,"p",111)(12,"span",112),y(13),w(14,"translate"),h(),y(15),w(16,"date"),h()(),f(17,"div",110)(18,"p",111)(19,"span",112),y(20),w(21,"translate"),h(),y(22),w(23,"currency"),h()()(),f(24,"div",109)(25,"div",110)(26,"p",111)(27,"span",112),y(28),w(29,"translate"),h(),y(30),w(31,"translate"),h()(),f(32,"div",110)(33,"p",113)(34,"span",112),y(35),w(36,"translate"),h(),y(37),h()()(),I(38,"hr"),f(39,"ul",114),Me(40,lU,10,13,"li",115,ze),h(),f(42,"div",116),Y(43,pU,3,3),h()()()()}if(t&2){let r=N(2);m(4),at(" ",x(5,11,"ORDER_SUMMARY")," - #",r.selectedOrder.id," "),m(9),A("",x(14,13,"ORDER_DATE"),":"),m(2),A(" ",$e(16,15,r.selectedOrder.createdAt,"HH:mm dd-MM-yyyy")," "),m(5),A("",x(21,18,"TOTAL_AMOUNT"),":"),m(2),A(" ",$e(23,20,r.selectedOrder.totalAmount,"VND")," "),m(6),A("",x(29,23,"PAYMENT_METHOD"),":"),m(2),A(" ",x(31,25,r.selectedOrder.paymentMethod)," "),m(5),A("",x(36,27,"SHIPPING_ADDRESS"),":"),m(2),A(" ",r.selectedOrder.shippingAddress," "),m(3),De(r.orderDetails.get(r.selectedOrder.id)),m(3),fe(r.selectedOrder?43:-1)}}function hU(t,e){if(t&1&&(f(0,"div",20)(1,"div",95)(2,"ul",96),Me(3,aU,10,10,"li",97,ze),h()(),Y(5,fU,44,29,"div",98),h()),t&2){let r=N();m(3),De(r.orders),m(2),fe(r.selectedOrder?5:-1)}}function mU(t,e){t&1&&(f(0,"div",64)(1,"span",125),y(2),w(3,"translate"),h(),f(4,"div",56)(5,"button",126),I(6,"i",127),f(7,"span"),y(8),w(9,"translate"),h()()()()),t&2&&(m(2),A(" ",x(3,2,"NO_ORDERS")," "),m(6),k(x(9,4,"SHOPPING_NOW")))}function gU(t,e){if(t&1){let r=ve();f(0,"div",65)(1,"button",128),P("click",function(){U(r);let i=N();return $(i.loadOrders())}),y(2),w(3,"translate"),h()()}t&2&&(m(2),k(x(3,1,"Load more")))}var Zy=(()=>{let e=class e{constructor(n,i,o,s,a,l,c,u,d){this.translate=n,this.fb=i,this.userService=o,this.alertService=s,this.route=a,this.authService=l,this.validator=c,this.imageService=u,this.orderService=d,this.userId=null,this.avatarUrl=Rt.defaultAvatar,this.pageRequest={page:1,size:10},this.uploaded=null,this.unsubscribe$=new Ze,this.orderResponse=null,this.orders=[],this.selectedOrder=null,this.orderDetails=new Map,this.page=0,this.size=20,this.isReviewDialogOpened=!1,this.rating=0,this.reviewForm=this.fb.group({rating:[5,we.required],text:["",we.required]}),this.constant=Rt,this.Array=Array,this.OrderStatus=ot,this.translate.setDefaultLang("vi")}ngOnInit(){this.username=this.getUsername(),this.userForm=this.initUserProfileForm(),this.passwordForm=this.initPasswordForm(),this.getUserProfile()}viewOrderDetails(n){this.selectedOrder=n,this.orderService.getOrderById(n.id).pipe(Se(i=>i.orderDetails??[])).subscribe({next:i=>{this.orderDetails.set(n.id,i)}})}loadOrders(){this.page=this.page+1,this.orderService.getOrders({},{page:this.page,size:this.size},{}).subscribe(n=>{this.orderResponse=n,this.orders=[...this.orders,...n.items]})}cancelOrder(n){if(n){if(!this.isAllowedToCancel(n)){this.alertService.showErrorToast(`Cannot cancel ${n.orderStatus} order`);return}this.alertService.showConfirmationAlert("Confirm cancel order","Do you want to cancel this order?","warning",()=>{this.orderService.cancelOrder(n.id).subscribe({next:()=>{this.alertService.showSuccessToast("Canceled order successfully"),this.updateCanceledOrderStatus(n)},error:()=>this.alertService.showErrorToast("Can not cancel this order")})})}}completeOrder(n){if(n){if(!this.isAllowedToComplete(n)){this.alertService.showErrorToast(`Cannot complete ${n.orderStatus} order`);return}this.orderService.completeOrder(n.id).subscribe({next:()=>{this.alertService.showSuccessToast("Completed order successfully"),this.updateCompletedOrderStatus(n)},error:()=>this.alertService.showErrorToast("Can not cancel this order")})}}onStarClick(n){this.rating=n,this.reviewForm.patchValue({rating:this.rating})}isAllowedToCancel(n){let i=gu.get(ot.CANCELED);return i?i.includes(n.orderStatus):!1}isAllowedToComplete(n){let i=gu.get(ot.COMPLETED);return i?i.includes(n.orderStatus):!1}updateCanceledOrderStatus(n){this.orders.forEach(i=>{i.id===n.id&&(i.orderStatus=ot.CANCELED)})}updateCompletedOrderStatus(n){this.orders.forEach(i=>{i.id===n.id&&(i.orderStatus=ot.COMPLETED)})}getUsername(){return this.route.snapshot.paramMap.get("username")??this.authService.username}initUserProfileForm(){return this.fb.group({username:[{value:"",disabled:!0}],firstName:["",we.required],lastName:["",we.required],email:["",[we.required,we.email]],phone:["",[we.required,we.minLength(10),we.maxLength(10)]],address:["",we.required],address1:[""],address2:[""],address3:[""],address4:[""],gender:[{value:"UNKNOWN"}]})}initPasswordForm(){let n=this.fb.group({password:["",we.required],rePassword:["",we.required]});return n.addValidators(this.validator.passwordMatchValidator),n}getUserProfile(){let n=this.getUsername();this.userService.getByUsername(n).pipe(en(this.unsubscribe$),_n(i=>(this.alertService.showErrorToast("Failed to get user: "+n),[])),ct(i=>(this.userForm.patchValue(i),this.userId=i.id,this.avatarUrl=this.createAvatarUrl(this.userId),this.imageService.getUploaded(this.pageRequest)))).subscribe(i=>this.uploaded=i)}onProfileFormSubmit(){this.userForm.valid&&this.userService.updateProfile(this.username,this.userForm.value).pipe(en(this.unsubscribe$)).subscribe({next:()=>{this.alertService.showSuccessToast("Profile updated successfully")},error:n=>{this.alertService.showErrorToast("Failed to update profile")}})}onPasswordFormSubmit(){this.passwordForm.valid&&this.userService.changePassword(this.username,this.passwordForm.get("password")?.value).pipe(en(this.unsubscribe$)).subscribe({next:()=>this.alertService.showSuccessToast("Password changed successfully"),error:()=>this.alertService.showErrorToast("Failed to change password")})}previewImage(n){let i=n.target;if(!i.files?.[0])return;let o=i.files[0];if(!this.validateFile(o))return;let s=new FileReader;s.onload=a=>{let l=document.getElementById("avatar-preview");l.src=a.target?.result},s.readAsDataURL(o),this.imageService.uploadImage(o).pipe(en(this.unsubscribe$),ct(a=>{let l=a.id;return this.imageService.setAvatar(l)}),_n(a=>(this.alertService.showErrorToast("Failed to upload image"),[]))).subscribe({next:()=>{this.alertService.showSuccessToast("Updated avatar successfully")},error:()=>this.alertService.showErrorToast("Failed to update avatar")})}get isValidProfileForm(){return this.userForm.valid}get dirtyProfileForm(){return this.userForm.dirty}get notMatchedPassword(){return this.passwordForm.errors?.mismatch}createAvatarUrl(n){return`${Pe.IMAGE_SERVICE_API}/images/avatar/users/${n}`}validateFile(n){return n?this.validFileSize(n)?this.validFileType(n)?!0:(this.alertService.showErrorToast("Invalid file type. Only JPEG and PNG allowed"),!1):(this.alertService.showErrorToast("File exceeds limit of 1MB"),!1):(this.alertService.showErrorToast("File is empty"),!1)}validFileSize(n){return n.size<=1048576}validFileType(n){return["image/jpeg","image/png"].includes(n.type)}createImageUrl(n){return`${Pe.IMAGE_SERVICE_API}/images/${n}`}onScrollGallery(n){this.isScrolledToEnd(n)&&this.uploaded?.hasNext&&(this.pageRequest=Ee(j({},this.pageRequest),{page:this.pageRequest.page+1}),this.fetchImages())}setAvatar(n){this.imageService.setAvatar(n.id).subscribe({next:()=>{this.avatarUrl=this.imageUrlFromId(n.id),this.alertService.showSuccessToast("Avatar changed successfully")}})}isScrolledToEnd(n){let i=n.target;return i.scrollHeight-i.scrollTop===i.clientHeight}fetchImages(){this.imageService.getUploaded(this.pageRequest).subscribe({next:n=>{this.uploaded=Ee(j({},n),{items:[...this.uploaded?.items||[],...n.items]})}})}imageUrlFromId(n){return`${Pe.IMAGE_SERVICE_API}/images/${n}`}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}};e.\u0275fac=function(i){return new(i||e)(T(ke),T(bn),T(Oi),T(lt),T(mn),T(yn),T(Jf),T(Vl),T(Ll))},e.\u0275cmp=ae({type:e,selectors:[["app-user"]],standalone:!0,features:[ge],decls:197,vars:126,consts:[[1,"container","position-relative"],[1,"row","mt-4","bg-white","shadow-sm","rounded"],[1,"col-md-3","col-lg-2","d-md-block","p-3","bg-light","border-end"],[1,"position-sticky"],[1,"d-flex","align-items-center","gap-3","text-center","mb-4"],[1,"avatar"],["alt","User Avatar","width","48","height","48",1,"img-fluid",3,"src"],[1,"username"],[1,"nav","flex-column"],[1,"nav-item"],["href","#profile","data-bs-toggle","tab",1,"nav-link","active"],[1,"bi","bi-person","me-2"],["href","#change-password","data-bs-toggle","tab",1,"nav-link"],[1,"bi","bi-shield-lock","me-2"],["href","#orders","data-bs-toggle","tab",1,"nav-link",3,"click"],[1,"bi","bi-journals","me-2"],[1,"col-md-9","ms-sm-auto","col-lg-10","px-4"],[1,"tab-content","p-3"],["id","profile",1,"tab-pane","fade","show","active"],[1,"fs-3","fw-lighter","text-uppercase"],[1,"row"],[1,"profile","col-md-8"],[3,"ngSubmit","formGroup"],[1,"mb-3","row"],["for","username",1,"col-sm-4","col-form-label","text-end"],[1,"col-sm-8"],["formControlName","username","type","text","id","username",1,"readonly","form-control",3,"disabled"],["for","firstname",1,"col-sm-4","col-form-label","text-end"],["formControlName","firstName","type","text","id","firstname",1,"form-control",3,"placeholder"],["for","lastname",1,"col-sm-4","col-form-label","text-end"],["formControlName","lastName","type","text","id","lastname",1,"form-control",3,"placeholder"],["for","email",1,"col-sm-4","col-form-label","text-end"],["formControlName","email","type","email","id","email",1,"form-control",3,"placeholder"],["for","phone",1,"col-sm-4","col-form-label","text-end"],["formControlName","phone","type","text","mask","000 000 0000","prefix","(+84) ","id","phone",1,"form-control",3,"placeholder"],["for","address",1,"col-sm-4","col-form-label","text-end"],["formControlName","address","type","text","id","address","required","",1,"form-control",3,"placeholder"],["for","gender",1,"col-sm-4","col-form-label","text-end"],["id","gender",1,"col-sm-8","col-form-label"],[1,"form-check","form-check-inline"],["formControlName","gender","type","radio","value","MALE","id","male",1,"form-check-input"],["for","male",1,"form-check-label"],["formControlName","gender","type","radio","id","female","value","FEMALE",1,"form-check-input"],["for","female",1,"form-check-label"],["formControlName","gender","type","radio","id","other","value","UNKNOWN",1,"form-check-input"],["for","other",1,"form-check-label"],[1,"col-sm-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"col-md-4"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["type","file","id","avatar","accept","image/jpeg, image/png",1,"d-none",3,"change"],["for","avatar",1,"text-center","mb-3",2,"cursor","pointer"],[1,"avatar-preview","rounded-circle"],["id","avatar-preview","alt","Avatar Preview",3,"src"],[1,"helper-text","text-muted","fs-6"],[1,"gallery","row","row-cols-md-2","g-2","overflow-auto",3,"scroll"],[1,"col"],["id","change-password",1,"tab-pane","fade"],[1,"col-md-8"],["for","password",1,"col-sm-4","col-form-label","text-end"],["formControlName","password","type","password","id","password",1,"form-control",3,"placeholder"],["for","re-password",1,"col-sm-4","col-form-label","text-end"],["formControlName","rePassword","type","password","id","re-password",1,"form-control",3,"placeholder"],["id","orders",1,"tab-pane","fade"],[1,"row","text-center","g-3"],[1,"text-center"],["id","reviewDialog","tabindex","-1","aria-labelledby","reviewDialogLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","reviewDialogLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[3,"formGroup"],[1,"modal-body"],[1,"star-rating"],["type","radio","formControlName","rating","id","star-1",1,"d-none"],["for","star-1",1,"star",3,"click"],[1,"bi","bi-star-fill"],["type","radio","formControlName","rating","id","star-2",1,"d-none"],["for","star-2",1,"star",3,"click"],["type","radio","formControlName","rating","id","star-3",1,"d-none"],["for","star-3",1,"star",3,"click"],["type","radio","formControlName","rating","id","star-4",1,"d-none"],["for","star-4",1,"star",3,"click"],["type","radio","formControlName","rating","id","star-5",1,"d-none"],["for","star-5",1,"star",3,"click"],[1,"mb-3"],["for","review"],["id","review","formControlName","text",1,"form-control"],[1,"modal-footer"],[1,"btn","btn-primary"],[1,"col-sm-4","col-form-label","text-end",3,"for"],["type","text",1,"form-control",3,"formControlName","id","placeholder"],[1,"card"],[1,"card-img-top",3,"click","src","alt"],[1,"col-lg-4","col-md-5"],[1,"list-group","mb-4"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"active"],[1,"col-lg-8","col-md-7"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"click"],[1,"mb-1"],[1,"text-muted","me-2"],[1,"badge","bg-primary","mt-2"],[1,"card","shadow-sm"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fs-5","fw-light","text-muted"],[1,"btn","close-detail-btn","btn-sm",3,"click"],[1,"bi","bi-x-lg"],[1,"card-body"],[1,"row","mb-3"],[1,"col-md-6"],[1,"mb-0"],[1,"fw-light","text-muted"],[1,"mb-0","text-wrap"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-end","mt-4"],[1,"text-uppercase","fw-bold","text-muted","product-slug",3,"routerLink"],[1,"text-muted","d-block"],[1,"btn","cancel-order-btn","me-2"],[1,"btn","complete-order-btn","me-2"],["data-bs-toggle","modal","data-bs-target","#reviewDialog",1,"btn","leave-review-btn","me-2"],[1,"btn","cancel-order-btn","me-2",3,"click"],[1,"btn","complete-order-btn","me-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#reviewDialog",1,"btn","leave-review-btn","me-2",3,"click"],[1,"fs-3","fw-light","text-muted","text-uppercase"],["routerLink","/",1,"btn","shopping-now-btn","btn-lg"],[1,"bi","bi-cart","me-2"],[1,"btn","load-more-order-btn",3,"click"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"nav",2)(3,"div",3)(4,"div",4)(5,"div",5),I(6,"img",6),h(),f(7,"h5",7),y(8),h()(),I(9,"hr"),f(10,"ul",8)(11,"li",9)(12,"a",10),I(13,"i",11),y(14),w(15,"translate"),h()(),f(16,"li",9)(17,"a",12),I(18,"i",13),y(19),w(20,"translate"),h()(),f(21,"li",9)(22,"a",14),P("click",function(){return o.loadOrders()}),I(23,"i",15),y(24),w(25,"translate"),h()()()()(),f(26,"main",16)(27,"div",17)(28,"div",18)(29,"span",19),y(30),w(31,"translate"),h(),I(32,"hr"),f(33,"div",20)(34,"div",21)(35,"form",22),P("ngSubmit",function(){return o.onProfileFormSubmit()}),f(36,"div",23)(37,"label",24),y(38),w(39,"translate"),h(),f(40,"div",25),I(41,"input",26),h()(),f(42,"div",23)(43,"label",27),y(44),w(45,"translate"),h(),f(46,"div",25),I(47,"input",28),w(48,"translate"),h()(),f(49,"div",23)(50,"label",29),y(51),w(52,"translate"),h(),f(53,"div",25),I(54,"input",30),w(55,"translate"),h()(),f(56,"div",23)(57,"label",31),y(58),w(59,"translate"),h(),f(60,"div",25),I(61,"input",32),w(62,"translate"),h()(),f(63,"div",23)(64,"label",33),y(65),w(66,"translate"),h(),f(67,"div",25),I(68,"input",34),w(69,"translate"),h()(),f(70,"div",23)(71,"label",35),y(72),w(73,"translate"),w(74,"translate"),h(),f(75,"div",25),I(76,"input",36),w(77,"translate"),h()(),Me(78,oU,7,10,"div",23,Rr),f(80,"div",23)(81,"label",37),y(82),w(83,"translate"),h(),f(84,"div",38)(85,"div",39),I(86,"input",40),f(87,"label",41),y(88),w(89,"translate"),h()(),f(90,"div",39),I(91,"input",42),f(92,"label",43),y(93),w(94,"translate"),h()(),f(95,"div",39),I(96,"input",44),f(97,"label",45),y(98),w(99,"translate"),h()()()(),f(100,"div",23),I(101,"div",46),f(102,"div",25)(103,"button",47),y(104),w(105,"translate"),h()()()()(),f(106,"div",48)(107,"div",49)(108,"input",50),P("change",function(a){return o.previewImage(a)}),h(),f(109,"label",51)(110,"div",52),I(111,"img",53),h()(),f(112,"div",54)(113,"span"),y(114),w(115,"translate"),w(116,"translate"),h()()(),I(117,"hr"),f(118,"div",20)(119,"div",54)(120,"span"),y(121),w(122,"translate"),h()(),f(123,"div",55),P("scroll",function(a){return o.onScrollGallery(a)}),Me(124,sU,3,2,"div",56,ze),h()()()()(),f(126,"div",57)(127,"span",19),y(128),w(129,"translate"),h(),I(130,"hr"),f(131,"div",20)(132,"div",58)(133,"form",22),P("ngSubmit",function(){return o.onPasswordFormSubmit()}),f(134,"div",23)(135,"label",59),y(136),w(137,"translate"),h(),f(138,"div",25),I(139,"input",60),w(140,"translate"),h()(),f(141,"div",23)(142,"label",61),y(143),w(144,"translate"),h(),f(145,"div",25),I(146,"input",62),w(147,"translate"),h()(),f(148,"div",23),I(149,"div",46),f(150,"div",25)(151,"button",47),y(152),w(153,"translate"),h()()()()()()(),f(154,"div",63)(155,"span",19),y(156),w(157,"translate"),h(),I(158,"hr"),Y(159,hU,6,1,"div",20)(160,mU,10,6,"div",64)(161,gU,4,3,"div",65),h()()()()(),f(162,"div",66)(163,"div",67)(164,"div",68)(165,"div",69)(166,"h1",70),y(167),w(168,"translate"),h(),I(169,"button",71),h(),f(170,"form",72)(171,"div",73)(172,"div",74),I(173,"input",75),f(174,"label",76),P("click",function(){return o.onStarClick(1)}),I(175,"i",77),h(),I(176,"input",78),f(177,"label",79),P("click",function(){return o.onStarClick(2)}),I(178,"i",77),h(),I(179,"input",80),f(180,"label",81),P("click",function(){return o.onStarClick(3)}),I(181,"i",77),h(),I(182,"input",82),f(183,"label",83),P("click",function(){return o.onStarClick(4)}),I(184,"i",77),h(),I(185,"input",84),f(186,"label",85),P("click",function(){return o.onStarClick(5)}),I(187,"i",77),h()(),f(188,"div",86)(189,"label",87),y(190),w(191,"translate"),h(),I(192,"textarea",88),h()(),f(193,"div",89)(194,"button",90),y(195),w(196,"translate"),h()()()()()()),i&2&&(m(6),O("src",o.avatarUrl,Ut),m(2),k(o.username),m(6),A("",x(15,57,"PROFILE")," "),m(5),A("",x(20,59,"CHANGE_PASSWORD")," "),m(5),A("",x(25,61,"ORDERS")," "),m(6),k(x(31,63,"PROFILE_INFORMATION")),m(5),O("formGroup",o.userForm),m(3),A(" ",x(39,65,"USERNAME")," "),m(3),O("disabled",!0),m(3),A(" ",x(45,67,"FIRST_NAME")," "),m(3),O("placeholder",x(48,69,"FIRST_NAME")),m(4),A(" ",x(52,71,"LAST_NAME")," "),m(3),O("placeholder",x(55,73,"LAST_NAME")),m(4),A(" ",x(59,75,"EMAIL")," "),m(3),O("placeholder",x(62,77,"EMAIL")),m(4),A(" ",x(66,79,"PHONE_NUMBER")," "),m(3),O("placeholder",x(69,81,"PHONE_NUMBER")),m(4),at(" ",x(73,83,"ADDRESS")," (",x(74,85,"DEFAULT"),") "),m(4),O("placeholder",x(77,87,"ADDRESS")),m(2),De(cn(125,rU)),m(4),A(" ",x(83,89,"GENDER")," "),m(6),A(" ",x(89,91,"MALE")," "),m(5),A(" ",x(94,93,"FEMALE")," "),m(5),A(" ",x(99,95,"OTHERS")," "),m(5),O("disabled",!o.isValidProfileForm||!o.dirtyProfileForm),m(),A(" ",x(105,97,"SAVE")," "),m(7),O("src",o.avatarUrl,Ut),m(3),at("",x(115,99,"FILE_SIZE_LIMIT"),": 1MB. ",x(116,101,"ACCEPTED_FORMAT"),": PNG, JPG."),m(7),A("",x(122,103,"OR_CHOOSE_FROM_UPLOADED"),"."),m(3),De(o.uploaded==null?null:o.uploaded.items),m(4),k(x(129,105,"CHANGE_PASSWORD")),m(5),O("formGroup",o.passwordForm),m(3),A(" ",x(137,107,"NEW_PASSWORD")," "),m(3),O("placeholder",x(140,109,"ENTER_NEW_PASSWORD")),m(4),A(" ",x(144,111,"CONFIRM_PASSWORD")," "),m(3),pe("ng-invalid",o.notMatchedPassword),O("placeholder",x(147,113,"CONFIRM_NEW_PASSWORD")),m(5),O("disabled",o.passwordForm.invalid||!o.passwordForm.dirty),m(),A(" ",x(153,115,"SAVE")," "),m(4),k(x(157,117,"YOUR_ORDERS")),m(3),fe(o.orders.length>0?159:160),m(2),fe(o.orderResponse!=null&&o.orderResponse.hasNext?161:-1),m(6),k(x(168,119,"LEAVE_YOUR_REVIEW")),m(3),O("formGroup",o.reviewForm),m(5),pe("active",o.rating<=1),m(3),pe("active",o.rating<=2),m(3),pe("active",o.rating<=3),m(3),pe("active",o.rating<=4),m(3),pe("active",o.rating<=5),m(3),k(x(191,121,"YOUR_REVIEW")),m(5),k(x(196,123,"SUBMIT")))},dependencies:[Be,on,Qt,Ot,xu,At,Jt,Hy,Gt,Wt,Ie,Te,hn,ur,Bl],styles:[".nav-link[_ngcontent-%COMP%]{color:var(--gray-8);font-size:.95rem}.nav-link.active[_ngcontent-%COMP%]{color:var(--purple-9);font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{color:var(--purple-9)}.avatar[_ngcontent-%COMP%]{width:48px;height:48px;overflow:hidden;border:2px solid var(--gray-6)}.avatar-preview[_ngcontent-%COMP%]{width:128px;height:128px;overflow:hidden;border:2px solid var(--gray-6);box-shadow:0 0 10px #0000001a}.profile[_ngcontent-%COMP%]{border-right:1px solid var(--gray-6);padding-right:1rem}.helper-text[_ngcontent-%COMP%]{text-align:center;font-size:.85rem}.form-control[_ngcontent-%COMP%]{border-radius:0;border:0;border-bottom:1px solid var(--gray-5);padding:.5rem}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-bottom:1px solid var(--purple-9)}.form-control.ng-invalid.ng-dirty[_ngcontent-%COMP%]{border-color:var(--red-7);color:var(--red-7)}.btn-primary[_ngcontent-%COMP%]{border-color:var(--purple-9);background:var(--purple-9);font-weight:500;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--purple-10)}.gallery[_ngcontent-%COMP%]{height:400px;overflow-y:auto}.gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:100%;border-radius:5px;transition:transform .2s ease}.gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05);border:1px solid var(--purple-9)}#orders[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:var(--purple-3);border-color:var(--purple-9);color:var(--purple-10)}#orders[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background:var(--purple-9)!important}#orders[_ngcontent-%COMP%]   .load-more-order-btn[_ngcontent-%COMP%]{padding:1rem;border-radius:0;color:var(--purple-9);border:1px solid var(--purple-9)}#orders[_ngcontent-%COMP%]   .load-more-order-btn[_ngcontent-%COMP%]:hover{background-color:var(--purple-3)}#orders[_ngcontent-%COMP%]   .load-more-order-btn[_ngcontent-%COMP%]:active{color:var(--purple-10);background-color:var(--purple-6)}#orders[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border-radius:0}#orders[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);transition:all .3s ease}#orders[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .view-order-details-btn[_ngcontent-%COMP%]{color:var(--purple-9);font-size:1.25rem}#orders[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .product-slug[_ngcontent-%COMP%]{text-decoration:none;color:var(--purple-9)!important}#orders[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   .product-slug[_ngcontent-%COMP%]:hover{color:var(--purple-10)!important}#orders[_ngcontent-%COMP%]   .cancel-order-btn[_ngcontent-%COMP%]{border:none;border-radius:0;background:var(--gray-3)}#orders[_ngcontent-%COMP%]   .cancel-order-btn[_ngcontent-%COMP%]:hover{background:var(--gray-6)}#orders[_ngcontent-%COMP%]   .complete-order-btn[_ngcontent-%COMP%], #orders[_ngcontent-%COMP%]   .leave-review-btn[_ngcontent-%COMP%]{border:none;border-radius:0;background:var(--purple-9);color:var(--purple-contrast)}#orders[_ngcontent-%COMP%]   .complete-order-btn[_ngcontent-%COMP%]:hover, #orders[_ngcontent-%COMP%]   .leave-review-btn[_ngcontent-%COMP%]:hover{background:var(--purple-10)}#orders[_ngcontent-%COMP%]   .shopping-now-btn[_ngcontent-%COMP%]{border:none;border-radius:0;background:var(--purple-9);color:var(--purple-contrast)}#orders[_ngcontent-%COMP%]   .shopping-now-btn[_ngcontent-%COMP%]:hover{background:var(--purple-10)}#orders[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]{border:1px solid var(--gray-3);border-radius:8px}#orders[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem;background-color:var(--gray-1)}#orders[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.85rem;padding:.25em .5em}#orders[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{font-size:.9rem;color:var(--primary-color)}#orders[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top:1px solid var(--gray-2)}#orders[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid var(--gray-3);border-radius:0}#orders[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-top:2px solid var(--purple-9);border-radius:0;color:var(--purple-9);font-weight:500}#orders[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .close-detail-btn[_ngcontent-%COMP%]{color:var(--purple-9)}#orders[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .order-summary[_ngcontent-%COMP%]{padding:1rem;background-color:var(--gray-2);border-radius:6px}#orders[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{color:var(--purple-9);border:none;border-bottom:1px solid var(--gray-2);padding:.75rem 1rem}#orders[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom:none}#orders[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{transition:all .2s}#orders[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}#orders[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .btn.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:var(--gray-3);color:var(--secondary-color)}.star-rating[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;justify-content:center}.star-rating[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.star-rating[_ngcontent-%COMP%]   label.star[_ngcontent-%COMP%]{font-size:2rem;color:#d3d3d3;cursor:pointer;transition:color .3s ease}.active[_ngcontent-%COMP%], .star-rating[_ngcontent-%COMP%]   label.star[_ngcontent-%COMP%]:hover, .star-rating[_ngcontent-%COMP%]   label.star[_ngcontent-%COMP%]:hover ~ label.star[_ngcontent-%COMP%]{color:var(--purple-9)}"]});let t=e;return t})();var nh=(t,e)=>{let r=H(yn),n=H(mt),i=t.data.expectedRoles,o=r.getUserRoles();return console.log("Expected roles: ",i),console.log("Current roles: ",o),r.isAuthenticated||n.navigate(["/login"],{queryParams:{returnUrl:e.url}}),!i||i.length===0||r.hasAccess(i)?!0:(n.navigate(["forbidden"]),!1)};var Yy=function(t){return t.ADMIN="admin",t}(Yy||{});var vU=(t,e)=>({top:t,left:e});function yU(t,e){if(t&1){let r=ve();f(0,"div",0)(1,"ul")(2,"li",1),P("click",function(){U(r);let i=N();return $(i.onSetFeatured())}),I(3,"i",2),y(4,"Set featured"),h(),f(5,"li",1),P("click",function(){U(r);let i=N();return $(i.onRemove())}),I(6,"i",3),y(7,"Remove"),h()()()}if(t&2){let r=N();O("ngStyle",Bo(1,vU,r.position.y+"px",r.position.x+"px"))}}var aD=(()=>{let e=class e{constructor(){this.visible=!1,this.position={x:0,y:0},this.imageId=null,this.imageSetFeatured=new Ae,this.imageRemove=new Ae}onClick(n){this.visible=!1}onContextMenu(n){n.preventDefault(),this.position.x=n.pageX,this.position.y=n.pageY,this.visible=!0}onSetFeatured(){this.visible=!1,this.imageSetFeatured.emit(this.imageId)}onRemove(){this.visible=!1,this.imageRemove.emit(this.imageId)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ae({type:e,selectors:[["app-context-menu"]],hostBindings:function(i,o){i&1&&P("click",function(a){return o.onClick(a)},!1,Bs)("contextmenu",function(a){return o.onContextMenu(a)})},inputs:{imageId:"imageId"},outputs:{imageSetFeatured:"imageSetFeatured",imageRemove:"imageRemove"},standalone:!0,features:[ge],decls:1,vars:1,consts:[[1,"context-menu",3,"ngStyle"],[3,"click"],[1,"bi","bi-star","me-2"],[1,"bi","bi-trash3","me-2"]],template:function(i,o){i&1&&Y(0,yU,8,4,"div",0),i&2&&fe(o.visible?0:-1)},dependencies:[cf],styles:[".context-menu[_ngcontent-%COMP%]{position:absolute;background-color:#fff;border:1px solid #ccc;box-shadow:0 2px 8px #0003;z-index:1000}.context-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.context-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer}.context-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]});let t=e;return t})();var lD=t=>typeof t>"u"||t===null,bU=t=>t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),CU=t=>{let e={};return Object.keys(t).forEach(r=>{t[r]&&(e[r]=t[r])}),e},rh=t=>{let e=CU(t);return Object.entries(e).map(([r,n])=>`${bU(r)}:${n}`).join(";")},jl=class extends Error{constructor(e){super(e),this.name=this.constructor.name}},Jy=()=>{let t=Date.now().toString(36),e=Math.random().toString(36).substring(2,7);return`${t}${e}`},cD=(t,e,r)=>Math.min(Math.max(t,e),r);function jn(t){this.content=t}jn.prototype={constructor:jn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),o=n.content.slice();return i==-1?o.push(r||t,e):(o[i+1]=e,r&&(o[i]=r)),new jn(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new jn(r)},addToStart:function(t,e){return new jn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new jn(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),o=n.find(t);return i.splice(o==-1?i.length:o,0,e,r),new jn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=jn.from(t),t.size?new jn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=jn.from(t),t.size?new jn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=jn.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};jn.from=function(t){if(t instanceof jn)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new jn(e)};var Qy=jn;function bD(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),o=e.child(n);if(i==o){r+=i.nodeSize;continue}if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)r++;return r}if(i.content.size||o.content.size){let s=bD(i.content,o.content,r+1);if(s!=null)return s}r+=i.nodeSize}}function CD(t,e,r,n){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:r,b:n};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){r-=l,n-=l;continue}if(!s.sameMarkup(a))return{a:r,b:n};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(s.content.size||a.content.size){let c=CD(s.content,a.content,r-1,n-1);if(c)return c}r-=l,n-=l}}var oe=class t{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,o){for(let s=0,a=0;a<r;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&n(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,r-u),n,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let o="",s=!0;return this.nodesBetween(e,r,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,r-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(s?s=!1:o+=n),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),o=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new t(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let o=0,s=0;s<r;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>r)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,r-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,r-s-1))),n.push(a),i+=a.nodeSize),s=l}return new t(n,i)}cutByIndex(e,r){return e==r?t.empty:e==0&&r==this.content.length?this:new t(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),o=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new t(i,o)}addToStart(e){return new t([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new t(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return bD(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return CD(this,e,r,n)}findIndex(e,r=-1){if(e==0)return ih(0,e);if(e==this.size)return ih(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let o=this.child(n),s=i+o.nodeSize;if(s>=e)return s==e||r>0?ih(n+1,s):ih(n,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return t.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new t(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return t.empty;let r,n=0;for(let i=0;i<e.length;i++){let o=e[i];n+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(r||(r=e.slice(0,i)),r[r.length-1]=o.withText(r[r.length-1].text+o.text)):r&&r.push(o)}return new t(r||e,n)}static from(e){if(!e)return t.empty;if(e instanceof t)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new t([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};oe.empty=new oe([],0);var Xy={index:0,offset:0};function ih(t,e){return Xy.index=t,Xy.offset=e,Xy}function sh(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!sh(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!sh(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}var Ct=(()=>{class t{constructor(r,n){this.type=r,this.attrs=n}addToSet(r){let n,i=!1;for(let o=0;o<r.length;o++){let s=r[o];if(this.eq(s))return r;if(this.type.excludes(s.type))n||(n=r.slice(0,o));else{if(s.type.excludes(this.type))return r;!i&&s.type.rank>this.type.rank&&(n||(n=r.slice(0,o)),n.push(this),i=!0),n&&n.push(s)}}return n||(n=r.slice()),i||n.push(this),n}removeFromSet(r){for(let n=0;n<r.length;n++)if(this.eq(r[n]))return r.slice(0,n).concat(r.slice(n+1));return r}isInSet(r){for(let n=0;n<r.length;n++)if(this.eq(r[n]))return!0;return!1}eq(r){return this==r||this.type==r.type&&sh(this.attrs,r.attrs)}toJSON(){let r={type:this.type.name};for(let n in this.attrs){r.attrs=this.attrs;break}return r}static fromJSON(r,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=r.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=i.create(n.attrs);return i.checkAttrs(o.attrs),o}static sameSet(r,n){if(r==n)return!0;if(r.length!=n.length)return!1;for(let i=0;i<r.length;i++)if(!r[i].eq(n[i]))return!1;return!0}static setFrom(r){if(!r||Array.isArray(r)&&r.length==0)return t.none;if(r instanceof t)return[r];let n=r.slice();return n.sort((i,o)=>i.type.rank-o.type.rank),n}}return t.none=[],t})(),sa=class extends Error{},he=class t{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=_D(this.content,e+this.openStart,r);return n&&new t(n,this.openStart,this.openEnd)}removeBetween(e,r){return new t(wD(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return t.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new t(oe.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.lastChild)i++;return new t(e,n,i)}};he.empty=new he(oe.empty,0,0);function wD(t,e,r){let{index:n,offset:i}=t.findIndex(e),o=t.maybeChild(n),{index:s,offset:a}=t.findIndex(r);if(i==e||o.isText){if(a!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,o.copy(wD(o.content,e-i-1,r-i-1)))}function _D(t,e,r,n){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let a=_D(s.content,e-o-1,r);return a&&t.replaceChild(i,s.copy(a))}function wU(t,e,r){if(r.openStart>t.depth)throw new sa("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new sa("Inconsistent open depths");return xD(t,e,r,0)}function xD(t,e,r,n){let i=t.index(n),o=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let s=xD(t,e,r,n+1);return o.copy(o.content.replaceChild(i,s))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let s=t.parent,a=s.content;return oa(s,a.cut(0,t.parentOffset).append(r.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=_U(r,t);return oa(o,ED(t,s,a,e,n))}else return oa(o,ah(t,e,n))}function SD(t,e){if(!e.type.compatibleContent(t.type))throw new sa("Cannot join "+e.type.name+" onto "+t.type.name)}function t1(t,e,r){let n=t.node(r);return SD(n,e.node(r)),n}function ia(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Iu(t,e,r,n){let i=(e||t).node(r),o=0,s=e?e.index(r):i.childCount;t&&(o=t.index(r),t.depth>r?o++:t.textOffset&&(ia(t.nodeAfter,n),o++));for(let a=o;a<s;a++)ia(i.child(a),n);e&&e.depth==r&&e.textOffset&&ia(e.nodeBefore,n)}function oa(t,e){return t.type.checkContent(e),t.copy(e)}function ED(t,e,r,n,i){let o=t.depth>i&&t1(t,e,i+1),s=n.depth>i&&t1(r,n,i+1),a=[];return Iu(null,t,i,a),o&&s&&e.index(i)==r.index(i)?(SD(o,s),ia(oa(o,ED(t,e,r,n,i+1)),a)):(o&&ia(oa(o,ah(t,e,i+1)),a),Iu(e,r,i,a),s&&ia(oa(s,ah(r,n,i+1)),a)),Iu(n,null,i,a),new oe(a)}function ah(t,e,r){let n=[];if(Iu(null,t,r,n),t.depth>r){let i=t1(t,e,r+1);ia(oa(i,ah(t,e,r+1)),n)}return Iu(e,null,r,n),new oe(n)}function _U(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let o=r-1;o>=0;o--)i=e.node(o).copy(oe.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}var lh=class t{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let o=0;o<e;o++)i+=n.child(o).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Ct.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let a=n;n=i,i=a}let o=n.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new aa(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,o=r;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(n.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new t(r,n,o)}static resolveCached(e,r){let n=uD.get(e);if(n)for(let o=0;o<n.elts.length;o++){let s=n.elts[o];if(s.pos==r)return s}else uD.set(e,n=new n1);let i=n.elts[n.i]=t.resolve(e,r);return n.i=(n.i+1)%xU,i}},n1=class{constructor(){this.elts=[],this.i=0}},xU=12,uD=new WeakMap,aa=class{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},SU=Object.create(null),Ai=class t{constructor(e,r,n,i=Ct.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||oe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&sh(this.attrs,r||e.defaultAttrs||SU)&&Ct.sameSet(this.marks,n||Ct.none)}copy(e=null){return e==this.content?this:new t(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new t(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return he.empty;let i=this.resolve(e),o=this.resolve(r),s=n?0:i.sharedDepth(r),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new he(c,i.depth-s,o.depth-s)}replace(e,r,n){return wU(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return lh.resolveCached(this,e)}resolveNoCache(e){return lh.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,o=>(n.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ID(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=oe.empty,i=0,o=n.childCount){let s=this.contentMatchAt(e).matchFragment(n,i,o),a=s&&s.matchFragment(this.content,r);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(n),s=o&&o.matchFragment(this.content,r);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ct.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Ct.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=oe.fromJSON(e,r.content),o=e.nodeType(r.type).create(r.attrs,i,n);return o.type.checkAttrs(o.attrs),o}};Ai.prototype.text=void 0;var r1=class t extends Ai{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ID(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function ID(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}var la=class t{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new i1(e,r);if(n.next==null)return t.empty;let i=MD(n);n.next&&n.err("Unexpected trailing text");let o=OU(TU(i));return AU(o,n),o}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let o=r;i&&o<n;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function o(s,a){let l=s.matchFragment(e,n);if(l&&(!r||l.validEnd))return oe.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let v=o(d,a.concat(u));if(v)return v}}return null}return o(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in r)&&(!i.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:i}),r[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let o=i+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)o+=(s?", ":"")+n.next[s].type.name+"->"+e.indexOf(n.next[s].next);return o}).join(`
`)}};la.empty=new la(!0);var i1=class{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function MD(t){let e=[];do e.push(EU(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function EU(t){let e=[];do e.push(IU(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function IU(t){let e=kU(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=MU(t,e);else break;return e}function dD(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function MU(t,e){let r=dD(t),n=r;return t.eat(",")&&(t.next!="}"?n=dD(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function DU(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let o in r){let s=r[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function kU(t){if(t.eat("(")){let e=MD(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=DU(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function TU(t){let e=[[]];return i(o(t,0),r()),e;function r(){return e.push([])-1}function n(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=r())}else if(s.type=="star"){let l=r();return n(a,l),i(o(s.expr,l),l),[n(l)]}else if(s.type=="plus"){let l=r();return i(o(s.expr,a),l),i(o(s.expr,l),l),[n(l)]}else{if(s.type=="opt")return[n(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=r();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=r();n(l,u),i(o(s.expr,l),u),l=u}return[n(l)]}else{if(s.type=="name")return[n(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function DD(t,e){return e-t}function pD(t,e){let r=[];return n(e),r.sort(DD);function n(i){let o=t[i];if(o.length==1&&!o[0].term)return n(o[0].to);r.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&r.indexOf(l)==-1&&n(l)}}}function OU(t){let e=Object.create(null);return r(pD(t,0));function r(n){let i=[];n.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);pD(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[n.join(",")]=new la(n.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(DD);o.next.push({type:i[s][0],next:e[a.join(",")]||r(a)})}return o}}function AU(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),n.indexOf(c)==-1&&n.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kD(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function TD(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let o=t[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function OD(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function AD(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new o1(t,n,e[n]);return r}var ch=class t{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=AD(e,n.attrs),this.defaultAttrs=kD(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==la.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:TD(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ai(this,this.computeAttrs(e),oe.from(r),Ct.setFrom(n))}createChecked(e=null,r,n){return r=oe.from(r),this.checkContent(r),new Ai(this,this.computeAttrs(e),r,Ct.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=oe.from(r),r.size){let s=this.contentMatch.fillBefore(r);if(!s)return null;r=s.append(r)}let i=this.contentMatch.matchFragment(r),o=i&&i.fillBefore(oe.empty,!0);return o?new Ai(this,e,r.append(o),Ct.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){OD(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Ct.none:e}static compile(e,r){let n=Object.create(null);e.forEach((o,s)=>n[o]=new t(o,r,s));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function PU(t,e,r){let n=r.split("|");return i=>{let o=i===null?"null":typeof i;if(n.indexOf(o)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${o}`)}}var o1=class{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?PU(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}},Du=class t{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=AD(e,i.attrs),this.excluded=null;let o=kD(this.attrs);this.instance=o?new Ct(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ct(this,TD(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((o,s)=>n[o]=new t(o,i++,r,s)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){OD(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}},uh=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=Qy.from(e.nodes),r.marks=Qy.from(e.marks||{}),this.nodes=ch.compile(this.spec.nodes,this),this.marks=Du.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=n[s]||(n[s]=la.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?fD(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:fD(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ch){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new r1(n,n.defaultAttrs,e,Ct.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Ai.fromJSON(this,e)}markFromJSON(e){return Ct.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}};function fD(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],o=t.marks[i],s=o;if(o)r.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function NU(t){return t.tag!=null}function RU(t){return t.style!=null}var es=class t{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(NU(i))this.tags.push(i);else if(RU(i)){let o=/[^=]*/.exec(i.style)[0];n.indexOf(o)<0&&n.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,r={}){let n=new fh(this,r,!1);return n.addAll(e,Ct.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new fh(this,r,!0);return n.addAll(e,Ct.none,r.from,r.to),he.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(VU(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||r.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,r,n,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!n.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=r))){if(s.getAttrs){let l=s.getAttrs(r);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let r=[];function n(i){let o=i.priority==null?50:i.priority,s=0;for(;s<r.length;s++){let a=r[s];if((a.priority==null?50:a.priority)<o)break}r.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{n(s=mD(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{n(s=mD(s)),s.node||s.ignore||s.mark||(s.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new t(e,t.schemaRules(e)))}},PD={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},FU={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ND={ol:!0,ul:!0},dh=1,ph=2,Mu=4;function hD(t,e,r){return e!=null?(e?dh:0)|(e==="full"?ph:0):t&&t.whitespace=="pre"?dh|ph:r&~Mu}var Ul=class{constructor(e,r,n,i,o,s){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=s,this.content=[],this.activeMarks=Ct.none,this.match=o||(s&Mu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(oe.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&dh)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let o=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let r=oe.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(oe.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!PD.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},fh=class{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0;let i=r.topNode,o,s=hD(null,r.preserveWhitespace,0)|(n?Mu:0);i?o=new Ul(i.type,i.attrs,Ct.none,!0,r.topMatch||i.type.contentMatch,s):n?o=new Ul(null,null,Ct.none,!0,null,s):o=new Ul(e.schema.topNodeType,null,Ct.none,!0,null,s),this.nodes=[o],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top;if(i.options&ph||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i.options&dh)i.options&ph?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=e.nodeName.toLowerCase(),o;ND.hasOwnProperty(i)&&this.parser.normalizeLists&&LU(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));if(s?s.ignore:FU.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,r);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let a,l=this.top,c=this.needsBlock;if(PD.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);return}let u=s&&s.skip?r:this.readStyles(e,r);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,r);a&&this.addElementByRule(e,s,a,s.consuming===!1?o:void 0)}}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=n.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return r}addElementByRule(e,r,n,i){let o,s;if(r.node)if(s=this.parser.schema.nodes[r.node],s.isLeaf)this.insertNode(s.create(r.attrs),n)||this.leafFallback(e,n);else{let l=this.enter(s,r.attrs||null,n,r.preserveWhitespace);l&&(o=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,r,n,i){let o=n||0;for(let s=n?e.childNodes[n]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,r);this.findAtPoint(e,o)}findPlace(e,r){let n,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!n||n.length>a.length)&&(n=a,i=s,!a.length)||s.solid)break}if(!n)return null;this.sync(i);for(let o=0;o<n.length;o++)r=this.enterInner(n[o],null,r,!1);return r}insertNode(e,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let n=this.findPlace(e,r);if(n){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Ct.none;for(let s of n.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):gD(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,r,n,i){let o=this.findPlace(e.create(r),n);return o&&(o=this.enterInner(e,r,n,!0,i)),o}enterInner(e,r,n,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=hD(e,o,s.options);s.options&Mu&&s.content.length==0&&(a|=Mu);let l=Ct.none;return n=n.filter(c=>(s.type?s.type.allowsMarkType(c.type):gD(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Ul(e,r,l,i,null,a)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let r=this.open;r>=0;r--)if(this.nodes[r]==e)return this.open=r,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=r[a];if(c==""){if(a==r.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:n&&l>=o?n.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}};function LU(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&ND.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function VU(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function mD(t){let e={};for(let r in t)e[r]=t[r];return e}function gD(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}var fo=class t{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=e1(r).createDocumentFragment());let i=n,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,r);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=oh(e1(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,r);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&oh(e1(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return oh(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new t(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=vD(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return vD(e.marks)}};function vD(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function e1(t){return t.document||window.document}var yD=new WeakMap;function BU(t){let e=yD.get(t);return e===void 0&&yD.set(t,e=jU(t)),e}function jU(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function oh(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(o=BU(n))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let a,l=r?t.createElementNS(r,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let v=d.indexOf(" ");v>0?l.setAttributeNS(d.slice(0,v),d.slice(v+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let v=e[d];if(v===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:C,contentDOM:_}=oh(t,v,r,n);if(l.appendChild(C),_){if(a)throw new RangeError("Multiple content holes");a=_}}}return{dom:l,contentDOM:a}}var LD=65535,VD=Math.pow(2,16);function UU(t,e){return t+e*VD}function RD(t){return t&LD}function $U(t){return(t-(t&LD))/VD}var BD=1,jD=2,hh=4,UD=8,Ou=class{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&UD)>0}get deletedBefore(){return(this.delInfo&(BD|hh))>0}get deletedAfter(){return(this.delInfo&(jD|hh))>0}get deletedAcross(){return(this.delInfo&hh)>0}},ho=class t{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&t.empty)return t.empty}recover(e){let r=0,n=RD(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+$U(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let v=c?e==l?-1:e==d?1:r:r,C=l+i+(v<0?0:u);if(n)return C;let _=e==(r<0?l:d)?null:UU(a/3,e-l),S=e==l?jD:e==d?BD:hh;return(r<0?e!=l:e!=d)&&(S|=UD),new Ou(C,S,_)}i+=u-c}return n?e+i:new Ou(e+i,0,null)}touches(e,r){let n=0,i=RD(r),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;n+=this.ranges[a+s]-c}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+r],u=this.ranges[i+n];e(a,a+c,l,l+u),o+=u-c}}invert(){return new t(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?t.empty:new t(e<0?[0,-e,0]:[0,0,e])}};ho.empty=new ho([]);var Au=class t{constructor(e=[],r,n=0,i=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=i}slice(e=0,r=this.maps.length){return new t(this.maps,this.mirror,e,r)}copy(){return new t(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let i=e.getMirror(r);this.appendMap(e.maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e.maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new t;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,r);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return n?e:new Ou(e,i,null)}},s1=Object.create(null),Cn=class{getMap(){return ho.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=s1[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in s1)throw new RangeError("Duplicate use of step JSON ID "+e);return s1[e]=r,r.prototype.jsonID=e,r}},kn=class t{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new t(e,null)}static fail(e){return new t(null,e)}static fromReplace(e,r,n,i){try{return t.ok(e.replace(r,n,i))}catch(o){if(o instanceof sa)return t.fail(o.message);throw o}}};function d1(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(d1(o.content,e,o))),o.isInline&&(o=e(o,r,i)),n.push(o)}return oe.fromArray(n)}var Pu=class t extends Cn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new he(d1(r.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),r.openStart,r.openEnd);return kn.fromReplace(e,this.from,this.to,o)}invert(){return new ca(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new t(r.pos,n.pos,this.mark)}merge(e){return e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(r.from,r.to,e.markFromJSON(r.mark))}};Cn.jsonID("addMark",Pu);var ca=class t extends Cn{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new he(d1(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return kn.fromReplace(e,this.from,this.to,n)}invert(){return new Pu(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new t(r.pos,n.pos,this.mark)}merge(e){return e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(r.from,r.to,e.markFromJSON(r.mark))}};Cn.jsonID("removeMark",ca);var Nu=class t extends Cn{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return kn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return kn.fromReplace(e,this.pos,this.pos+1,new he(oe.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new t(this.pos,r.marks[i]);return new t(this.pos,this.mark)}}return new Ru(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new t(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new t(r.pos,e.markFromJSON(r.mark))}};Cn.jsonID("addNodeMark",Nu);var Ru=class t extends Cn{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return kn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return kn.fromReplace(e,this.pos,this.pos+1,new he(oe.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Nu(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new t(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new t(r.pos,e.markFromJSON(r.mark))}};Cn.jsonID("removeNodeMark",Ru);var Ir=class t extends Cn{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&c1(e,this.from,this.to)?kn.fail("Structure replace would overwrite content"):kn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ho([this.from,this.to-this.from,this.slice.size])}invert(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new t(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?he.empty:new he(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?he.empty:new he(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(r.from,r.to,he.fromJSON(e,r.slice),!!r.structure)}};Cn.jsonID("replace",Ir);var wn=class t extends Cn{constructor(e,r,n,i,o,s,a=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(c1(e,this.from,this.gapFrom)||c1(e,this.gapTo,this.to)))return kn.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return kn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?kn.fromReplace(e,this.from,this.to,n):kn.fail("Content does not fit in gap")}getMap(){return new ho([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||o>n.pos?null:new t(r.pos,n.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(r.from,r.to,r.gapFrom,r.gapTo,he.fromJSON(e,r.slice),r.insert,!!r.structure)}};Cn.jsonID("replaceAround",wn);function c1(t,e,r){let n=t.resolve(e),i=r-e,o=n.depth;for(;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0){let s=n.node(o).maybeChild(n.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function HU(t,e,r,n){let i=[],o=[],s,a;t.doc.nodesBetween(e,r,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!n.isInSet(d)&&u.type.allowsMarkType(n.type)){let v=Math.max(c,e),C=Math.min(c+l.nodeSize,r),_=n.addToSet(d);for(let S=0;S<d.length;S++)d[S].isInSet(_)||(s&&s.to==v&&s.mark.eq(d[S])?s.to=C:i.push(s=new ca(v,C,d[S])));a&&a.to==v?a.to=C:o.push(a=new Pu(v,C,n))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function zU(t,e,r,n){let i=[],o=0;t.doc.nodesBetween(e,r,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(n instanceof Du){let c=s.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(s.marks)&&(l=[n]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,r);for(let u=0;u<l.length;u++){let d=l[u],v;for(let C=0;C<i.length;C++){let _=i[C];_.step==o-1&&d.eq(i[C].style)&&(v=_)}v?(v.to=c,v.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>t.step(new ca(s.from,s.to,s.style)))}function p1(t,e,r,n=r.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=n.matchType(c.type);if(!d)s.push(new Ir(a,u,he.empty));else{n=d;for(let v=0;v<c.marks.length;v++)r.allowsMarkType(c.marks[v].type)||t.step(new ca(a,u,c.marks[v]));if(i&&c.isText&&r.whitespace!="pre"){let v,C=/\r?\n|\r/g,_;for(;v=C.exec(c.text);)_||(_=new he(oe.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),s.push(new Ir(a+v.index,a+v.index+v[0].length,_))}}a=u}if(!n.validEnd){let l=n.fillBefore(oe.empty,!0);t.replace(a,a,new he(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function qU(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function ua(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),o=t.$from.index(n),s=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(o,s,r))return n;if(n==0||i.type.spec.isolating||!qU(i,o,s))break}return null}function GU(t,e,r){let{$from:n,$to:i,depth:o}=e,s=n.before(o+1),a=i.after(o+1),l=s,c=a,u=oe.empty,d=0;for(let _=o,S=!1;_>r;_--)S||n.index(_)>0?(S=!0,u=oe.from(n.node(_).copy(u)),d++):l--;let v=oe.empty,C=0;for(let _=o,S=!1;_>r;_--)S||i.after(_+1)<i.end(_)?(S=!0,v=oe.from(i.node(_).copy(v)),C++):c++;t.step(new wn(l,c,s,a,new he(u.append(v),d,C),u.size-d,!0))}function Hl(t,e,r=null,n=t){let i=WU(t,e),o=i&&KU(n,e);return o?i.map(FD).concat({type:e,attrs:r}).concat(o.map(FD)):null}function FD(t){return{type:t,attrs:null}}function WU(t,e){let{parent:r,startIndex:n,endIndex:i}=t,o=r.contentMatchAt(n).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return r.canReplaceWith(n,i,s)?o:null}function KU(t,e){let{parent:r,startIndex:n,endIndex:i}=t,o=r.child(n),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=n;l&&c<i;c++)l=l.matchType(r.child(c).type);return!l||!l.validEnd?null:s}function ZU(t,e,r){let n=oe.empty;for(let s=r.length-1;s>=0;s--){if(n.size){let a=r[s].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=oe.from(r[s].type.create(r[s].attrs,n))}let i=e.start,o=e.end;t.step(new wn(i,o,i,o,new he(n,0,0),r.length,!0))}function YU(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,r,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(n,l)&&JU(t.doc,t.mapping.slice(o).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let C=n.whitespace=="pre",_=!!n.contentMatch.matchType(n.schema.linebreakReplacement);C&&!_?c=!1:!C&&_&&(c=!0)}c===!1&&HD(t,s,a,o),p1(t,t.mapping.slice(o).map(a,1),n,void 0,c===null);let u=t.mapping.slice(o),d=u.map(a,1),v=u.map(a+s.nodeSize,1);return t.step(new wn(d,v,d+1,v-1,new he(oe.from(n.create(l,null,s.marks)),0,0),1,!0)),c===!0&&$D(t,s,a,o),!1}})}function $D(t,e,r,n){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=t.mapping.slice(n).map(r+1+o+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function HD(t,e,r,n){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(n).map(r+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function JU(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function QU(t,e,r,n,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");r||(r=o.type);let s=r.create(n,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!r.validContent(o.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new wn(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new he(oe.from(s),0,0),1,!0))}function ts(t,e,r=1,n){let i=t.resolve(e),o=i.depth-r,s=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=r-2;c>o;c--,u--){let d=i.node(c),v=i.index(c);if(d.type.spec.isolating)return!1;let C=d.content.cutByIndex(v,d.childCount),_=n&&n[u+1];_&&(C=C.replaceChild(0,_.type.create(_.attrs)));let S=n&&n[u]||d;if(!d.canReplace(v+1,d.childCount)||!S.type.validContent(C))return!1}let a=i.indexAfter(o),l=n&&n[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function XU(t,e,r=1,n){let i=t.doc.resolve(e),o=oe.empty,s=oe.empty;for(let a=i.depth,l=i.depth-r,c=r-1;a>l;a--,c--){o=oe.from(i.node(a).copy(o));let u=n&&n[c];s=oe.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}t.step(new Ir(e,e,new he(o.append(s),r,r),!0))}function da(t,e){let r=t.resolve(e),n=r.index();return t$(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function e$(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==n?t.type.schema.nodes.text:o.type;if(r=r.matchType(s),!r||!t.type.allowsMarks(o.marks))return!1}return r.validEnd}function t$(t,e){return!!(t&&e&&!t.isLeaf&&e$(t,e))}function n$(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-r),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?n=!1:!u&&d&&(n=!0)}let a=t.steps.length;if(n===!1){let u=t.doc.resolve(e+r);HD(t,u.node(),u.before(),a)}s.inlineContent&&p1(t,e+r-1,s,o.node().contentMatchAt(o.index()),n==null);let l=t.mapping.slice(a),c=l.map(e-r);if(t.step(new Ir(c,l.map(e+r,-1),he.empty,!0)),n===!0){let u=t.doc.resolve(c);$D(t,u.node(),u.before(),t.steps.length)}return t}function r$(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let o=n.index(i);if(n.node(i).canReplaceWith(o,o,r))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let o=n.indexAfter(i);if(n.node(i).canReplaceWith(o,o,r))return n.after(i+1);if(o<n.node(i).childCount)return null}return null}function zD(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let o=0;o<r.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(r.openStart==0&&r.size?2:1);o++)for(let s=n.depth;s>=0;s--){let a=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,l=n.index(s)+(a>0?1:0),c=n.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?n.pos:a<0?n.before(s+1):n.after(s+1)}return null}function yh(t,e,r=e,n=he.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),o=t.resolve(r);return qD(i,o,n)?new Ir(e,r,n):new u1(i,o,n).fit()}function qD(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}var u1=class{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=oe.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=oe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let o=this.placed,s=n.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new he(o,s,a);return e>-1?new wn(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new Ir(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let o=r.firstChild;if(r.childCount>1&&(i=0),o.type.spec.isolating&&i<=n){e=n;break}r=o.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,o=null;n?(o=a1(this.unplaced.content,n-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(r==1&&(s?c.matchType(s.type)||(d=c.fillBefore(oe.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:n,frontierDepth:a,parent:o,inject:d};if(r==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=a1(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new he(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=a1(e,r);if(i.childCount<=1&&r>0){let o=e.size-r<=r+i.size;this.unplaced=new he(ku(e,r-1,1),r-1,o?r-1:n)}else this.unplaced=new he(ku(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:o}){for(;this.depth>r;)this.closeFrontierNode();if(o)for(let S=0;S<o.length;S++)this.openFrontierNode(o[S]);let s=this.unplaced,a=n?n.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:v}=this.frontier[r];if(i){for(let S=0;S<i.childCount;S++)u.push(i.child(S));d=d.matchFragment(i)}let C=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let S=a.child(c),M=d.matchType(S.type);if(!M)break;c++,(c>1||l==0||S.content.size)&&(d=M,u.push(GD(S.mark(v.allowedMarks(S.marks)),c==1?l:0,c==a.childCount?C:-1)))}let _=c==a.childCount;_||(C=-1),this.placed=Tu(this.placed,r,oe.from(u)),this.frontier[r].match=d,_&&C<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,M=a;S<C;S++){let L=M.lastChild;this.frontier.push({type:L.type,match:L.contentMatchAt(L.childCount)}),M=L.content}this.unplaced=_?e==0?he.empty:new he(ku(s.content,e-1,1),e-1,C<0?s.openEnd:e-1):new he(ku(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!l1(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],o=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),s=l1(e,r,i,n,o);if(s){for(let a=r-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=l1(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:r,fit:s,move:o?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Tu(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Tu(this.placed,this.depth,oe.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(oe.empty,!0);r.childCount&&(this.placed=Tu(this.placed,this.frontier.length,r))}};function ku(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(ku(t.firstChild.content,e-1,r)))}function Tu(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(Tu(t.lastChild.content,e-1,r)))}function a1(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function GD(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,GD(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(oe.empty,!0)))),t.copy(n)}function l1(t,e,r,n,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!r.compatibleContent(o.type))return null;let a=n.fillBefore(o.content,!0,s);return a&&!i$(r,o.content,s)?a:null}function i$(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function o$(t){return t.spec.defining||t.spec.definingForContent}function s$(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),o=t.doc.resolve(r);if(qD(i,o,n))return t.step(new Ir(e,r,n));let s=KD(i,t.doc.resolve(r));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let v=i.depth,C=i.pos-1;v>0;v--,C--){let _=i.node(v).type.spec;if(_.defining||_.definingAsContext||_.isolating)break;s.indexOf(v)>-1?a=v:i.before(v)==C&&s.splice(1,0,-v)}let l=s.indexOf(a),c=[],u=n.openStart;for(let v=n.content,C=0;;C++){let _=v.firstChild;if(c.push(_),C==n.openStart)break;v=_.content}for(let v=u-1;v>=0;v--){let C=c[v],_=o$(C.type);if(_&&!C.sameMarkup(i.node(Math.abs(a)-1)))u=v;else if(_||!C.type.isTextblock)break}for(let v=n.openStart;v>=0;v--){let C=(v+u+1)%(n.openStart+1),_=c[C];if(_)for(let S=0;S<s.length;S++){let M=s[(S+l)%s.length],L=!0;M<0&&(L=!1,M=-M);let re=i.node(M-1),ue=i.index(M-1);if(re.canReplaceWith(ue,ue,_.type,_.marks))return t.replace(i.before(M),L?o.after(M):r,new he(WD(n.content,0,n.openStart,C),C,n.openEnd))}}let d=t.steps.length;for(let v=s.length-1;v>=0&&(t.replace(e,r,n),!(t.steps.length>d));v--){let C=s[v];C<0||(e=i.before(C),r=o.after(C))}}function WD(t,e,r,n,i){if(e<r){let o=t.firstChild;t=t.replaceChild(0,o.copy(WD(o.content,e+1,r,n,o)))}if(e>n){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(oe.empty,!0))}return t}function a$(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=r$(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new he(oe.from(n),0,0))}function l$(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),o=KD(n,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return t.delete(n.start(a),i.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),i.indexAfter(a-1))))return t.delete(n.before(a),i.after(a))}for(let s=1;s<=n.depth&&s<=i.depth;s++)if(e-n.start(s)==n.depth-s&&r>n.end(s)&&i.end(s)-r!=i.depth-s&&n.start(s-1)==i.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),i.index(s-1)))return t.delete(n.before(s),r);t.delete(e,r)}function KD(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&r.push(i)}return r}var mh=class t extends Cn{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return kn.fail("No node at attribute step's position");let n=Object.create(null);for(let o in r.attrs)n[o]=r.attrs[o];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return kn.fromReplace(e,this.pos,this.pos+1,new he(oe.from(i),0,r.isLeaf?0:1))}getMap(){return ho.empty}invert(e){return new t(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new t(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new t(r.pos,r.attr,r.value)}};Cn.jsonID("attr",mh);var gh=class t extends Cn{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return kn.ok(n)}getMap(){return ho.empty}invert(e){return new t(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new t(r.attr,r.value)}};Cn.jsonID("docAttr",gh);var $l=class extends Error{};$l=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};$l.prototype=Object.create(Error.prototype);$l.prototype.constructor=$l;$l.prototype.name="TransformError";var vh=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Au}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new $l(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=he.empty){let i=yh(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new he(oe.from(n),0,0))}delete(e,r){return this.replace(e,r,he.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return s$(this,e,r,n),this}replaceRangeWith(e,r,n){return a$(this,e,r,n),this}deleteRange(e,r){return l$(this,e,r),this}lift(e,r){return GU(this,e,r),this}join(e,r=1){return n$(this,e,r),this}wrap(e,r){return ZU(this,e,r),this}setBlockType(e,r=e,n,i=null){return YU(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return QU(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new mh(e,r,n)),this}setDocAttribute(e,r){return this.step(new gh(e,r)),this}addNodeMark(e,r){return this.step(new Nu(e,r)),this}removeNodeMark(e,r){if(!(r instanceof Ct)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new Ru(e,r)),this}split(e,r=1,n){return XU(this,e,r,n),this}addMark(e,r,n){return HU(this,e,r,n),this}removeMark(e,r,n){return zU(this,e,r,n),this}clearIncompatible(e,r,n){return p1(this,e,r,n),this}};var f1=Object.create(null),Je=class{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new ql(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=he.empty){let n=r.content.lastChild,i=null;for(let a=0;a<r.openEnd;a++)i=n,n=n.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?he.empty:r),a==0&&JD(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(n),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,r),JD(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new gt(e):zl(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=r<0?zl(e.node(0),e.node(o),e.before(o+1),e.index(o),r,n):zl(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,r,n);if(s)return s}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Mr(e.node(0))}static atStart(e){return zl(e,e,0,0,1)||new Mr(e)}static atEnd(e){return zl(e,e,e.content.size,e.childCount,-1)||new Mr(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=f1[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in f1)throw new RangeError("Duplicate use of selection JSON ID "+e);return f1[e]=r,r.prototype.jsonID=e,r}getBookmark(){return gt.between(this.$anchor,this.$head).getBookmark()}};Je.prototype.visible=!0;var ql=class{constructor(e,r){this.$from=e,this.$to=r}},ZD=!1;function YD(t){!ZD&&!t.parent.inlineContent&&(ZD=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}var gt=class t extends Je{constructor(e,r=e){YD(e),YD(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return Je.near(n);let i=e.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:n,n)}replace(e,r=he.empty){if(super.replace(e,r),r==he.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ch(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let o=Je.findFrom(r,n,!0)||Je.findFrom(r,-n,!0);if(o)r=o.$head;else return Je.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(Je.findFrom(e,-n,!0)||Je.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new t(e,r)}};Je.jsonID("text",gt);var Ch=class t{constructor(e,r){this.anchor=e,this.head=r}map(e){return new t(e.map(this.anchor),e.map(this.head))}resolve(e){return gt.between(e.resolve(this.anchor),e.resolve(this.head))}},Ne=class t extends Je{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),o=e.resolve(i);return n?Je.near(o):new t(o)}content(){return new he(oe.from(this.node),0,0)}eq(e){return e instanceof t&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new m1(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(r.anchor))}static create(e,r){return new t(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};Ne.prototype.visible=!1;Je.jsonID("node",Ne);var m1=class t{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Ch(n,n):new t(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Ne.isSelectable(n)?new Ne(r):Je.near(r)}},Mr=class t extends Je{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=he.empty){if(r==he.empty){e.delete(0,e.doc.content.size);let n=Je.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new t(e)}map(e){return new t(e)}eq(e){return e instanceof t}getBookmark(){return c$}};Je.jsonID("all",Mr);var c$={map(){return this},resolve(t){return new Mr(t)}};function zl(t,e,r,n,i,o=!1){if(e.inlineContent)return gt.create(t,r);for(let s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&Ne.isSelectable(a))return Ne.create(t,r-(i<0?a.nodeSize:0))}else{let l=zl(t,a,r+i,i<0?a.childCount:0,i,o);if(l)return l}r+=a.nodeSize*i}return null}function JD(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof Ir||i instanceof wn))return;let o=t.mapping.maps[n],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(Je.near(t.doc.resolve(s),r))}var QD=1,bh=2,XD=4,g1=class extends vh{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|QD)&~bh,this.storedMarks=null,this}get selectionSet(){return(this.updated&QD)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bh,this}ensureMarks(e){return Ct.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bh)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~bh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Ct.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let o=this.storedMarks;if(!o){let s=this.doc.resolve(r);o=n==r?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,o)),this.selection.empty||this.setSelection(Je.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=XD,this}get scrolledIntoView(){return(this.updated&XD)>0}};function ek(t,e){return!e||!t?t:t.bind(e)}var pa=class{constructor(e,r,n){this.name=e,this.init=ek(r.init,n),this.apply=ek(r.apply,n)}},u$=[new pa("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new pa("selection",{init(t,e){return t.selection||Je.atStart(e.doc)},apply(t){return t.selection}}),new pa("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new pa("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})],Fu=class{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=u$.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new pa(n.key,n.spec.state,n))})}},wh=class t{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<r.length&&a.spec.appendTransaction.call(a,l?r.slice(l):r,c,n);if(u&&n.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:n,n:r.length}:{state:this,n:0})}r.push(u),n=n.applyInner(u),o=!0}i&&(i[s]={state:n,n:r.length})}}if(!o)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new t(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let o=n[i];r[o.name]=o.apply(e,this[o.name],this,r)}return r}get tr(){return new g1(this)}static create(e){let r=new Fu(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new t(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new Fu(this.schema,e.plugins),n=r.fields,i=new t(r);for(let o=0;o<n.length;o++){let s=n[o].name;i[s]=this.hasOwnProperty(s)?this[s]:n[o].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],o=i.spec.state;o&&o.toJSON&&(r[n]=o.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Fu(e.schema,e.plugins),o=new t(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Ai.fromJSON(e.schema,r.doc);else if(s.name=="selection")o.selection=Je.fromJSON(o.doc,r.selection);else if(s.name=="storedMarks")r.storedMarks&&(o.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,a)){o[s.name]=c.fromJSON.call(l,e,r[a],o);return}}o[s.name]=s.init(e,o)}}),o}};function tk(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=tk(i,e,{})),r[n]=i}return r}var Un=class{constructor(e){this.spec=e,this.props={},e.props&&tk(e.props,this,this.props),this.key=e.key?e.key.key:nk("plugin")}getState(e){return e[this.key]}},h1=Object.create(null);function nk(t){return t in h1?t+"$"+ ++h1[t]:(h1[t]=0,t+"$")}var Dr=class{constructor(e="key"){this.key=nk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};var Tn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ju=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},w1=null,go=function(t,e,r){let n=w1||(w1=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},d$=function(){w1=null},ba=function(t,e,r,n){return r&&(rk(t,e,r,n,-1)||rk(t,e,r,n,1))},p$=/^(img|br|input|textarea|hr)$/i;function rk(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Kr(t))){let o=t.parentNode;if(!o||o.nodeType!=1||zu(t)||p$.test(t.nodeName)||t.contentEditable=="false")return!1;e=Tn(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Kr(t):0}else return!1}}function Kr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function f$(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Kr(t)}else if(t.parentNode&&!zu(t))e=Tn(t),t=t.parentNode;else return null}}function h$(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!zu(t))e=Tn(t)+1,t=t.parentNode;else return null}}function m$(t,e,r){for(let n=e==0,i=e==Kr(t);n||i;){if(t==r)return!0;let o=Tn(t);if(t=t.parentNode,!t)return!1;n=n&&o==0,i=i&&o==Kr(t)}}function zu(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Ph=function(t){return t.focusNode&&ba(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function fa(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function g$(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function v$(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(Kr(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(Kr(n.startContainer),n.startOffset)}}}var Pi=typeof navigator<"u"?navigator:null,ik=typeof document<"u"?document:null,ls=Pi&&Pi.userAgent||"",_1=/Edge\/(\d+)/.exec(ls),Fk=/MSIE \d/.exec(ls),x1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ls),hr=!!(Fk||x1||_1),ss=Fk?document.documentMode:x1?+x1[1]:_1?+_1[1]:0,pi=!hr&&/gecko\/(\d+)/i.test(ls);pi&&+(/Firefox\/(\d+)/.exec(ls)||[0,0])[1];var S1=!hr&&/Chrome\/(\d+)/.exec(ls),Hn=!!S1,Lk=S1?+S1[1]:0,Yn=!hr&&!!Pi&&/Apple Computer/.test(Pi.vendor),Yl=Yn&&(/Mobile\/\w+/.test(ls)||!!Pi&&Pi.maxTouchPoints>2),Wr=Yl||(Pi?/Mac/.test(Pi.platform):!1),y$=Pi?/Win/.test(Pi.platform):!1,di=/Android \d/.test(ls),qu=!!ik&&"webkitFontSmoothing"in ik.documentElement.style,b$=qu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function C$(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function mo(t,e){return typeof t=="number"?t:t[e]}function w$(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function ok(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=r||t.dom;s;s=ju(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,c=l?C$(o):w$(a),u=0,d=0;if(e.top<c.top+mo(n,"top")?d=-(c.top-e.top+mo(i,"top")):e.bottom>c.bottom-mo(n,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+mo(i,"top")-c.top:e.bottom-c.bottom+mo(i,"bottom")),e.left<c.left+mo(n,"left")?u=-(c.left-e.left+mo(i,"left")):e.right>c.right-mo(n,"right")&&(u=e.right-c.right+mo(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let v=a.scrollLeft,C=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let _=a.scrollLeft-v,S=a.scrollTop-C;e={left:e.left-_,top:e.top-S,right:e.right-_,bottom:e.bottom-S}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function _$(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let o=(e.left+e.right)/2,s=r+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=r-20){n=a,i=l.top;break}}return{refDOM:n,refTop:i,stack:Vk(t.dom)}}function Vk(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=ju(n));return e}function x$({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;Bk(r,n==0?0:n-e)}function Bk(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:o}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=o&&(n.scrollLeft=o)}}var Gl=null;function S$(t){if(t.setActive)return t.setActive();if(Gl)return t.focus(Gl);let e=Vk(t);t.focus(Gl==null?{get preventScroll(){return Gl={preventScroll:!0},!0}}:void 0),Gl||(Gl=!1,Bk(e,0))}function jk(t,e){let r,n=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let v;if(u.nodeType==1)v=u.getClientRects();else if(u.nodeType==3)v=go(u).getClientRects();else continue;for(let C=0;C<v.length;C++){let _=v[C];if(_.top<=s&&_.bottom>=a){s=Math.max(_.bottom,s),a=Math.min(_.top,a);let S=_.left>e.left?_.left-e.left:_.right<e.left?e.left-_.right:0;if(S<n){r=u,n=S,i=S&&r.nodeType==3?{left:_.right<e.left?_.right:_.left,top:e.top}:e,u.nodeType==1&&S&&(o=d+(e.left>=(_.left+_.right)/2?1:0));continue}}else _.top>e.top&&!l&&_.left<=e.left&&_.right>=e.left&&(l=u,c={left:Math.max(_.left,Math.min(_.right,e.left)),top:_.top});!r&&(e.left>=_.right&&e.top>=_.top||e.left>=_.left&&e.top>=_.bottom)&&(o=d+1)}}return!r&&l&&(r=l,i=c,n=0),r&&r.nodeType==3?E$(r,i):!r||n&&r.nodeType==1?{node:t,offset:o}:jk(r,i)}function E$(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let o=ns(n,1);if(o.top!=o.bottom&&B1(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function B1(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function I$(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function M$(t,e,r){let{node:n,offset:i}=jk(e,r),o=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();o=s.left!=s.right&&r.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(n,i,o)}function D$(t,e,r,n){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!s&&l.left>n.left||l.top>n.top?i=a.posBefore:(!s&&l.right<n.left||l.bottom<n.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function Uk(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(B1(e,c))return Uk(s,e,c)}}if((o=(o+1)%n)==i)break}return t}function k$(t,e){let r=t.dom.ownerDocument,n,i=0,o=v$(r,e.left,e.top);o&&({node:n,offset:i}=o);let s=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!B1(e,c)||(s=Uk(t.dom,e,c),!s))return null}if(Yn)for(let c=s;n&&c;c=ju(c))c.draggable&&(n=void 0);if(s=I$(s,e),n){if(pi&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let u=n.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;qu&&i&&n.nodeType==1&&(c=n.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(a=D$(t,n,i,e))}a==null&&(a=M$(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function sk(t){return t.top<t.bottom||t.left<t.right}function ns(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(sk(n))return n}return Array.prototype.find.call(r,sk)||t.getBoundingClientRect()}var T$=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function $k(t,e,r){let{node:n,offset:i,atom:o}=t.docView.domFromPos(e,r<0?-1:1),s=qu||pi;if(n.nodeType==3)if(s&&(T$.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=ns(go(n,i,i),r);if(pi&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let c=ns(go(n,i-1,i-1),-1);if(c.top==l.top){let u=ns(go(n,i,i+1),-1);if(u.top!=l.top)return Lu(u,u.left<c.left)}}return l}else{let l=i,c=i,u=r<0?1:-1;return r<0&&!i?(c++,u=-1):r>=0&&i==n.nodeValue.length?(l--,u=1):r<0?l--:c++,Lu(ns(go(n,l,c),u),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(r<0||i==Kr(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return v1(l.getBoundingClientRect(),!1)}if(o==null&&i<Kr(n)){let l=n.childNodes[i];if(l.nodeType==1)return v1(l.getBoundingClientRect(),!0)}return v1(n.getBoundingClientRect(),r>=0)}if(o==null&&i&&(r<0||i==Kr(n))){let l=n.childNodes[i-1],c=l.nodeType==3?go(l,Kr(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Lu(ns(c,1),!1)}if(o==null&&i<Kr(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?go(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Lu(ns(c,-1),!0)}return Lu(ns(n.nodeType==3?go(n):n,-r),r>=0)}function Lu(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function v1(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function Hk(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function O$(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return Hk(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=$k(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=go(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(r=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}var A$=/[\u0590-\u08ac]/;function P$(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,o=!i,s=i==n.parent.content.size,a=t.domSelection();return a?!A$.test(n.parent.textContent)||!a.modify?r=="left"||r=="backward"?o:s:Hk(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),v=a.caretBidiLevel;a.modify("move",r,"character");let C=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:_,focusOffset:S}=t.domSelectionRange(),M=_&&!C.contains(_.nodeType==1?_:_.parentNode)||l==_&&c==S;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return v!=null&&(a.caretBidiLevel=v),M}):n.pos==n.start()||n.pos==n.end()}var ak=null,lk=null,ck=!1;function N$(t,e,r){return ak==e&&lk==r?ck:(ak=e,lk=r,ck=r=="up"||r=="down"?O$(t,e,r):P$(t,e,r))}var Zr=0,uk=1,ha=2,Ni=3,Ca=class{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Zr,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let o,s;if(e==this.contentDOM)o=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>Tn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!r||o.node))if(n&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))n=!1;else return o}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==e&&o!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-n-i.border);n=o}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let o=0;n<this.children.length;n++){let s=this.children[n],a=o+s.size;if(a>e||s instanceof Sh){i=e-o;break}o=a}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof _h&&o.side>=0;n--);if(r<=0){let o,s=!0;for(;o=n?this.children[n-1]:null,!(!o||o.dom.parentNode==this.contentDOM);n--,s=!1);return o&&r&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,r):{node:this.contentDOM,offset:o?Tn(o.dom)+1:0}}else{let o,s=!0;for(;o=n<this.children.length?this.children[n]:null,!(!o||o.dom.parentNode==this.contentDOM);n++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,r):{node:this.contentDOM,offset:o?Tn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=n,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,u);e=s;for(let d=a;d>0;d--){let v=this.children[d-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=Tn(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(c>r||a==this.children.length-1)){r=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Tn(d.dom);break}r+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let o=Math.min(e,r),s=Math.max(e,r);for(let v=0,C=0;v<this.children.length;v++){let _=this.children[v],S=C+_.size;if(o>C&&s<S)return _.setSelection(e-C-_.border,r-C-_.border,n,i);C=S}let a=this.domFromPos(e,e?-1:1),l=r==e?a:this.domFromPos(r,r?-1:1),c=n.getSelection(),u=!1;if((pi||Yn)&&e==r){let{node:v,offset:C}=a;if(v.nodeType==3){if(u=!!(C&&v.nodeValue[C-1]==`
`),u&&C==v.nodeValue.length)for(let _=v,S;_;_=_.parentNode){if(S=_.nextSibling){S.nodeName=="BR"&&(a=l={node:S.parentNode,offset:Tn(S)+1});break}let M=_.pmViewDesc;if(M&&M.node&&M.node.isBlock)break}}else{let _=v.childNodes[C-1];u=_&&(_.nodeName=="BR"||_.contentEditable=="false")}}if(pi&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let v=c.focusNode.childNodes[c.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||u&&Yn)&&ba(a.node,a.offset,c.anchorNode,c.anchorOffset)&&ba(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==r)&&!u){c.collapse(a.node,a.offset);try{e!=r&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>r){let C=a;a=l,l=C}let v=document.createRange();v.setEnd(l.node,l.offset),v.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let o=this.children[i],s=n+o.size;if(n==s?e<=s&&r>=n:e<s&&r>n){let a=n+o.border,l=s-o.border;if(e>=a&&r<=l){this.dirty=e==n||r==s?ha:uk,e==a&&r==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ni:o.markDirty(e-a,r-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?ha:Ni}n=s}this.dirty=ha}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?ha:uk;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}},_h=class extends Ca{constructor(e,r,n,i){let o,s=r.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!r.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=r,this.widget=r,o=this}matchesWidget(e){return this.dirty==Zr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},E1=class extends Ca{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},Jl=class t extends Ca{constructor(e,r,n,i){super(e,[],n,i),this.mark=r}static create(e,r,n,i){let o=i.nodeViews[r.type.name],s=o&&o(r,i,n);return(!s||!s.dom)&&(s=fo.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new t(e,r,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Ni||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ni&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Zr){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Zr}}slice(e,r,n){let i=t.create(this.parent,this.mark,!0,n),o=this.children,s=this.size;r<s&&(o=k1(o,r,s,n)),e>0&&(o=k1(o,0,e,n));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}},as=class t extends Ca{constructor(e,r,n,i,o,s,a,l,c){super(e,[],o,s),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=a}static create(e,r,n,i,o,s){let a=o.nodeViews[r.type.name],l,c=a&&a(r,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},n,i),u=c&&c.dom,d=c&&c.contentDOM;if(r.isText){if(!u)u=document.createTextNode(r.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=fo.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!d&&!r.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),r.type.spec.draggable&&(u.draggable=!0));let v=u;return u=Gk(u,n,r),c?l=new I1(e,r,n,i,u,d||null,v,c,o,s+1):r.isText?new xh(e,r,n,i,u,v,o):new t(e,r,n,i,u,d||null,v,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>oe.empty)}return e}matchesNode(e,r,n){return this.dirty==Zr&&e.eq(this.node)&&Eh(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,o=e.composing?this.localCompositionInfo(e,r):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new D1(this,s&&s.node,e);V$(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Ct.none:this.node.child(u).marks,n,e),l.placeWidget(c,e,i)},(c,u,d,v)=>{l.syncToMarks(c.marks,n,e);let C;l.findNodeMatch(c,u,d,v)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(C=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,C,e)||l.updateNextNode(c,u,d,e,v,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ha)&&(s&&this.protectLocalComposition(e,s),zk(this.contentDOM,this.children,e),Yl&&B$(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof gt)||n<r||i>r+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=j$(this.node.content,s,n-r,i-r);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let o=r;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new E1(this,o,r,i);e.input.compositionNodes.push(s),this.children=k1(this.children,n,n+i.length,e,s)}update(e,r,n,i){return this.dirty==Ni||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Zr}updateOuterDeco(e){if(Eh(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=qk(this.dom,this.nodeDOM,M1(this.outerDeco,this.node,r),M1(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function dk(t,e,r,n,i){Gk(n,e,t);let o=new as(void 0,t,e,r,n,n,n,i,0);return o.contentDOM&&o.updateChildren(i,0),o}var xh=class t extends as{constructor(e,r,n,i,o,s,a){super(e,r,n,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==Ni||this.dirty!=Zr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Zr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Zr,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),o=document.createTextNode(i.text);return new t(this.parent,i,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Ni)}get domAtom(){return!1}isText(e){return this.node.text==e}},Sh=class extends Ca{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Zr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},I1=class extends as{constructor(e,r,n,i,o,s,a,l,c,u){super(e,r,n,i,o,s,a,c,u),this.spec=l}update(e,r,n,i){if(this.dirty==Ni)return!1;if(this.spec.update){let o=this.spec.update(e,r,n);return o&&this.updateInner(e,r,n,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function zk(t,e,r){let n=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=n;)n=pk(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(a,n);if(s instanceof Jl){let l=n?n.previousSibling:t.lastChild;zk(s.contentDOM,s.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=pk(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}var Vu=function(t){t&&(this.nodeName=t)};Vu.prototype=Object.create(null);var ma=[new Vu];function M1(t,e,r){if(t.length==0)return ma;let n=r?ma[0]:new Vu,i=[n];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(n=new Vu(s.nodeName));for(let a in s){let l=s[a];l!=null&&(r&&i.length==1&&i.push(n=new Vu(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return i}function qk(t,e,r,n){if(r==ma&&n==ma)return e;let i=e;for(let o=0;o<n.length;o++){let s=n[o],a=r[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=ma[0]),i=l}R$(i,a||ma[0],s)}return i}function R$(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let o=0;o<n.length;o++)i.indexOf(n[o])==-1&&t.classList.remove(n[o]);for(let o=0;o<i.length;o++)n.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function Gk(t,e,r){return qk(t,t,ma,M1(e,r,t.nodeType!=1))}function Eh(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function pk(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}var D1=class{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=F$(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Zr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Jl.create(this.top,e[o],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,r,n,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,r,n))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,r,n)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,r,n,i,o){let s=this.top.children[i];return s.dirty==Ni&&s.dom==s.contentDOM&&(s.dirty=ha),s.update(e,r,n,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof as){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,v=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ni&&Eh(r,l.outerDeco));if(!v&&l.update(e,r,n,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!v&&(d=this.recreateWrapper(l,e,r,n,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=ha,d.updateChildren(i,s+1),d.dirty=Zr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,o,s){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Eh(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=as.create(this.top,r,n,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,r,n,i,o){let s=as.create(this.top,e,r,n,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new _h(this.top,e,r,n);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Jl;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof xh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Yn||Hn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new Sh(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}};function F$(t,e){let r=e,n=r.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(n){let c=r.children[n-1];if(c instanceof Jl)r=c,n=c.children.length;else{a=c,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function L$(t,e){return t.type.side-e.type.side}function V$(t,e,r,n){let i=e.locals(t),o=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);n(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let M=i[s++];M.widget&&(u?(d||(d=[u])).push(M):u=M)}if(u)if(d){d.sort(L$);for(let M=0;M<d.length;M++)r(d[M],c,!!l)}else r(u,c,!!l);let v,C;if(l)C=-1,v=l,l=null;else if(c<t.childCount)C=c,v=t.child(c++);else break;for(let M=0;M<a.length;M++)a[M].to<=o&&a.splice(M--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let _=o+v.nodeSize;if(v.isText){let M=_;s<i.length&&i[s].from<M&&(M=i[s].from);for(let L=0;L<a.length;L++)a[L].to<M&&(M=a[L].to);M<_&&(l=v.cut(M-o),v=v.cut(0,M-o),_=M,C=-1)}else for(;s<i.length&&i[s].to<_;)s++;let S=v.isInline&&!v.isLeaf?a.filter(M=>!M.inline):a.slice();n(v,S,e.forChild(o,v),C),o=_}}function B$(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function j$(t,e,r,n){for(let i=0,o=0;i<t.childCount&&o<=n;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=r){if(o>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let c=a<n?l.lastIndexOf(e,n-a-1):-1;if(c>=0&&c+e.length+a>=r)return a+c;if(r==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}function k1(t,e,r,n,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=r||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,n)),i&&(o.push(i),i=void 0),u>r&&o.push(l.slice(r-c,l.size,n)))}return o}function j1(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(s<0)return null;let a=n.resolve(s),l,c;if(Ph(r)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Ne.isSelectable(d)&&i.parent&&!(d.isInline&&m$(r.focusNode,r.focusOffset,i.dom))){let v=i.posBefore;c=new Ne(s==v?a:n.resolve(v))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let d=s,v=s;for(let C=0;C<r.rangeCount;C++){let _=r.getRangeAt(C);d=Math.min(d,t.docView.posFromDOM(_.startContainer,_.startOffset,1)),v=Math.max(v,t.docView.posFromDOM(_.endContainer,_.endOffset,-1))}if(d<0)return null;[l,s]=v==t.state.selection.anchor?[v,d]:[d,v],a=n.resolve(s)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let u=n.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;c=U1(t,u,a,d)}return c}function Wk(t){return t.editable?t.hasFocus():Zk(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function vo(t,e=!1){let r=t.state.selection;if(Kk(t,r),!!Wk(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Hn){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&ba(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)$$(t);else{let{anchor:n,head:i}=r,o,s;fk&&!(r instanceof gt)&&(r.$from.parent.inlineContent||(o=hk(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(s=hk(t,r.to))),t.docView.setSelection(n,i,t.root,e),fk&&(o&&mk(o),s&&mk(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&U$(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}var fk=Yn||Hn&&Lk<63;function hk(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,o=n?r.childNodes[n-1]:null;if(Yn&&i&&i.contentEditable=="false")return y1(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return y1(i);if(o)return y1(o)}}function y1(t){return t.contentEditable="true",Yn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function mk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function U$(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Wk(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function $$(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setStart(n.parentNode,Tn(n)+1):r.setStart(n,0),r.collapse(!0),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&hr&&ss<=11&&(n.disabled=!0,n.disabled=!1)}function Kk(t,e){if(e instanceof Ne){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(gk(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else gk(t)}function gk(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function U1(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||gt.between(e,r,n)}function vk(t){return t.editable&&!t.hasFocus()?!1:Zk(t)}function Zk(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function H$(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return ba(e.node,e.offset,r.anchorNode,r.anchorOffset)}function T1(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Je.findFrom(o,e)}function rs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function yk(t,e,r){let n=t.state.selection;if(n instanceof gt)if(r.indexOf("s")>-1){let{$head:i}=n,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return rs(t,new gt(n.$anchor,s))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=T1(t.state,e);return i&&i instanceof Ne?rs(t,i):!1}else if(!(Wr&&r.indexOf("m")>-1)){let i=n.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?Ne.isSelectable(o)?rs(t,new Ne(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):qu?rs(t,new gt(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ne&&n.node.isInline)return rs(t,new gt(e>0?n.$to:n.$from));{let i=T1(t.state,e);return i?rs(t,i):!1}}}function Ih(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Bu(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Wl(t,e){return e<0?z$(t):q$(t)}function z$(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,o,s=!1;for(pi&&r.nodeType==1&&n<Ih(r)&&Bu(r.childNodes[n],-1)&&(s=!0);;)if(n>0){if(r.nodeType!=1)break;{let a=r.childNodes[n-1];if(Bu(a,-1))i=r,o=--n;else if(a.nodeType==3)r=a,n=r.nodeValue.length;else break}}else{if(Yk(r))break;{let a=r.previousSibling;for(;a&&Bu(a,-1);)i=r.parentNode,o=Tn(a),a=a.previousSibling;if(a)r=a,n=Ih(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}s?O1(t,r,n):i&&O1(t,i,o)}function q$(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=Ih(r),o,s;for(;;)if(n<i){if(r.nodeType!=1)break;let a=r.childNodes[n];if(Bu(a,1))o=r,s=++n;else break}else{if(Yk(r))break;{let a=r.nextSibling;for(;a&&Bu(a,1);)o=a.parentNode,s=Tn(a)+1,a=a.nextSibling;if(a)r=a,n=0,i=Ih(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}o&&O1(t,o,s)}function Yk(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function G$(t,e){for(;t&&e==t.childNodes.length&&!zu(t);)e=Tn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function W$(t,e){for(;t&&!e&&!zu(t);)e=Tn(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function O1(t,e,r){if(e.nodeType!=3){let o,s;(s=G$(e,r))?(e=s,r=0):(o=W$(e,r))&&(e=o,r=o.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Ph(n)){let o=document.createRange();o.setEnd(e,r),o.setStart(e,r),n.removeAllRanges(),n.addRange(o)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&vo(t)},50)}function bk(t,e){let r=t.state.doc.resolve(e);if(!(Hn||y$)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<r.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Ck(t,e,r){let n=t.state.selection;if(n instanceof gt&&!n.empty||r.indexOf("s")>-1||Wr&&r.indexOf("m")>-1)return!1;let{$from:i,$to:o}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=T1(t.state,e);if(s&&s instanceof Ne)return rs(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=n instanceof Mr?Je.near(s,e):Je.findFrom(s,e);return a?rs(t,a):!1}return!1}function wk(t,e){if(!(t.state.selection instanceof gt))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(r.pos-o.nodeSize,r.pos):s.delete(r.pos,r.pos+o.nodeSize),t.dispatch(s),!0}return!1}function _k(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function K$(t){if(!Yn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;_k(t,n,"true"),setTimeout(()=>_k(t,n,"false"),20)}return!1}function Z$(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Y$(t,e){let r=e.keyCode,n=Z$(e);if(r==8||Wr&&r==72&&n=="c")return wk(t,-1)||Wl(t,-1);if(r==46&&!e.shiftKey||Wr&&r==68&&n=="c")return wk(t,1)||Wl(t,1);if(r==13||r==27)return!0;if(r==37||Wr&&r==66&&n=="c"){let i=r==37?bk(t,t.state.selection.from)=="ltr"?-1:1:-1;return yk(t,i,n)||Wl(t,i)}else if(r==39||Wr&&r==70&&n=="c"){let i=r==39?bk(t,t.state.selection.from)=="ltr"?1:-1:1;return yk(t,i,n)||Wl(t,i)}else{if(r==38||Wr&&r==80&&n=="c")return Ck(t,-1,n)||Wl(t,-1);if(r==40||Wr&&r==78&&n=="c")return K$(t)||Ck(t,1,n)||Wl(t,1);if(n==(Wr?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function Jk(t,e){t.someProp("transformCopied",C=>{e=C(e,t)});let r=[],{content:n,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;let C=n.firstChild;r.push(C.type.name,C.attrs!=C.type.defaultAttrs?C.attrs:null),n=C.content}let s=t.someProp("clipboardSerializer")||fo.fromSchema(t.state.schema),a=r2(),l=a.createElement("div");l.appendChild(s.serializeFragment(n,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=n2[c.nodeName.toLowerCase()]);){for(let C=u.length-1;C>=0;C--){let _=a.createElement(u[C]);for(;l.firstChild;)_.appendChild(l.firstChild);l.appendChild(_),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(r)}`);let v=t.someProp("clipboardTextSerializer",C=>C(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:v,slice:e}}function Qk(t,e,r,n,i){let o=i.parent.type.spec.code,s,a;if(!r&&!e)return null;let l=e&&(n||o||!r);if(l){if(t.someProp("transformPastedText",v=>{e=v(e,o||n,t)}),o)return e?new he(oe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):he.empty;let d=t.someProp("clipboardTextParser",v=>v(e,i,n,t));if(d)a=d;else{let v=i.marks(),{schema:C}=t.state,_=fo.fromSchema(C);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let M=s.appendChild(document.createElement("p"));S&&M.appendChild(_.serializeNode(C.text(S,v)))})}}else t.someProp("transformPastedHTML",d=>{r=d(r,t)}),s=e9(r),qu&&t9(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let v=s.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;s=v}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||es.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!J$.test(v.parentNode.nodeName)?{ignore:!0}:null}})),u)a=n9(xk(a,+u[1],+u[2]),u[4]);else if(a=he.maxOpen(Q$(a.content,i),!0),a.openStart||a.openEnd){let d=0,v=0;for(let C=a.content.firstChild;d<a.openStart&&!C.type.spec.isolating;d++,C=C.firstChild);for(let C=a.content.lastChild;v<a.openEnd&&!C.type.spec.isolating;v++,C=C.lastChild);a=xk(a,d,v)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}var J$=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Q$(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&e2(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=t2(s[s.length-1],o.length));let u=Xk(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return oe.from(s)}return t}function Xk(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,oe.from(t));return t}function e2(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=e2(t,e,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(oe.from(Xk(r,t,i+1))))}}function t2(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,t2(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(oe.empty,!0);return t.copy(r.append(n))}function A1(t,e,r,n,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<n-1&&(a=A1(a,e,r,n,i+1,o)),i>=r&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(oe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function xk(t,e,r){return e<t.openStart&&(t=new he(A1(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new he(A1(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}var n2={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Sk=null;function r2(){return Sk||(Sk=document.implementation.createHTMLDocument("title"))}function X$(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:r=>r}).createHTML(t):t}function e9(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=r2().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&n2[n[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),r.innerHTML=X$(t),i)for(let o=0;o<i.length;o++)r=r.querySelector(i[o])||r;return r}function t9(t){let e=t.querySelectorAll(Hn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function n9(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=n.length-2;a>=0;a-=2){let l=r.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;i=oe.from(l.create(n[a+1],i)),o++,s++}return new he(i,o,s)}var Jn={},Qn={},r9={touchstart:!0,touchmove:!0},P1=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function i9(t){for(let e in Jn){let r=Jn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{s9(t,n)&&!$1(t,n)&&(t.editable||!(n.type in Qn))&&r(t,n)},r9[e]?{passive:!0}:void 0)}Yn&&t.dom.addEventListener("input",()=>null),N1(t)}function is(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function o9(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function N1(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>$1(t,n))})}function $1(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function s9(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function a9(t,e){!$1(t,e)&&Jn[e.type]&&(t.editable||!(e.type in Qn))&&Jn[e.type](t,e)}Qn.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!o2(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(di&&Hn&&r.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():r.keyCode!=229&&t.domObserver.forceFlush(),Yl&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,fa(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||Y$(t,r)?r.preventDefault():is(t,"key")};Qn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Qn.keypress=(t,e)=>{let r=e;if(o2(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Wr&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof gt)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function Nh(t){return{left:t.clientX,top:t.clientY}}function l9(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function H1(t,e,r,n,i){if(n==-1)return!1;let o=t.state.doc.resolve(n);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,r,o.nodeAfter,o.before(s),i,!0):a(t,r,o.node(s),o.before(s),i,!1)))return!0;return!1}function Zl(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);r=="pointer"&&n.setMeta("pointer",!0),t.dispatch(n)}function c9(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Ne.isSelectable(n)?(Zl(t,new Ne(r),"pointer"),!0):!1}function u9(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof Ne&&(n=r.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(Ne.isSelectable(a)){n&&r.$from.depth>0&&s>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?i=o.before(r.$from.depth):i=o.before(s);break}}return i!=null?(Zl(t,Ne.create(t.state.doc,i),"pointer"),!0):!1}function d9(t,e,r,n,i){return H1(t,"handleClickOn",e,r,n)||t.someProp("handleClick",o=>o(t,e,n))||(i?u9(t,r):c9(t,r))}function p9(t,e,r,n){return H1(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function f9(t,e,r,n){return H1(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||h9(t,r,n)}function h9(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Zl(t,gt.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Zl(t,gt.create(n,a+1,a+1+s.content.size),"pointer");else if(Ne.isSelectable(s))Zl(t,Ne.create(n,a),"pointer");else continue;return!0}}function z1(t){return Mh(t)}var i2=Wr?"metaKey":"ctrlKey";Jn.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=z1(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&l9(r,t.input.lastClick)&&!r[i2]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:o};let s=t.posAtCoords(Nh(r));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new R1(t,s,r,!!n)):(o=="doubleClick"?p9:f9)(t,s.pos,s.inside,r)?r.preventDefault():is(t,"pointer"))};var R1=class{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[i2],this.allowDefault=n.shiftKey;let o,s;if(r.inside>-1)o=e.state.doc.nodeAt(r.inside),s=r.inside;else{let u=e.state.doc.resolve(r.pos);o=u.parent,s=u.depth?u.before():0}let a=i?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(n.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Ne&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&pi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),is(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>vo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Nh(e))),this.updateAllowDefault(e),this.allowDefault||!r?is(this.view,"pointer"):d9(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Yn&&this.mightDrag&&!this.mightDrag.node.isAtom||Hn&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Zl(this.view,Je.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):is(this.view,"pointer")}move(e){this.updateAllowDefault(e),is(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};Jn.touchstart=t=>{t.input.lastTouch=Date.now(),z1(t),is(t,"pointer")};Jn.touchmove=t=>{t.input.lastTouch=Date.now(),is(t,"pointer")};Jn.contextmenu=t=>z1(t);function o2(t,e){return t.composing?!0:Yn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}var m9=di?5e3:-1;Qn.compositionstart=Qn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof gt&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Mh(t,!0),t.markCursor=null;else if(Mh(t,!e.selection.empty),pi&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}s2(t,m9)};Qn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,s2(t,20))};function s2(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Mh(t),e))}function a2(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=v9());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function g9(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=f$(e.focusNode,e.focusOffset),n=h$(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(r==o||n==o)return o;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let s=r.pmViewDesc;if(!(!s||!s.isText(r.nodeValue)))return n}}return r||n}function v9(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Mh(t,e=!1){if(!(di&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),a2(t),e||t.docView&&t.docView.dirty){let r=j1(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function y9(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}var Uu=hr&&ss<15||Yl&&b$<604;Jn.copy=Qn.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let o=Uu?null:r.clipboardData,s=n.content(),{dom:a,text:l}=Jk(t,s);o?(r.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):y9(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function b9(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function C9(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?$u(t,n.value,null,i,e):$u(t,n.textContent,n.innerHTML,i,e)},50)}function $u(t,e,r,n,i){let o=Qk(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||he.empty)))return!0;if(!o)return!1;let s=b9(o),a=s?t.state.tr.replaceSelectionWith(s,n):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function l2(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}Qn.paste=(t,e)=>{let r=e;if(t.composing&&!di)return;let n=Uu?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&$u(t,l2(n),n.getData("text/html"),i,r)?r.preventDefault():C9(t,r)};var Dh=class{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}},c2=Wr?"altKey":"ctrlKey";Jn.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Nh(r)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Ne?i.to-1:i.to))){if(n&&n.mightDrag)s=Ne.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let d=t.docView.nearestDesc(r.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=Ne.create(t.state.doc,d.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:c,slice:u}=Jk(t,a);(!r.dataTransfer.files.length||!Hn||Lk>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Uu?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",Uu||r.dataTransfer.setData("text/plain",c),t.dragging=new Dh(u,!r[c2],s)};Jn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Qn.dragover=Qn.dragenter=(t,e)=>e.preventDefault();Qn.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(Nh(r));if(!i)return;let o=t.state.doc.resolve(i.pos),s=n&&n.slice;s?t.someProp("transformPasted",_=>{s=_(s,t)}):s=Qk(t,l2(r.dataTransfer),Uu?null:r.dataTransfer.getData("text/html"),!1,o);let a=!!(n&&!r[c2]);if(t.someProp("handleDrop",_=>_(t,r,s||he.empty,a))){r.preventDefault();return}if(!s)return;r.preventDefault();let l=s?zD(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=t.state.tr;if(a){let{node:_}=n;_?_.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,v=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(v))return;let C=c.doc.resolve(u);if(d&&Ne.isSelectable(s.content.firstChild)&&C.nodeAfter&&C.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Ne(C));else{let _=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((S,M,L,re)=>_=re),c.setSelection(U1(t,C,c.doc.resolve(_)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Jn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&vo(t)},20))};Jn.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Jn.beforeinput=(t,e)=>{if(Hn&&di&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,fa(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Qn)Jn[t]=Qn[t];function Hu(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}var kh=class t{constructor(e,r){this.toDOM=e,this.spec=r||va,this.side=this.spec.side||0}map(e,r,n,i){let{pos:o,deleted:s}=e.mapResult(r.from+i,this.side<0?-1:1);return s?null:new Ri(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof t&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Hu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}},ga=class t{constructor(e,r){this.attrs=e,this.spec=r||va}map(e,r,n,i){let o=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,s=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=s?null:new Ri(o,s,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof t&&Hu(this.attrs,e.attrs)&&Hu(this.spec,e.spec)}static is(e){return e.type instanceof t}destroy(){}},F1=class t{constructor(e,r){this.attrs=e,this.spec=r||va}map(e,r,n,i){let o=e.mapResult(r.from+i,1);if(o.deleted)return null;let s=e.mapResult(r.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Ri(o.pos-n,s.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),o;return i==r.from&&!(o=e.child(n)).isText&&i+o.nodeSize==r.to}eq(e){return this==e||e instanceof t&&Hu(this.attrs,e.attrs)&&Hu(this.spec,e.spec)}destroy(){}},Ri=class t{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new t(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new t(e,e,new kh(r,n))}static inline(e,r,n,i){return new t(e,r,new ga(n,i))}static node(e,r,n,i){return new t(e,r,new F1(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ga}get widget(){return this.type instanceof kh}},Kl=[],va={},Zn=class t{constructor(e,r){this.local=e.length?e:Kl,this.children=r.length?r:Kl}static create(e,r){return r.length?Oh(r,e,0,va):$n}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=r&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<r&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,r-a,n,i+a,o)}}map(e,r,n){return this==$n||e.maps.length==0?this:this.mapInner(e,r,0,0,n||va)}mapInner(e,r,n,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,n,i);l&&l.type.valid(r,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?w9(this.children,s||[],e,r,n,i,o):s?new t(s.sort(ya),Kl):$n}add(e,r){return r.length?this==$n?t.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,o=0;e.forEach((a,l)=>{let c=l+n,u;if(u=d2(r,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,Oh(u,a,c+1,va)),o+=3}});let s=u2(o?p2(r):r,-n);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new t(s.length?this.local.concat(s).sort(ya):this.local,i||this.children)}remove(e){return e.length==0||this==$n?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let o=0;o<n.length;o+=3){let s,a=n[o]+r,l=n[o+1]+r;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;n==this.children&&(n=this.children.slice());let c=n[o+2].removeInner(s,a+1);c!=$n?n[o+2]=c:(n.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,r)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new t(i,n):$n}forChild(e,r){if(this==$n)return this;if(r.isLeaf)return t.empty;let n,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let o=e+1,s=o+r.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof ga){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new t(i.sort(ya),Kl);return n?new Th([a,n]):a}return n||$n}eq(e){if(this==e)return!0;if(!(e instanceof t)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return q1(this.localsInner(e))}localsInner(e){if(this==$n)return Kl;if(e.inlineContent||!this.local.some(ga.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof ga||r.push(this.local[n]);return r}forEachSet(e){e(this)}};Zn.empty=new Zn([],[]);Zn.removeOverlap=q1;var $n=Zn.empty,Th=class t{constructor(e){this.members=e}map(e,r){let n=this.members.map(i=>i.map(e,r,va));return t.from(n)}forChild(e,r){if(r.isLeaf)return Zn.empty;let n=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,r);o!=$n&&(o instanceof t?n=n.concat(o.members):n.push(o))}return t.from(n)}eq(e){if(!(e instanceof t)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!r)r=o;else{n&&(r=r.slice(),n=!1);for(let s=0;s<o.length;s++)r.push(o[s])}}return r?q1(n?r:r.sort(ya)):Kl}static from(e){switch(e.length){case 0:return $n;case 1:return e[0];default:return new t(e.every(r=>r instanceof Zn)?e:e.reduce((r,n)=>r.concat(n instanceof Zn?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}};function w9(t,e,r,n,i,o,s){let a=t.slice();for(let c=0,u=o;c<r.maps.length;c++){let d=0;r.maps[c].forEach((v,C,_,S)=>{let M=S-_-(C-v);for(let L=0;L<a.length;L+=3){let re=a[L+1];if(re<0||v>re+u-d)continue;let ue=a[L]+u-d;C>=ue?a[L+1]=v<=ue?-2:-1:v>=u&&M&&(a[L]+=M,a[L+1]+=M)}d+=M}),u=r.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=r.map(t[c]+o),d=u-i;if(d<0||d>=n.content.size){l=!0;continue}let v=r.map(t[c+1]+o,-1),C=v-i,{index:_,offset:S}=n.content.findIndex(d),M=n.maybeChild(_);if(M&&S==d&&S+M.nodeSize==C){let L=a[c+2].mapInner(r,M,u+1,t[c]+o+1,s);L!=$n?(a[c]=d,a[c+1]=C,a[c+2]=L):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=_9(a,t,e,r,i,o,s),u=Oh(c,n,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,v=0;d<u.children.length;d+=3){let C=u.children[d];for(;v<a.length&&a[v]<C;)v+=3;a.splice(v,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Zn(e.sort(ya),a)}function u2(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new Ri(i.from+e,i.to+e,i.type))}return r}function _9(t,e,r,n,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(n,i,c);d?r.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return r}function d2(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>r&&s.to<n&&((i||(i=[])).push(s),t[o]=null);return i}function p2(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Oh(t,e,r,n){let i=[],o=!1;e.forEach((a,l)=>{let c=d2(t,a,l+r);if(c){o=!0;let u=Oh(c,a,r+l+1,n);u!=$n&&i.push(l,l+a.nodeSize,u)}});let s=u2(o?p2(t):t,-r).sort(ya);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(n.onRemove&&n.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Zn(s,i):$n}function ya(t,e){return t.from-e.from||t.to-e.to}function q1(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let o=e[i];if(o.from==n.from){o.to!=n.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,n.to),Ek(e,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,o.from),Ek(e,i,n.copy(o.from,n.to)));break}}}return e}function Ek(t,e,r){for(;e<t.length&&ya(r,t[e])>0;)e++;t.splice(e,0,r)}function b1(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=$n&&e.push(n)}),t.cursorWrapper&&e.push(Zn.create(t.state.doc,[t.cursorWrapper.deco])),Th.from(e)}var x9={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},S9=hr&&ss<=11,L1=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},V1=class{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new L1,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);hr&&ss<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),S9&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,x9)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(vk(this.view)){if(this.suppressingSelectionUpdates)return vo(this.view);if(hr&&ss<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ba(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let o=e.focusNode;o;o=ju(o))r.add(o);for(let o=e.anchorNode;o;o=ju(o))if(r.has(o)){n=o;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&vk(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=this.selectionChanged(n),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<r.length;u++){let d=this.registerMutation(r[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(pi&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,v]=u;d.parentNode&&d.parentNode.parentNode==v.parentNode?v.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let v of u){let C=v.parentNode;C&&C.nodeName=="LI"&&(!d||M9(e,d)!=C)&&v.remove()}}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ph(n)&&(c=j1(e))&&c.eq(Je.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,vo(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),E9(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||vo(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];r.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,o=e.nextSibling;if(hr&&ss<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:v}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(o=v)}let s=i&&i.parentNode==e.target?Tn(i)+1:0,a=n.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?Tn(o):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}},Ik=new WeakMap,Mk=!1;function E9(t){if(!Ik.has(t)&&(Ik.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=pi,Mk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Mk=!0}}function Dk(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return ba(s.node,s.offset,i,o)&&([r,n,i,o]=[i,o,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:o}}function I9(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Dk(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?Dk(t,r):null}function M9(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function D9(t,e,r){let{node:n,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,r),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Ph(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Hn&&t.input.lastKeyCode===8)for(let M=o;M>i;M--){let L=n.childNodes[M-1],re=L.pmViewDesc;if(L.nodeName=="BR"&&!re){o=M;break}if(!re||re.size)break}let d=t.state.doc,v=t.someProp("domParser")||es.fromSchema(t.state.schema),C=d.resolve(s),_=null,S=v.parse(n,{topNode:C.parent,topMatch:C.parent.contentMatchAt(C.index()),topOpen:!0,from:i,to:o,preserveWhitespace:C.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:k9,context:C});if(c&&c[0].pos!=null){let M=c[0].pos,L=c[1]&&c[1].pos;L==null&&(L=M),_={anchor:M+s,head:L+s}}return{doc:S,sel:_,from:s,to:a}}function k9(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Yn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Yn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}var T9=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function O9(t,e,r,n,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let R=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,ee=j1(t,R);if(ee&&!t.state.selection.eq(ee)){if(Hn&&di&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",se=>se(t,fa(13,"Enter"))))return;let q=t.state.tr.setSelection(ee);R=="pointer"?q.setMeta("pointer",!0):R=="key"&&q.scrollIntoView(),o&&q.setMeta("composition",o),t.dispatch(q)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(r);e=s.before(a+1),r=t.state.doc.resolve(r).after(a+1);let l=t.state.selection,c=D9(t,e,r),u=t.state.doc,d=u.slice(c.from,c.to),v,C;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(v=t.state.selection.to,C="end"):(v=t.state.selection.from,C="start"),t.input.lastKeyCode=null;let _=N9(d.content,c.doc.content,c.from,v,C);if(_&&t.input.domChangeCount++,(Yl&&t.input.lastIOSEnter>Date.now()-225||di)&&i.some(R=>R.nodeType==1&&!T9.test(R.nodeName))&&(!_||_.endA>=_.endB)&&t.someProp("handleKeyDown",R=>R(t,fa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!_)if(n&&l instanceof gt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))_={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let R=kk(t,t.state.doc,c.sel);if(R&&!R.eq(t.state.selection)){let ee=t.state.tr.setSelection(R);o&&ee.setMeta("composition",o),t.dispatch(ee)}}return}t.state.selection.from<t.state.selection.to&&_.start==_.endB&&t.state.selection instanceof gt&&(_.start>t.state.selection.from&&_.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?_.start=t.state.selection.from:_.endA<t.state.selection.to&&_.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(_.endB+=t.state.selection.to-_.endA,_.endA=t.state.selection.to)),hr&&ss<=11&&_.endB==_.start+1&&_.endA==_.start&&_.start>c.from&&c.doc.textBetween(_.start-c.from-1,_.start-c.from+1)==" \xA0"&&(_.start--,_.endA--,_.endB--);let S=c.doc.resolveNoCache(_.start-c.from),M=c.doc.resolveNoCache(_.endB-c.from),L=u.resolve(_.start),re=S.sameParent(M)&&S.parent.inlineContent&&L.end()>=_.endA,ue;if((Yl&&t.input.lastIOSEnter>Date.now()-225&&(!re||i.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!re&&S.pos<c.doc.content.size&&!S.sameParent(M)&&(ue=Je.findFrom(c.doc.resolve(S.pos+1),1,!0))&&ue.head==M.pos)&&t.someProp("handleKeyDown",R=>R(t,fa(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>_.start&&P9(u,_.start,_.endA,S,M)&&t.someProp("handleKeyDown",R=>R(t,fa(8,"Backspace")))){di&&Hn&&t.domObserver.suppressSelectionUpdates();return}Hn&&di&&_.endB==_.start&&(t.input.lastAndroidDelete=Date.now()),di&&!re&&S.start()!=M.start()&&M.parentOffset==0&&S.depth==M.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==_.endA&&(_.endB-=2,M=c.doc.resolveNoCache(_.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(R){return R(t,fa(13,"Enter"))})},20));let _e=_.start,Oe=_.endA,V,W,Q;if(re){if(S.pos==M.pos)hr&&ss<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>vo(t),20)),V=t.state.tr.delete(_e,Oe),W=u.resolve(_.start).marksAcross(u.resolve(_.endA));else if(_.endA==_.endB&&(Q=A9(S.parent.content.cut(S.parentOffset,M.parentOffset),L.parent.content.cut(L.parentOffset,_.endA-L.start()))))V=t.state.tr,Q.type=="add"?V.addMark(_e,Oe,Q.mark):V.removeMark(_e,Oe,Q.mark);else if(S.parent.child(S.index()).isText&&S.index()==M.index()-(M.textOffset?0:1)){let R=S.parent.textBetween(S.parentOffset,M.parentOffset);if(t.someProp("handleTextInput",ee=>ee(t,_e,Oe,R)))return;V=t.state.tr.insertText(R,_e,Oe)}}if(V||(V=t.state.tr.replace(_e,Oe,c.doc.slice(_.start-c.from,_.endB-c.from))),c.sel){let R=kk(t,V.doc,c.sel);R&&!(Hn&&di&&t.composing&&R.empty&&(_.start!=_.endB||t.input.lastAndroidDelete<Date.now()-100)&&(R.head==_e||R.head==V.mapping.map(Oe)-1)||hr&&R.empty&&R.head==_e)&&V.setSelection(R)}W&&V.ensureMarks(W),o&&V.setMeta("composition",o),t.dispatch(V.scrollIntoView())}function kk(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:U1(t,e.resolve(r.anchor),e.resolve(r.head))}function A9(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,o=n,s,a,l;for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(oe.from(c).eq(t))return{mark:a,type:s}}function P9(t,e,r,n,i){if(r-e<=i.pos-n.pos||C1(n,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!n.parent.isTextblock){let a=o.nodeAfter;return a!=null&&r==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(C1(o,!0,!0));return!s.parent.isTextblock||s.pos>r||C1(s,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}function C1(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let o=t.node(n).maybeChild(t.indexAfter(n));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function N9(t,e,r,n,i){let o=t.findDiffStart(e,r);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&t.size<e.size){let l=n<=o&&n>=s?o-n:0;o-=l,o&&o<e.size&&Tk(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,o&&o<t.size&&Tk(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function Tk(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}var Ah=class{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new P1,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(Rk),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Pk(this),Ak(this),this.nodeViews=Nk(this),this.docView=dk(this.state.doc,Ok(this),b1(this),this.dom,this),this.domObserver=new V1(this,(n,i,o,s)=>O9(this,n,i,o,s)),this.domObserver.start(),i9(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&N1(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Rk),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(a2(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(a||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let C=Nk(this);F9(C,this.nodeViews)&&(this.nodeViews=C,o=!0)}(a||r.handleDOMEvents!=this._props.handleDOMEvents)&&N1(this),this.editable=Pk(this),Ak(this);let l=b1(this),c=Ok(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let v=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&_$(this);if(s){this.domObserver.stop();let C=d&&(hr||Hn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&R9(i.selection,e.selection);if(d){let _=Hn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=g9(this)),(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=dk(e.doc,c,l,this.dom,this)),_&&!this.trackWrites&&(C=!0)}C||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&H$(this))?vo(this,C):(Kk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():v&&x$(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Ne){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&ok(this,r.getBoundingClientRect(),e)}else ok(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let o=n.from+(this.state.doc.content.size-r.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==n.node&&(i=o)}this.dragging=new Dh(e.slice,e.move,i<0?void 0:Ne.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=r?r(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=r?r(a):a))return i}}hasFocus(){if(hr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&S$(this.dom),vo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return k$(this,e)}coordsAtPos(e,r=1){return $k(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return N$(this,r||this.state,e)}pasteHTML(e,r){return $u(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return $u(this,e,null,!0,r||new ClipboardEvent("paste"))}destroy(){this.docView&&(o9(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],b1(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,d$())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return a9(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Yn&&this.root.nodeType===11&&g$(this.dom.ownerDocument)==this.dom&&I9(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};function Ok(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[Ri.node(0,t.state.doc.content.size,e)]}function Ak(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Ri.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Pk(t){return!t.someProp("editable",e=>e(t.state)===!1)}function R9(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function Nk(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function F9(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function Rk(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var L9=["ol",0],V9=["ul",0],B9=["li",0],f2={attrs:{order:{default:1,validate:"number"}},parseDOM:[{tag:"ol",getAttrs(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM(t){return t.attrs.order==1?L9:["ol",{start:t.attrs.order},0]}},h2={parseDOM:[{tag:"ul"}],toDOM(){return V9}},m2={parseDOM:[{tag:"li"}],toDOM(){return B9},defining:!0};function g2(t,e=null){return function(r,n){let{$from:i,$to:o}=r.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let u=r.doc.resolve(s.start-2);l=new aa(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new aa(i,r.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let c=Hl(l,t,e,s);return c?(n&&n(j9(r.tr,s,c,a,t).scrollIntoView()),!0):!1}}function j9(t,e,r,n,i){let o=oe.empty;for(let u=r.length-1;u>=0;u--)o=oe.from(r[u].type.create(r[u].attrs,o));t.step(new wn(e.start-(n?2:0),e.end,e.start,e.end,new he(o,0,0),r.length,!0));let s=0;for(let u=0;u<r.length;u++)r[u].type==i&&(s=u+1);let a=r.length-s,l=e.start+r.length-(n?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,v=!0;u<d;u++,v=!1)!v&&ts(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function v2(t,e){return function(r,n){let{$from:i,$to:o,node:s}=r.selection;if(s&&s.isBlock||i.depth<2||!i.sameParent(o))return!1;let a=i.node(-1);if(a.type!=t)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(n){let d=oe.empty,v=i.index(-1)?1:i.index(-2)?2:3;for(let L=i.depth-v;L>=i.depth-3;L--)d=oe.from(i.node(L).copy(d));let C=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;d=d.append(oe.from(t.createAndFill()));let _=i.before(i.depth-(v-1)),S=r.tr.replace(_,i.after(-C),new he(d,4-v,0)),M=-1;S.doc.nodesBetween(_,S.doc.content.size,(L,re)=>{if(M>-1)return!1;L.isTextblock&&L.content.size==0&&(M=re+1)}),M>-1&&S.setSelection(Je.near(S.doc.resolve(M))),n(S.scrollIntoView())}return!0}let l=o.pos==i.end()?a.contentMatchAt(0).defaultType:null,c=r.tr.delete(i.pos,o.pos),u=l?[e?{type:t,attrs:e}:null,{type:l}]:void 0;return ts(c.doc,i.pos,2,u)?(n&&n(c.split(i.pos,2,u).scrollIntoView()),!0):!1}}function G1(t){return function(e,r){let{$from:n,$to:i}=e.selection,o=n.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?r?n.node(o.depth-1).type==t?U9(e,r,t,o):$9(e,r,o):!0:!1}}function U9(t,e,r,n){let i=t.tr,o=n.end,s=n.$to.end(n.depth);o<s&&(i.step(new wn(o-1,s,o,s,new he(oe.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new aa(i.doc.resolve(n.$from.pos),i.doc.resolve(s),n.depth));let a=ua(n);if(a==null)return!1;i.lift(n,a);let l=i.mapping.map(o,-1)-1;return da(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function $9(t,e,r){let n=t.tr,i=r.parent;for(let C=r.end,_=r.endIndex-1,S=r.startIndex;_>S;_--)C-=i.child(_).nodeSize,n.delete(C-1,C+1);let o=n.doc.resolve(r.start),s=o.nodeAfter;if(n.mapping.map(r.end)!=r.start+o.nodeAfter.nodeSize)return!1;let a=r.startIndex==0,l=r.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?oe.empty:oe.from(i))))return!1;let d=o.pos,v=d+s.nodeSize;return n.step(new wn(d-(a?1:0),v+(l?1:0),d+1,v-1,new he((a?oe.empty:oe.from(i.copy(oe.empty))).append(l?oe.empty:oe.from(i.copy(oe.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}function W1(t){return function(e,r){let{$from:n,$to:i}=e.selection,o=n.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(r){let c=l.lastChild&&l.lastChild.type==a.type,u=oe.from(c?t.create():null),d=new he(oe.from(t.create(null,oe.from(a.type.create(null,u)))),c?3:1,0),v=o.start,C=o.end;r(e.tr.step(new wn(v-(c?3:1),C,v,C,d,1,!0)).scrollIntoView())}return!0}}var z9={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(t){return{href:t.getAttribute("href"),title:t.getAttribute("title"),target:t.getAttribute("target")}}}],toDOM(t){let{href:e,title:r,target:n}=t.attrs;return["a",{href:e,title:r,target:n},0]}},q9={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},G9={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM(){return["strong",0]}},W9={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},K9={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},Z9={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},Y9={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:t=>({color:t})}],toDOM(t){let{color:e}=t.attrs;return["span",{style:`color:${e};`},0]}},J9={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:t=>({backgroundColor:t})}],toDOM(t){let{backgroundColor:e}=t.attrs;return["span",{style:`background-color:${e};`},0]}},Q9={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},X9={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},eH={link:z9,em:q9,strong:G9,code:W9,u:K9,s:Z9,text_color:Y9,text_background_color:J9,sup:Q9,sub:X9},tH={content:"block+"},nH={group:"inline"},rH={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(t){let{textAlign:e}=t.style,r=t.getAttribute("align")||e||null,n=t.getAttribute("data-indent")||null;return{align:r,indent:parseInt(n,10)||null}}}],toDOM(t){let{align:e,indent:r}=t.attrs,n={textAlign:e!=="left"?e:null,marginLeft:r!==null?`${r*40}px`:null};return["p",{style:rh(n)||null,"data-indent":r??null},0]}},iH={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(t){let e=t.getAttribute("data-indent")||null;return{indent:parseInt(e,10)||null}}}],toDOM(t){let{indent:e}=t.attrs,r={marginLeft:e!==null?`${e*40}px`:null};return["blockquote",{style:rh(r)||null,"data-indent":e??null},0]}},oH={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},sH={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(t){let{textAlign:e}=t.style,r=t.getAttribute("align")||e||null,n=t.getAttribute("data-indent")||null;return{level:1,align:r,indent:parseInt(n,10)||null}}},{tag:"h2",getAttrs(t){let{textAlign:e}=t.style,r=t.getAttribute("align")||e||null,n=t.getAttribute("data-indent")||null;return{level:2,align:r,indent:parseInt(n,10)||null}}},{tag:"h3",getAttrs(t){let{textAlign:e}=t.style,r=t.getAttribute("align")||e||null,n=t.getAttribute("data-indent")||null;return{level:3,align:r,indent:parseInt(n,10)||null}}},{tag:"h4",getAttrs(t){let{textAlign:e}=t.style,r=t.getAttribute("align")||e||null,n=t.getAttribute("data-indent")||null;return{level:4,align:r,indent:parseInt(n,10)||null}}},{tag:"h5",getAttrs(t){let{textAlign:e}=t.style,r=t.getAttribute("align")||e||null,n=t.getAttribute("data-indent")||null;return{level:5,align:r,indent:parseInt(n,10)||null}}},{tag:"h6",getAttrs(t){let{textAlign:e}=t.style,r=t.getAttribute("align")||e||null,n=t.getAttribute("data-indent")||null;return{level:6,align:r,indent:parseInt(n,10)||null}}}],toDOM(t){let{level:e,align:r,indent:n}=t.attrs,i={textAlign:r!=="left"?r:null,marginLeft:n!==null?`${n*40}px`:null},s={style:rh(i)||null,"data-indent":n??null};return[`h${e}`,s,0]}},aH={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},lH={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},cH={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt"),width:t.getAttribute("width")}}}],toDOM(t){let{src:e,alt:r,title:n,width:i}=t.attrs;return["img",{src:e,alt:r,title:n,width:i}]}},uH=Ee(j({},m2),{content:"paragraph block*"}),dH=Ee(j({},f2),{content:"list_item+",group:"block"}),pH=Ee(j({},h2),{content:"list_item+",group:"block"}),fH={doc:tH,text:nH,paragraph:rH,blockquote:iH,horizontal_rule:oH,heading:sH,hard_break:lH,code_block:aH,image:cH,list_item:uH,ordered_list:dH,bullet_list:pH},Gu=new uh({marks:eH,nodes:fH});var b2=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function hH(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}var mH=(t,e,r)=>{let n=hH(t,r);if(!n)return!1;let i=C2(n);if(!i){let s=n.blockRange(),a=s&&ua(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(x2(t,i,e,-1))return!0;if(n.parent.content.size==0&&(Ql(o,"end")||Ne.isSelectable(o)))for(let s=n.depth;;s--){let a=yh(t.doc,n.before(s),n.after(s),he.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Ql(o,"end")?Je.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Ne.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return o.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Ql(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}var gH=(t,e,r)=>{let{$head:n,empty:i}=t.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;o=C2(n)}let s=o&&o.nodeBefore;return!s||!Ne.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Ne.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function C2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function vH(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}var yH=(t,e,r)=>{let n=vH(t,r);if(!n)return!1;let i=w2(n);if(!i)return!1;let o=i.nodeAfter;if(x2(t,i,e,1))return!0;if(n.parent.content.size==0&&(Ql(o,"start")||Ne.isSelectable(o))){let s=yh(t.doc,n.before(),n.after(),he.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Ql(o,"start")?Je.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Ne.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},bH=(t,e,r)=>{let{$head:n,empty:i}=t.selection,o=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;o=w2(n)}let s=o&&o.nodeAfter;return!s||!Ne.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Ne.create(t.doc,o.pos)).scrollIntoView()),!0)};function w2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}var _2=(t,e)=>{let{$from:r,$to:n}=t.selection,i=r.blockRange(n),o=i&&ua(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},Z1=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Y1(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}var J1=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),o=r.indexAfter(-1),s=Y1(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=r.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Je.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},Q1=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof Mr||n.parent.inlineContent||i.parent.inlineContent)return!1;let o=Y1(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(gt.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},X1=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let o=r.before();if(ts(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let n=r.blockRange(),i=n&&ua(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)};function CH(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof Ne&&e.selection.node.isBlock)return!n.parentOffset||!ts(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;let o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof gt||e.selection instanceof Mr)&&s.deleteSelection();let a=n.depth==0?null:Y1(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=t&&t(i.parent,o,n),c=l?[l]:o&&a?[{type:a}]:void 0,u=ts(s.doc,s.mapping.map(n.pos),1,c);if(!c&&!u&&ts(s.doc,s.mapping.map(n.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),u=!0),!u)return!1;if(s.split(s.mapping.map(n.pos),1,c),!o&&!n.parentOffset&&n.parent.type!=a){let d=s.mapping.map(n.before()),v=s.doc.resolve(d);a&&n.node(-1).canReplaceWith(v.index(),v.index()+1,a)&&s.setNodeMarkup(s.mapping.map(n.before()),a)}return r&&r(s.scrollIntoView()),!0}}var eb=CH();var wH=(t,e)=>(e&&e(t.tr.setSelection(new Mr(t.doc))),!0);function _H(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,o=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(o-1,o)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||da(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function x2(t,e,r,n){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&_H(t,e,r))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(r){let C=e.pos+o.nodeSize,_=oe.empty;for(let L=s.length-1;L>=0;L--)_=oe.from(s[L].create(null,_));_=oe.from(i.copy(_));let S=t.tr.step(new wn(e.pos-1,C,e.pos,C,new he(_,1,0),s.length,!0)),M=S.doc.resolve(C+2*s.length);M.nodeAfter&&M.nodeAfter.type==i.type&&da(S.doc,M.pos)&&S.join(M.pos),r(S.scrollIntoView())}return!0}let u=o.type.spec.isolating||n>0&&l?null:Je.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),v=d&&ua(d);if(v!=null&&v>=e.depth)return r&&r(t.tr.lift(d,v).scrollIntoView()),!0;if(c&&Ql(o,"start",!0)&&Ql(i,"end")){let C=i,_=[];for(;_.push(C),!C.isTextblock;)C=C.lastChild;let S=o,M=1;for(;!S.isTextblock;S=S.firstChild)M++;if(C.canReplace(C.childCount,C.childCount,S.content)){if(r){let L=oe.empty;for(let ue=_.length-1;ue>=0;ue--)L=oe.from(_[ue].copy(L));let re=t.tr.step(new wn(e.pos-_.length,e.pos+o.nodeSize,e.pos+M,e.pos+o.nodeSize-M,new he(L,_.length,0),0,!0));r(re.scrollIntoView())}return!0}}return!1}function S2(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(r&&r(e.tr.setSelection(gt.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}var xH=S2(-1),SH=S2(1);function E2(t,e=null){return function(r,n){let{$from:i,$to:o}=r.selection,s=i.blockRange(o),a=s&&Hl(s,t,e);return a?(n&&n(r.tr.wrap(s,a).scrollIntoView()),!0):!1}}function Rh(t,e=null){return function(r,n){let i=!1;for(let o=0;o<r.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=r.selection.ranges[o];r.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=r.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(n){let o=r.tr;for(let s=0;s<r.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=r.selection.ranges[s];o.setBlockType(a,l,t,e)}n(o.scrollIntoView())}return!0}}function EH(t,e,r,n){for(let i=0;i<e.length;i++){let{$from:o,$to:s}=e[i],a=o.depth==0?t.inlineContent&&t.type.allowsMarkType(r):!1;if(t.nodesBetween(o.pos,s.pos,(l,c)=>{if(a||!n&&l.isAtom&&l.isInline&&c>=o.pos&&c+l.nodeSize<=s.pos)return!1;a=l.inlineContent&&l.type.allowsMarkType(r)}),a)return!0}return!1}function IH(t){let e=[];for(let r=0;r<t.length;r++){let{$from:n,$to:i}=t[r];n.doc.nodesBetween(n.pos,i.pos,(o,s)=>{if(o.isAtom&&o.content.size&&o.isInline&&s>=n.pos&&s+o.nodeSize<=i.pos)return s+1>n.pos&&e.push(new ql(n,n.doc.resolve(s+1))),n=n.doc.resolve(s+1+o.content.size),!1}),n.pos<i.pos&&e.push(new ql(n,i))}return e}function wa(t,e=null,r){let n=(r&&r.removeWhenPresent)!==!1,i=(r&&r.enterInlineAtoms)!==!1;return function(o,s){let{empty:a,$cursor:l,ranges:c}=o.selection;if(a&&!l||!EH(o.doc,c,t,i))return!1;if(s)if(l)t.isInSet(o.storedMarks||l.marks())?s(o.tr.removeStoredMark(t)):s(o.tr.addStoredMark(t.create(e)));else{let u,d=o.tr;i||(c=IH(c)),n?u=!c.some(v=>o.doc.rangeHasMark(v.$from.pos,v.$to.pos,t)):u=!c.every(v=>{let C=!1;return d.doc.nodesBetween(v.$from.pos,v.$to.pos,(_,S,M)=>{if(C)return!1;C=!t.isInSet(_.marks)&&!!M&&M.type.allowsMarkType(t)&&!(_.isText&&/^\s*$/.test(_.textBetween(Math.max(0,v.$from.pos-S),Math.min(_.nodeSize,v.$to.pos-S))))}),!C});for(let v=0;v<c.length;v++){let{$from:C,$to:_}=c[v];if(!u)d.removeMark(C.pos,_.pos,t);else{let S=C.pos,M=_.pos,L=C.nodeAfter,re=_.nodeBefore,ue=L&&L.isText?/^\s*/.exec(L.text)[0].length:0,_e=re&&re.isText?/\s*$/.exec(re.text)[0].length:0;S+ue<M&&(S+=ue,M-=_e),d.addMark(S,M,t.create(e))}}s(d.scrollIntoView())}return!0}}function Xl(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}var K1=Xl(b2,mH,gH),y2=Xl(b2,yH,bH),yo={Enter:Xl(Z1,Q1,X1,eb),"Mod-Enter":J1,Backspace:K1,"Mod-Backspace":K1,"Shift-Backspace":K1,Delete:y2,"Mod-Delete":y2,"Mod-a":wH},I2={"Ctrl-h":yo.Backspace,"Alt-Backspace":yo["Mod-Backspace"],"Ctrl-d":yo.Delete,"Ctrl-Alt-Backspace":yo["Mod-Delete"],"Alt-Delete":yo["Mod-Delete"],"Alt-d":yo["Mod-Delete"],"Ctrl-a":xH,"Ctrl-e":SH};for(let t in yo)I2[t]=yo[t];var MH=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,M2=MH?I2:yo;var Yr=class{constructor(e,r,n={}){this.match=e,this.match=e,this.handler=typeof r=="string"?DH(r):r,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1}};function DH(t){return function(e,r,n,i){let o=t;if(r[1]){let s=r[0].lastIndexOf(r[1]);o+=r[0].slice(s+r[1].length),n+=s;let a=n-i;a>0&&(o=r[0].slice(s-a,s)+o,n=i)}return e.tr.insertText(o,n,i)}}var kH=500;function k2({rules:t}){let e=new Un({state:{init(){return null},apply(r,n){let i=r.getMeta(this);return i||(r.selectionSet||r.docChanged?null:n)}},props:{handleTextInput(r,n,i,o){return D2(r,n,i,o,t,e)},handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:n}=r.state.selection;n&&D2(r,n.pos,n.pos,"",t,e)})}}},isInputRules:!0});return e}function D2(t,e,r,n,i,o){if(t.composing)return!1;let s=t.state,a=s.doc.resolve(e),l=a.parent.textBetween(Math.max(0,a.parentOffset-kH),a.parentOffset,null,"\uFFFC")+n;for(let c=0;c<i.length;c++){let u=i[c];if(a.parent.type.spec.code){if(!u.inCode)continue}else if(u.inCode==="only")continue;let d=u.match.exec(l),v=d&&u.handler(s,d,e-(d[0].length-n.length),r);if(v)return u.undoable&&v.setMeta(o,{transform:v,from:e,to:r,text:n}),t.dispatch(v),!0}return!1}var T2=new Yr(/--$/,"\u2014"),O2=new Yr(/\.\.\.$/,"\u2026"),TH=new Yr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C"),OH=new Yr(/"$/,"\u201D"),AH=new Yr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),PH=new Yr(/'$/,"\u2019"),A2=[TH,OH,AH,PH];function Fh(t,e,r=null,n){return new Yr(t,(i,o,s,a)=>{let l=r instanceof Function?r(o):r,c=i.tr.delete(s,a),u=c.doc.resolve(s),d=u.blockRange(),v=d&&Hl(d,e,l);if(!v)return null;c.wrap(d,v);let C=c.doc.resolve(s-1).nodeBefore;return C&&C.type==e&&da(c.doc,s-1)&&(!n||n(o,C))&&c.join(s-1),c})}function tb(t,e,r=null){return new Yr(t,(n,i,o,s)=>{let a=n.doc.resolve(o),l=r instanceof Function?r(i):r;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?n.tr.delete(o,s).setBlockType(o,o,e,l):null})}var Lh=(t,e)=>{let{from:r,$from:n,to:i,empty:o}=t.selection;return o?!!e.isInSet(t.storedMarks||n.marks()):t.doc.rangeHasMark(r,i,e)},NH=(t,e)=>{for(let r=e.depth;r>0;r-=1)if(e.node(r).type===t)return e.node(r).type;return null},nb=(t,e,r={})=>{let{selection:n}=t,{$from:i,to:o}=n,s=NH(e,i);return!Object.entries(r).length||!s?!!s:o<=i.end()&&i.parent.hasMarkup(e,r)},P2=t=>{let e=[],{selection:r,storedMarks:n}=t,{from:i,to:o,empty:s,$from:a}=r;return s?e=n||a.marks():t.doc.nodesBetween(i,o,l=>{e=[...e,...l.marks]}),e},rb=t=>{let e=[],{selection:{from:r,to:n}}=t;return t.doc.nodesBetween(r,n,i=>{e.push(i)}),e},ib=(t,e,r)=>{for(let n of e){let{$from:i,$to:o}=n,s=i.depth===0?t.type.allowsMarkType(r):!1;if(t.nodesBetween(i.pos,o.pos,a=>s?!1:(s=a.inlineContent&&a.type.allowsMarkType(r),!0)),s)return!0}return!1},ob=(t,e,r)=>new Yr(t,(n,i,o,s)=>{let{tr:a}=n,l=o,c=s,[u,,d]=i,v=u.search(/\S/);if(d){let C=o+u.indexOf(d),_=C+d.length;_<s&&a.delete(_,s),C>o&&a.delete(o+v,C),c=o+d.length+v}return a.addMark(l,c,e.create(r)),a.removeStoredMark(e),a}),N2=(t,e)=>{let{$from:r}=t.selection;for(let n=r.depth;n>=0;n-=1){let i=r.index(n);if(r.node(n).canReplaceWith(i,i,e))return!0}return!1};var R2=()=>(t,e)=>{let{doc:r,selection:n,tr:i,schema:o}=t,{$head:{pos:s},from:a,to:l}=n,c=o.marks.link;if(a===l){let u=r.resolve(s),d=s-u.textOffset,v=d+u.parent.child(u.index()).nodeSize;i.removeMark(d,v,c)}else i.removeMark(a,l,c);return i.docChanged?(e?.(i),!0):!1},sb=(t,e={})=>(r,n)=>{let{tr:i,selection:o}=r,{empty:s,ranges:a,$from:l,$to:c}=o;if(s&&o instanceof gt){let{$cursor:u}=o;if(!u||!ib(r.doc,a,t)||(i.addStoredMark(t.create(e)),!i.storedMarksSet))return!1;n?.(i)}else{if(i.addMark(l.pos,c.pos,t.create(e)),!i.docChanged)return!1;n?.(i.scrollIntoView())}return!0},F2=t=>(e,r)=>{let{tr:n,selection:i,storedMarks:o,doc:s}=e,{empty:a,ranges:l}=i;if(a&&i instanceof gt){let{$cursor:c}=i;if(!c||!ib(e.doc,l,t))return!1;if(t.isInSet(o||c.marks()))return n.removeStoredMark(t),r?.(n),!0}else{for(let c of l){let{$from:u,$to:d}=c;s.rangeHasMark(u.pos,d.pos,t)&&n.removeMark(u.pos,d.pos,t)}if(!n.docChanged)return!1;r?.(n.scrollIntoView())}return!1};var Vh=200,On=function(){};On.prototype.append=function(e){return e.length?(e=On.from(e),!this.length&&e||e.length<Vh&&this.leafAppend(e)||this.length<Vh&&e.leafPrepend(this)||this.appendInner(e)):this};On.prototype.prepend=function(e){return e.length?On.from(e).append(this):this};On.prototype.appendInner=function(e){return new RH(this,e)};On.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?On.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};On.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};On.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};On.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},r,n),i};On.from=function(e){return e instanceof On?e:e&&e.length?new L2(e):On.empty};var L2=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Vh)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Vh)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(On);On.empty=new L2([]);var RH=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(n,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(n,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(n,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(n,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(On),ab=On;var FH=500,xa=class t{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,o;r&&(i=this.remapping(n,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,v)=>{if(!d.step){i||(i=this.remapping(n,v+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new Fi(d.map));let C=d.step.map(i.slice(o)),_;C&&s.maybeStep(C).doc&&(_=s.mapping.maps[s.mapping.maps.length-1],c.push(new Fi(_,void 0,void 0,c.length+u.length))),o--,_&&i.appendMap(_,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new t(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,r,n,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),v=new Fi(e.mapping.maps[u],d,r),C;(C=l&&l.merge(v))&&(v=C,u?o.pop():a=a.slice(0,a.length-1)),o.push(v),r&&(s++,r=void 0),i||(l=v)}let c=s-n.depth;return c>VH&&(a=LH(a,c),s-=c),new t(a.append(o),s)}remapping(e,r){let n=new Au;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,s)},e,r),n}addMaps(e){return this.eventCount==0?this:new t(this.items.append(e.map(r=>new Fi(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(v=>{v.selection&&a--},i);let l=r;this.items.forEach(v=>{let C=o.getMirror(--l);if(C==null)return;s=Math.min(s,C);let _=o.maps[C];if(v.step){let S=e.steps[C].invert(e.docs[C]),M=v.selection&&v.selection.map(o.slice(l+1,C));M&&a++,n.push(new Fi(_,S,M))}else n.push(new Fi(_))},i);let c=[];for(let v=r;v<s;v++)c.push(new Fi(o.maps[v]));let u=this.items.slice(0,i).append(c).append(n),d=new t(u,a);return d.emptyItemCount()>FH&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let u=s.selection&&s.selection.map(r.slice(n));u&&o++;let d=new Fi(c.invert(),l,u),v,C=i.length-1;(v=i.length&&i[C].merge(d))?i[C]=v:i.push(d)}}else s.map&&n--},this.items.length,0),new t(ab.from(i.reverse()),o)}};xa.empty=new xa(ab.empty,0);function LH(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}var Fi=class t{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new t(r.getMap().invert(),r,this.selection)}}},Li=class{constructor(e,r,n,i,o){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=o}},VH=20;function BH(t,e,r,n){let i=r.getMeta(_a),o;if(i)return i.historyState;r.getMeta($H)&&(t=new Li(t.done,t.undone,null,0,-1));let s=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(s&&s.getMeta(_a))return s.getMeta(_a).redo?new Li(t.done.addTransform(r,void 0,n,Bh(e)),t.undone,V2(r.mapping.maps),t.prevTime,t.prevComposition):new Li(t.done,t.undone.addTransform(r,void 0,n,Bh(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=r.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(r.time||0)-n.newGroupDelay||!jH(r,t.prevRanges)),c=s?lb(t.prevRanges,r.mapping):V2(r.mapping.maps);return new Li(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,Bh(e)),xa.empty,c,r.time,a??t.prevComposition)}else return(o=r.getMeta("rebased"))?new Li(t.done.rebased(r,o),t.undone.rebased(r,o),lb(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Li(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),lb(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function jH(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let o=0;o<e.length;o+=2)n<=e[o+1]&&i>=e[o]&&(r=!0)}),r}function V2(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,o,s)=>e.push(o,s));return e}function lb(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),o=e.map(t[n+1],-1);i<=o&&r.push(i,o)}return r}function UH(t,e,r){let n=Bh(e),i=_a.get(e).spec.config,o=(r?t.undone:t.done).popEvent(e,n);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(r?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,n),l=new Li(r?a:o.remaining,r?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(_a,{redo:r,historyState:l})}var cb=!1,B2=null;function Bh(t){let e=t.plugins;if(B2!=e){cb=!1,B2=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){cb=!0;break}}return cb}var _a=new Dr("history"),$H=new Dr("closeHistory");function j2(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Un({key:_a,state:{init(){return new Li(xa.empty,xa.empty,null,0,-1)},apply(e,r,n){return BH(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?Uh:n=="historyRedo"?Wu:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function jh(t,e){return(r,n)=>{let i=_a.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let o=UH(i,r,t);o&&n(e?o.scrollIntoView():o)}return!0}}var Uh=jh(!1,!0),Wu=jh(!0,!0),Die=jh(!1,!1),kie=jh(!0,!1);var bo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Hh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},HH=typeof navigator<"u"&&/Mac/.test(navigator.platform),zH=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(sn=0;sn<10;sn++)bo[48+sn]=bo[96+sn]=String(sn);var sn;for(sn=1;sn<=24;sn++)bo[sn+111]="F"+sn;var sn;for(sn=65;sn<=90;sn++)bo[sn]=String.fromCharCode(sn+32),Hh[sn]=String.fromCharCode(sn);var sn;for($h in bo)Hh.hasOwnProperty($h)||(Hh[$h]=bo[$h]);var $h;function U2(t){var e=HH&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||zH&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Hh:bo)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}var qH=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function GH(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))qH?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),s&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function WH(t){let e=Object.create(null);for(let r in t)e[GH(r)]=t[r];return e}function ub(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function Ku(t){return new Un({props:{handleKeyDown:KH(t)}})}function KH(t){let e=WH(t);return function(r,n){let i=U2(n),o,s=e[ub(i,n)];if(s&&s(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let a=e[ub(i,n,!1)];if(a&&a(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=bo[n.keyCode])&&o!=i){let a=e[ub(o,n)];if(a&&a(r.state,r.dispatch,r))return!0}}return!1}}var ZH=["imgEl"],YH=t=>({"NgxEditor__Resizer--Active":t});function JH(t,e){if(t&1){let r=ve();f(0,"span",4)(1,"span",5),P("mousedown",function(i){U(r);let o=N();return $(o.startResizing(i,"left"))}),h(),f(2,"span",6),P("mousedown",function(i){U(r);let o=N();return $(o.startResizing(i,"right"))}),h(),f(3,"span",7),P("mousedown",function(i){U(r);let o=N();return $(o.startResizing(i,"left"))}),h(),f(4,"span",8),P("mousedown",function(i){U(r);let o=N();return $(o.startResizing(i,"right"))}),h()()}}var QH=["ngxEditor"],XH=["*"];function e7(t,e){if(t&1&&(f(0,"div",12),y(1),w(2,"async"),h()),t&2){let r=N(2);m(),A(" ",x(2,1,(r.href.errors==null?null:r.href.errors.pattern)&&r.getLabel("enterValidUrl"))," ")}}function t7(t,e){if(t&1&&(f(0,"div",12),y(1),h()),t&2){let r=N(2);m(),A(" ",(r.text.errors==null?null:r.text.errors.required)&&"This is required"," ")}}function n7(t,e){if(t&1&&(f(0,"div",4)(1,"div",5)(2,"label"),I(3,"input",13),y(4),w(5,"async"),h()()()),t&2){let r=N(2);m(4),A(" ",x(5,1,r.getLabel("openInNewTab"))," ")}}function r7(t,e){if(t&1){let r=ve();f(0,"div",2)(1,"form",3),P("ngSubmit",function(i){U(r);let o=N();return $(o.insertLink(i))}),f(2,"div",4)(3,"div",5)(4,"label",6),y(5),w(6,"async"),h(),I(7,"input",7),Y(8,e7,3,3,"div",8),h()(),f(9,"div",4)(10,"div",5)(11,"label",6),y(12),w(13,"async"),h(),I(14,"input",9),Y(15,t7,2,1,"div",8),h()(),Y(16,n7,6,3,"div",10),f(17,"button",11),y(18),w(19,"async"),h()()()}if(t&2){let r=N();m(),O("formGroup",r.form),m(3),O("htmlFor",r.getId("link-popup-url")),m(),k(x(6,12,r.getLabel("url"))),m(2),O("id",r.getId("link-popup-url")),m(),O("ngIf",r.href.touched&&r.href.invalid),m(3),O("htmlFor",r.getId("link-popup-label")),m(),k(x(13,14,r.getLabel("text"))),m(2),O("id",r.getId("link-popup-label")),m(),O("ngIf",r.text.touched&&r.text.invalid),m(),O("ngIf",r.options.showOpenInNewTab),m(),O("disabled",!r.form.valid),m(),k(x(19,16,r.getLabel("insert")))}}var i7=(t,e)=>({"NgxEditor__Dropdown--Active":t,"NgxEditor--Disabled":e});function o7(t,e){if(t&1){let r=ve();f(0,"button",4),w(1,"async"),P("mousedown",function(i){let o=U(r).$implicit,s=N(2);return $(s.onDropdownItemMouseClick(i,o))})("keydown.enter",function(i){let o=U(r).$implicit,s=N(2);return $(s.onDropdownItemKeydown(i,o))})("keydown.space",function(i){let o=U(r).$implicit,s=N(2);return $(s.onDropdownItemKeydown(i,o))}),y(2),w(3,"async"),h()}if(t&2){let r=e.$implicit,n=N(2);O("ngClass",Bo(8,i7,r===n.activeItem,n.disabledItems.includes(r)))("ariaLabel",x(1,4,n.getName(r))),no("aria-selected",r===n.activeItem),m(2),A(" ",x(3,6,n.getName(r))," ")}}function s7(t,e){if(t&1&&(f(0,"div",2),Y(1,o7,4,11,"button",3),h()),t&2){let r=N();m(),O("ngForOf",r.items)("ngForTrackBy",r.trackByIndex)}}function a7(t,e){if(t&1&&(f(0,"div",12),y(1),w(2,"async"),h()),t&2){let r=N(2);m(),A(" ",x(2,1,(r.src.errors==null?null:r.src.errors.pattern)&&r.getLabel("enterValidUrl"))," ")}}function l7(t,e){if(t&1){let r=ve();f(0,"div",2)(1,"form",3),P("ngSubmit",function(i){U(r);let o=N();return $(o.insertLink(i))}),f(2,"div",4)(3,"div",5)(4,"label",6),y(5),w(6,"async"),h(),I(7,"input",7),Y(8,a7,3,3,"div",8),h()(),f(9,"div",4)(10,"div",5)(11,"label",6),y(12),w(13,"async"),h(),I(14,"input",9),h()(),f(15,"div",4)(16,"div",5)(17,"label",6),y(18),w(19,"async"),h(),I(20,"input",10),h()(),f(21,"button",11),y(22),w(23,"async"),h()()()}if(t&2){let r=N();m(),O("formGroup",r.form),m(3),O("htmlFor",r.getId("image-popup-url")),m(),k(x(6,13,r.getLabel("url"))),m(2),O("id",r.getId("image-popup-url")),m(),O("ngIf",r.src.touched&&r.src.invalid),m(3),O("htmlFor",r.getId("image-popup-label")),m(),k(x(13,15,r.getLabel("altText"))),m(2),O("id",r.getId("image-popup-label")),m(3),O("htmlFor",r.getId("image-popup-title")),m(),k(x(19,17,r.getLabel("title"))),m(2),O("id",r.getId("image-popup-title")),m(),O("disabled",!r.form.valid||!r.form.dirty),m(),k(x(23,19,r.getLabel("insert")))}}var c7=(t,e)=>({backgroundColor:t,color:e}),u7=t=>({"NgxEditor__Color--Active":t});function d7(t,e){if(t&1){let r=ve();f(0,"button",7),P("mousedown",function(i){let o=U(r).$implicit,s=N(3);return $(s.onColorSelectMouseClick(i,o))})("keydown.enter",function(){let i=U(r).$implicit,o=N(3);return $(o.onColorSelectKeydown(i))})("keydown.space",function(){let i=U(r).$implicit,o=N(3);return $(o.onColorSelectKeydown(i))}),h()}if(t&2){let r=e.$implicit,n=N(3);O("ngStyle",Bo(3,c7,r,n.getContrastYIQ(r)))("title",r)("ngClass",un(6,u7,n.activeColors.includes(r)))}}function p7(t,e){if(t&1&&(f(0,"div",5),Y(1,d7,1,8,"button",6),h()),t&2){let r=e.$implicit,n=N(2);m(),O("ngForOf",r)("ngForTrackBy",n.trackByIndex)}}function f7(t,e){if(t&1){let r=ve();f(0,"div",2),Y(1,p7,2,2,"div",3),f(2,"button",4),P("mousedown",function(i){U(r);let o=N();return $(o.onRemoveMouseClick(i))})("keydown.enter",function(){U(r);let i=N();return $(i.onRemoveKeydown())})("keydown.space",function(){U(r);let i=N();return $(i.onRemoveKeydown())}),y(3),w(4,"async"),h()()}if(t&2){let r=N();m(),O("ngForOf",r.presets)("ngForTrackBy",r.trackByIndex),m(),O("disabled",!r.isActive),m(),A(" ",x(4,4,r.getLabel("remove"))," ")}}var h7=(t,e)=>({"NgxEditor--Disabled":t,"NgxEditor__MenuBar--Reverse":e});function m7(t,e){if(t&1&&I(0,"ngx-toggle-command",7),t&2){let r=N().$implicit,n=N(2);ar(n.iconContainerClass),O("toolbarItem",r)}}function g7(t,e){if(t&1&&I(0,"ngx-insert-command",7),t&2){let r=N().$implicit,n=N(2);ar(n.iconContainerClass),O("toolbarItem",r)}}function v7(t,e){if(t&1&&(Lo(0),I(1,"ngx-link",8),Vo()),t&2){let r=N().$implicit,n=N(2);m(),ar(n.iconContainerClass),O("options",n.getLinkOptions(r))}}function y7(t,e){if(t&1&&I(0,"ngx-image"),t&2){let r=N(3);ar(r.iconContainerClass)}}function b7(t,e){if(t&1&&I(0,"ngx-dropdown",10),t&2){let r=e.$implicit,n=N(4);ar(n.dropdownContainerClass),O("group",r.key)("items",r.value)}}function C7(t,e){if(t&1&&(Lo(0),Y(1,b7,1,4,"ngx-dropdown",9),w(2,"keyvalue"),Vo()),t&2){let r=N().$implicit,n=N(2);m(),O("ngForOf",x(2,2,n.getDropdownItems(r)))("ngForTrackBy",n.trackByIndex)}}function w7(t,e){if(t&1&&I(0,"ngx-color-picker",11),t&2){let r=N(3);ar(r.iconContainerClass),O("presets",r.presets)}}function _7(t,e){if(t&1&&I(0,"ngx-color-picker",12),t&2){let r=N(3);ar(r.iconContainerClass),O("presets",r.presets)}}function x7(t,e){if(t&1&&I(0,"div"),t&2){let r=N(3);ar(r.seperatorClass)}}function S7(t,e){if(t&1&&(Lo(0),Y(1,m7,1,3,"ngx-toggle-command",3)(2,g7,1,3,"ngx-insert-command",3)(3,v7,2,3,"ng-container",2)(4,y7,1,2,"ngx-image",4)(5,C7,3,4,"ng-container",2)(6,w7,1,3,"ngx-color-picker",5)(7,_7,1,3,"ngx-color-picker",6)(8,x7,1,2,"div",4),Vo()),t&2){let r=e.$implicit,n=e.last,i=N().last,o=N();m(),O("ngIf",o.toggleCommands.includes(r)),m(),O("ngIf",o.insertCommands.includes(r)),m(),O("ngIf",o.isLinkItem(r)),m(),O("ngIf",r==="image"),m(),O("ngIf",o.isDropDown(r)),m(),O("ngIf",r==="text_color"),m(),O("ngIf",r==="background_color"),m(),O("ngIf",n&&!i)}}function E7(t,e){if(t&1&&(Lo(0),Y(1,S7,9,8,"ng-container",1),Vo()),t&2){let r=e.$implicit,n=N();m(),O("ngForOf",r)("ngForTrackBy",n.trackByIndex)}}function I7(t,e){if(t&1&&(Lo(0),It(1,13),Vo()),t&2){let r=N();m(),O("ngTemplateOutlet",r.customMenuRef)}}var M7=(t=!0)=>new Un({key:new Dr("editable"),state:{init(){return t},apply(e,r){return e.getMeta("UPDATE_EDITABLE")??r}},props:{editable(e){return this.getState(e)},attributes(e){return this.getState(e)?null:{class:"NgxEditor__Content--Disabled"}}}}),D7="NgxEditor__Placeholder",k7=t=>new Un({key:new Dr("placeholder"),state:{init(){return t??""},apply(e,r){return e.getMeta("UPDATE_PLACEHOLDER")??r}},props:{decorations(e){let{doc:r}=e,{textContent:n,childCount:i}=r,o=this.getState(e);if(!o||i>1)return Zn.empty;let s=[],a=(l,c)=>{if(l.type.isBlock&&l.childCount===0&&n.length===0){let u=c,d=c+l.nodeSize,v=Ri.node(u,d,{class:D7,"data-placeholder":o,"data-align":l.attrs.align??null});s.push(v)}return!1};return r.descendants(a),Zn.create(r,s)}}}),T7=(t={})=>new Un({key:new Dr("attributes"),props:{attributes:t}}),O7=t=>new Un({key:new Dr("focus"),props:{handleDOMEvents:{focus:()=>(t(),!1)}}}),A7=t=>new Un({key:new Dr("blur"),props:{handleDOMEvents:{blur:()=>(t(),!1)}}}),P7=(()=>{class t{src;alt="";title="";outerWidth="";selected=!1;view;imageResize=new Ae;imgEl;startResizing(r,n){r.preventDefault(),this.resizeImage(r,n)}resizeImage(r,n){let i=r.pageX,o=this.imgEl.nativeElement.clientWidth,s=n==="left",{width:a}=window.getComputedStyle(this.view.dom),l=parseInt(a,10),c=d=>{let C=d.pageX-i,_=s?o-C:o+C;_>l||_<20||(this.outerWidth=`${_}px`)},u=d=>{d.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),this.imageResize.emit()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ngx-image-view"]],viewQuery:function(n,i){if(n&1&&Ac(ZH,7),n&2){let o;js(o=Us())&&(i.imgEl=o.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[["imgEl",""],[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(n,i){n&1&&(f(0,"span",1),Y(1,JH,5,0,"span",2),I(2,"img",3,0),h()),n&2&&(Oc("width",i.outerWidth),O("ngClass",un(7,YH,i.selected)),m(),O("ngIf",i.selected),m(),O("src",i.src,Ut)("alt",i.alt)("title",i.title))},dependencies:[Fc,zs],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]})}return t})(),db=class{dom;view;getPos;applicationRef;imageComponentRef;resizeSubscription;node;updating=!1;constructor(e,r,n,i){this.applicationRef=i.get(Si),this.imageComponentRef=US(P7,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(e.attrs),this.imageComponentRef.instance.view=r,this.dom=this.imageComponentRef.location.nativeElement,this.view=r,this.node=e,this.getPos=n,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(e,r){return JSON.stringify(e)===JSON.stringify(r)}setNodeAttributes(e){this.imageComponentRef.instance.src=e.src,this.imageComponentRef.instance.alt=e.alt,this.imageComponentRef.instance.title=e.title,this.imageComponentRef.instance.outerWidth=e.width}handleResize=()=>{if(this.updating)return;let{state:e,dispatch:r}=this.view,{tr:n}=e,i=n.setNodeMarkup(this.getPos(),void 0,Ee(j({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),o=i.doc.resolve(this.getPos()),s=new Ne(o);i.setSelection(s),r(i)};update(e){return e.type!==this.node.type?!1:(this.node=e,this.computeChanges(this.node.attrs,e.attrs)&&(this.updating=!0,this.setNodeAttributes(e.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}},N7=t=>new Un({key:new Dr("image-resize"),props:{nodeViews:{image:(e,r,n)=>new db(e,r,n,t)}}}),R7=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,J2=t=>{let e=[];return t.forEach(r=>{if(r.isText){let n=r.text,i=0,o=R7.exec(n);if(o){let s=o.index,a=s+o[0].length,{link:l}=r.type.schema.marks;s>0&&e.push(r.cut(i,s));let c=n.slice(s,a);e.push(r.cut(s,a).mark(l.create({href:c}).addToSet(r.marks))),i=a}i<n.length&&e.push(r.cut(i))}else e.push(r.copy(J2(r.content)))}),oe.fromArray(e)},F7=()=>new Un({key:new Dr("linkify"),props:{transformPasted:t=>new he(J2(t.content),t.openStart,t.openEnd)}}),Q2=t=>typeof t=="string",L7=()=>window.trustedTypes,X2=t=>L7()?.isHTML(t)??!1,eT=t=>Q2(t)||X2(t),tT={type:"doc",content:[{type:"paragraph"}]},V7=(t,e)=>{let r=e??Gu,n=r.nodeFromJSON(t),i=fo.fromSchema(r).serializeFragment(n.content),o=document.createElement("div");return o.appendChild(i),o.innerHTML},B7=(t,e,r)=>{let n=e??Gu,i=document.createElement("div");return i.innerHTML=t,es.fromSchema(n).parse(i,r).toJSON()},$2=(t,e,r)=>{if(!t)return e.nodeFromJSON(tT);if(!eT(t))return e.nodeFromJSON(t);let n=B7(t,e,r);return e.nodeFromJSON(n)},us=(()=>{class t{renderer;injector;elementRef;constructor(r,n,i){this.renderer=r,this.injector=n,this.elementRef=i}ngxEditor;editor;outputFormat;placeholder="Type Here...";focusOut=new Ae;focusIn=new Ae;unsubscribe=new Ze;onChange=()=>{};onTouched=()=>{};writeValue(r){!this.outputFormat&&eT(r)&&(this.outputFormat="html"),this.editor.setContent(r??tT)}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.setMeta("UPDATE_EDITABLE",!r),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",r)}handleChange(r){if(this.outputFormat==="html"){let n=V7(r,this.editor.schema);this.onChange(n);return}this.onChange(r)}setMeta(r,n){let{dispatch:i,state:{tr:o}}=this.editor.view;i(o.setMeta(r,n))}setPlaceholder(r){this.setMeta("UPDATE_PLACEHOLDER",r)}registerPlugins(){this.editor.registerPlugin(M7()),this.editor.registerPlugin(k7(this.placeholder)),this.editor.registerPlugin(T7({class:"NgxEditor__Content"})),this.editor.registerPlugin(O7(()=>{this.focusIn.emit()})),this.editor.registerPlugin(A7(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin(N7(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(F7())}ngOnInit(){if(!this.editor)throw new jl("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(en(this.unsubscribe)).subscribe(r=>{this.handleChange(r)})}ngOnChanges(r){r.placeholder&&!r.placeholder.isFirstChange()&&this.setPlaceholder(r.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static \u0275fac=function(n){return new(n||t)(T(tn),T(Wn),T(bt))};static \u0275cmp=ae({type:t,selectors:[["ngx-editor"]],viewQuery:function(n,i){if(n&1&&Ac(QH,7),n&2){let o;js(o=Us())&&(i.ngxEditor=o.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[fn([{provide:qr,useExisting:xn(()=>t),multi:!0}]),Sn],ngContentSelectors:XH,decls:3,vars:0,consts:[["ngxEditor",""],[1,"NgxEditor"]],template:function(n,i){n&1&&(SS(),f(0,"div",1,0),ES(2),h())},styles:[`:root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}
`],encapsulation:2})}return t})(),cs=(()=>{class t{editor;customMenuRefChange=new Ze;setCustomMenuRef(r){this.customMenuRefChange.next(r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vi=class{name;constructor(e){this.name=e}apply(){return(e,r)=>{let{schema:n}=e,i=n.marks[this.name];return i?sb(i)(e,r):!1}}toggle(){return(e,r)=>{let{schema:n}=e,i=n.marks[this.name];return i?wa(i)(e,r):!1}}isActive(e){let{schema:r}=e,n=r.marks[this.name];return n?Lh(e,n):!1}canExecute(e){return this.toggle()(e)}},pb=class{toggle(){return(e,r)=>{let{schema:n}=e,i=n.nodes.blockquote;return i?this.isActive(e)?_2(e,r):E2(i)(e,r):!1}}isActive(e){let{schema:r}=e,n=r.nodes.blockquote;return n?nb(e,n):!1}canExecute(e){return this.toggle()(e)}},fb=class{insert(){return(e,r)=>{let{schema:n,tr:i}=e,o=n.nodes.horizontal_rule;return o?(r(i.replaceSelectionWith(o.create()).scrollIntoView()),!0):!1}}canExecute(e){return N2(e,e.schema.nodes.horizontal_rule)}},tc=class{isBulletList=!1;constructor(e=!1){this.isBulletList=e}getType(e){return this.isBulletList?e.nodes.bullet_list:e.nodes.ordered_list}toggle(){return(e,r)=>{let{schema:n}=e,i=this.getType(n);return i?this.isActive(e)?G1(n.nodes.list_item)(e,r):g2(i)(e,r):!1}}isActive(e){let{schema:r}=e,n=this.getType(r);return n?nb(e,n):!1}canExecute(e){return this.toggle()(e)}},Co=class{level;constructor(e){this.level=e}apply(){return(e,r)=>{let{schema:n}=e,i=n.nodes.heading;return i?Rh(i)(e,r):!1}}toggle(){return(e,r)=>{let{schema:n,selection:i,doc:o}=e,s=n.nodes.heading;if(!s)return!1;let a=i.$from.before(1),c=o.nodeAt(a)?.attrs??{};return this.isActive(e)?Rh(n.nodes.paragraph,c)(e,r):Rh(s,Ee(j({},c),{level:this.level}))(e,r)}}isActive(e){let{schema:r}=e,n=rb(e),i=r.nodes.heading;if(!i)return!1;let o=[i,r.nodes.text,r.nodes.blockquote];return!!n.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(e){return this.toggle()(e)}},Sa=class{align;constructor(e){this.align=e}toggle(){return(e,r)=>{let{doc:n,selection:i,tr:o,schema:s}=e,{from:a,to:l}=i,c=!1;return n.nodesBetween(a,l,(u,d)=>{let v=u.type;if([s.nodes.paragraph,s.nodes.heading].includes(v)){c=!0;let C=u.attrs.align===this.align?null:this.align;o.setNodeMarkup(d,v,Ee(j({},u.attrs),{align:C}))}return!0}),c?(o.docChanged&&r?.(o),!0):!1}}isActive(e){return!!rb(e).find(i=>i.attrs.align===this.align)}canExecute(e){return this.toggle()(e)}},j7={strict:!0},hb=class{update(e){return(r,n)=>{let{schema:i,selection:o}=r,s=i.marks.link;return!s||o.empty?!1:wa(s,e)(r,n)}}insert(e,r){return(n,i)=>{let{schema:o,tr:s}=n;if(!o.marks.link)return!1;let l={href:r.href,title:r.title??e,target:r.target??"_blank"},c=o.text(e,[o.marks.link.create(l)]);return s.replaceSelectionWith(c,!1).scrollIntoView(),s.docChanged?(i?.(s),!0):!1}}isActive(e,r=j7){if(r.strict)return!0;let{schema:n}=e,i=n.marks.link;return i?Lh(e,i):!1}remove(e,r){return R2()(e,r)}canExecute(e){let r={href:""};return this.insert("Exec",r)(e)||this.update(r)(e)}},nT=class{insert(e,r){return(n,i)=>{let{schema:o,tr:s,selection:a}=n,l=o.nodes.image;if(!l)return!1;let c=j({width:null,src:e},r);!c.width&&a instanceof Ne&&a.node.type===l&&(c.width=a.node.attrs.width),s.replaceSelectionWith(l.createAndFill(c));let u=s.doc.resolve(s.selection.anchor-s.selection.$anchor.nodeBefore.nodeSize);return s.setSelection(new Ne(u)).scrollIntoView(),s.docChanged?(i?.(s),!0):!1}}isActive(e){let{selection:r}=e;return r instanceof Ne?r.node.type.name==="image":!1}},ec=class{name;attrName;constructor(e,r="color"){this.name=e,this.attrName=r}apply(e){return(r,n)=>{let{schema:i,selection:o,doc:s}=r,a=i.marks[this.name];if(!a)return!1;let{from:l,to:c,empty:u}=o;if(!u&&l+1===c){let d=s.nodeAt(l);if(d?.isAtom&&!d.isText&&d.isLeaf)return!1}return sb(a,e)(r,n)}}isActive(e){let{schema:r}=e,n=r.marks[this.name];return n?Lh(e,n):!1}getActiveColors(e){if(!this.isActive(e))return[];let{schema:r}=e;return P2(e).filter(o=>o.type===r.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(e,r)=>{let{schema:n}=e,i=n.marks[this.name];return i?F2(i)(e,r):!1}}canExecute(e){let r=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(r)(e)}},U7=["link"],mb=class{insert(){return(e,r)=>{let{tr:n}=e,{ranges:i,empty:o}=n.selection;return o||(Object.entries(e.schema.marks).forEach(([s,a])=>{U7.includes(s)||i.forEach(l=>{n.removeMark(l.$from.pos,l.$to.pos,a)})}),r(n)),!0}}canExecute(){return!0}},$7=["paragraph","heading","blockquote"],H2=0,z2=10,H7=(t,e,r)=>{let n=t.doc.nodeAt(e);if(!n)return!1;let i=n.attrs.indent??0,o=cD(i+(r==="increase"?1:-1),H2,z2);if(o===i||o<H2||o>z2)return!1;let s=Ee(j({},n.attrs),{indent:o});return t.setNodeMarkup(e,n.type,s),!0},nc=class{method="increase";constructor(e){this.method=e}insert(){return(e,r)=>{let{tr:n,doc:i}=e,{from:o,to:s}=n.selection,a=!1;return i.nodesBetween(o,s,(l,c)=>{let u=l.type;return $7.includes(u.name)?(a=H7(n,c,this.method),!1):!l.type.name.includes("list")}),a?(n.docChanged&&r?.(n),!0):!1}}canExecute(e){return this.insert()(e)}},qh=class{mode="undo";constructor(e){this.mode=e}insert(){return(e,r)=>this.mode==="undo"?Uh(e,r):Wu(e,r)}canExecute(e){return this.insert()(e)}},z7=new Vi("strong"),q7=new Vi("em"),G7=new Vi("code"),W7=new Vi("u"),K7=new Vi("s"),Z7=new pb,Y7=new fb,J7=new mb,Q7=new tc(!0),X7=new tc(!1),ez=new Co(1),tz=new Co(2),nz=new Co(3),rz=new Co(4),iz=new Co(5),oz=new Co(6),sz=new Sa("left"),az=new Sa("center"),lz=new Sa("right"),cz=new Sa("justify"),uz=new hb,dz=new nT,pz=new ec("text_color","color"),fz=new ec("text_background_color","backgroundColor"),hz=new nc("increase"),mz=new nc("decrease"),gz=new Vi("sup"),vz=new Vi("sub"),yz=new qh("undo"),bz=new qh("redo"),Gh={bold:z7,italic:q7,code:G7,underline:W7,strike:K7,blockquote:Z7,bullet_list:Q7,ordered_list:X7,h1:ez,h2:tz,h3:nz,h4:rz,h5:iz,h6:oz,align_left:sz,align_center:az,align_right:lz,align_justify:cz,superscript:gz,subscript:vz},q2={horizontal_rule:Y7,format_clear:J7,indent:hz,outdent:mz,undo:yz,redo:bz},Zu=uz,G2=dz,Cz=pz,wz=fz,gb={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},vb=class{locals=gb;constructor(e={}){this.locals=j(j({},gb),e)}get=e=>{let r=this.locals[e];return r?br(r)?r:be(r):be("")}},_z=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,xz=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,Sz=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,Ez=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,Iz=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,Mz=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,Dz=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,kz=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,Tz=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,Oz=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,Az=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,Pz=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,Nz=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,Rz=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,Fz=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,Lz=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,Vz=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,Bz=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,jz=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,Uz='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',$z='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',Hz='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',zz='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',qz='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',Gz='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',Wz=20,Kz=20,Zz="currentColor",rT={bold:_z,italic:xz,code:Sz,underline:Ez,strike:Iz,ordered_list:Mz,bullet_list:Dz,blockquote:kz,link:Tz,unlink:Oz,image:Az,align_left:Pz,align_center:Nz,align_right:Rz,align_justify:Fz,text_color:Lz,color_fill:Vz,horizontal_rule:Bz,format_clear:jz,indent:Uz,outdent:$z,superscript:Hz,subscript:zz,undo:qz,redo:Gz,path:"<path></path>"},yb=class{static get(e,r=Zz){let n=rT[e];return n&&(n.includes("<path")||n.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${r}
          height=${Wz}
          width=${Kz}
        >
          ${n}
        </svg>
      `:n}},bb=(()=>{class t{locals={};icons={};static \u0275fac=function(n){return new(n||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ea=(()=>{class t{config;constructor(r){this.config=r}get locals(){return new vb(this.config.locals)}getIcon(r){return this.config.icons[r]?this.config.icons[r]:yb.get(r)}static \u0275fac=function(n){return new(n||t)(ie(bb,8))};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),W2=t=>({locals:t.locals??{},icons:t.icons??{}}),rc=(()=>{class t{sanitizer;constructor(r){this.sanitizer=r}transform(r){return X2(r)?r:this.sanitizer.bypassSecurityTrustHtml(r)}static \u0275fac=function(n){return new(n||t)(T(Ov,16))};static \u0275pipe=Ar({name:"sanitizeHtml",type:t,pure:!0})}return t})(),Yz=(()=>{class t{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;isActive=!1;disabled=!1;updateSubscription;constructor(r,n){this.ngxeService=r,this.menuService=n}toggle(){let{state:r,dispatch:n}=this.editorView;Gh[this.name].toggle()(r,n)}onMouseClick(r){r.preventDefault(),r.button===0&&this.toggle()}onKeydown(){this.toggle()}update=r=>{let{state:n}=r,i=Gh[this.name];this.isActive=i.isActive(n),this.disabled=!i.canExecute(n)};getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(T(Ea),T(cs))};static \u0275cmp=ae({type:t,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:14,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,i){n&1&&(f(0,"button",0),w(1,"sanitizeHtml"),w(2,"async"),w(3,"async"),P("mousedown",function(s){return i.onMouseClick(s)})("keydown.enter",function(){return i.onKeydown()})("keydown.space",function(){return i.onKeydown()}),h()),n&2&&(pe("NgxEditor__MenuItem--Active",i.isActive)("NgxEditor--Disabled",i.disabled),O("disabled",i.disabled)("innerHTML",x(1,8,i.html),Fo)("title",x(2,10,i.getTitle(i.name)))("ariaLabel",x(3,12,i.getTitle(i.name))))},dependencies:[ai,rc]})}return t})(),Jz=(()=>{class t{ngxeService;menuService;toolbarItem;get name(){return this.toolbarItem}html;editorView;disabled=!1;updateSubscription;constructor(r,n){this.ngxeService=r,this.menuService=n}onMouseClick(r){r.preventDefault(),r.button===0&&this.insert()}onKeydown(){this.insert()}insert(){let{state:r,dispatch:n}=this.editorView;q2[this.name].insert()(r,n)}update=r=>{let{state:n}=r,i=q2[this.name];this.disabled=!i.canExecute(n)};getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(T(Ea),T(cs))};static \u0275cmp=ae({type:t,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:12,consts:[[1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(n,i){n&1&&(f(0,"button",0),w(1,"sanitizeHtml"),w(2,"async"),w(3,"async"),P("mousedown",function(s){return i.onMouseClick(s)})("keydown.enter",function(){return i.onKeydown()})("keydown.space",function(){return i.onKeydown()}),h()),n&2&&(pe("NgxEditor--Disabled",i.disabled),O("disabled",i.disabled)("innerHTML",x(1,6,i.html),Fo)("title",x(2,8,i.getTitle(i.name)))("ariaLabel",x(3,10,i.getTitle(i.name))))},dependencies:[ai,rc]})}return t})(),K2={showOpenInNewTab:!0},Qz=(()=>{class t{el;ngxeService;menuService;options=K2;showPopup=!1;isActive=!1;canExecute=!0;componentId=Jy();form;editorView;updateSubscription;constructor(r,n,i){this.el=r,this.ngxeService=n,this.menuService=i}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hidePopup()}getId(r){return`${r}-${this.componentId}`}getLabel(r){return this.ngxeService.locals.get(r)}hidePopup(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}togglePopup(){let{state:r,dispatch:n}=this.editorView;if(this.isActive){Zu.remove(r,n);return}this.showPopup=!this.showPopup,this.showPopup&&this.setText()}onTogglePopupMouseClick(r){r.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}setText=()=>{let{state:{selection:r,doc:n}}=this.editorView,{empty:i,from:o,to:s}=r,a=i?"":n.textBetween(o,s);a&&(this.text.patchValue(a),this.text.disable())};update=r=>{let{state:n}=r;this.isActive=Zu.isActive(n,{strict:!1}),this.canExecute=Zu.canExecute(n)};insertLink(r){r.preventDefault();let{text:n,href:i,openInNewTab:o}=this.form.getRawValue(),{dispatch:s,state:a}=this.editorView,{selection:l}=a,c;this.options.showOpenInNewTab&&(c=o?"_blank":"_self");let u={title:i,href:i,target:c};l.empty?(Zu.insert(n,u)(a,s),this.editorView.focus()):Zu.update(u)(a,s),this.hidePopup()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new ea({href:new zr("",[we.required,we.pattern(this.menuService.editor.linkValidationPattern)]),text:new zr("",[we.required]),openInNewTab:new zr(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(T(bt),T(Ea),T(cs))};static \u0275cmp=ae({type:t,selectors:[["ngx-link"]],hostBindings:function(n,i){n&1&&P("mousedown",function(s){return i.onDocumentClick(s)},!1,Bs)},inputs:{options:[2,"options","options",r=>j(j({},K2),r)]},features:[ul],decls:5,vars:16,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(n,i){n&1&&(f(0,"button",0),w(1,"sanitizeHtml"),w(2,"async"),w(3,"async"),P("mousedown",function(s){return i.onTogglePopupMouseClick(s)})("keydown.enter",function(){return i.onTogglePopupKeydown()})("keydown.space",function(){return i.onTogglePopupKeydown()}),h(),Y(4,r7,20,18,"div",1)),n&2&&(pe("NgxEditor__MenuItem--Active",i.isActive||i.showPopup)("NgxEditor--Disabled",!i.canExecute),O("disabled",!i.canExecute)("innerHTML",x(1,10,i.icon),Fo)("title",x(2,12,i.title))("ariaLabel",x(3,14,i.title))("ariaExpanded",i.showPopup),m(4),O("ngIf",i.showPopup))},dependencies:[zs,Qt,Ot,ta,At,Jt,Gt,Wt,ai,rc]})}return t})(),Xz=(()=>{class t{ngxeService;menuService;el;editorView;updateSubscription;group;items;isDropdownOpen=!1;disabledItems=[];activeItem;constructor(r,n,i){this.ngxeService=r,this.menuService=n,this.el=i}get isSelected(){return!!(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(r){!this.el.nativeElement.contains(r)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(r){return this.ngxeService.locals.get(r)}getIsDropdownActive(r){return this.activeItem===r}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onToggleDropdownMouseClick(r){r.preventDefault(),r.button===0&&this.toggleDropdown()}onToggleDropdownKeydown(){this.toggleDropdown()}trackByIndex(r){return r}selectItem(r){let n=Gh[r],{state:i,dispatch:o}=this.editorView;n.toggle()(i,o),this.isDropdownOpen=!1}onDropdownItemMouseClick(r,n){r.preventDefault(),r.button===0&&this.selectItem(n)}onDropdownItemKeydown(r,n){r.preventDefault(),this.selectItem(n)}update=r=>{let{state:n}=r;this.disabledItems=[];let i=[];this.items.forEach(o=>{let s=Gh[o];s.isActive(n)&&i.push(o),s.canExecute(n)||this.disabledItems.push(o)}),i.length===1?[this.activeItem]=i:this.activeItem=null};ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(T(Ea),T(cs),T(bt))};static \u0275cmp=ae({type:t,selectors:[["ngx-dropdown"]],hostBindings:function(n,i){n&1&&P("mousedown",function(s){return i.onDocumentClick(s.target)},!1,Bs)},inputs:{group:"group",items:"items"},decls:5,vars:13,consts:[["type","button","aria-haspopup","listbox",1,"NgxEditor__Dropdown--Text",3,"mousedown","keydown.enter","keydown.space","disabled","ariaLabel","ariaExpanded"],["class","NgxEditor__Dropdown--DropdownMenu","role","listbox",4,"ngIf"],["role","listbox",1,"NgxEditor__Dropdown--DropdownMenu"],["type","button","class","NgxEditor__Dropdown--Item","role","option",3,"ngClass","ariaLabel","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","option",1,"NgxEditor__Dropdown--Item",3,"mousedown","keydown.enter","keydown.space","ngClass","ariaLabel"]],template:function(n,i){n&1&&(f(0,"button",0),w(1,"async"),P("mousedown",function(s){return i.onToggleDropdownMouseClick(s)})("keydown.enter",function(){return i.onToggleDropdownKeydown()})("keydown.space",function(){return i.onToggleDropdownKeydown()}),y(2),w(3,"async"),h(),Y(4,s7,2,2,"div",1)),n&2&&(pe("NgxEditor__Dropdown--Selected",i.isSelected)("NgxEditor--Disabled",i.isDropdownDisabled),O("disabled",i.isDropdownDisabled)("ariaLabel",x(1,9,i.getName(i.activeItem||i.group)))("ariaExpanded",i.isDropdownOpen),m(2),A(" ",x(3,11,i.getName(i.activeItem||i.group)),`
`),m(2),O("ngIf",i.isDropdownOpen))},dependencies:[Fc,lf,zs,ai]})}return t})(),eq=(()=>{class t{el;ngxeService;menuService;showPopup=!1;isActive=!1;componentId=Jy();updateSubscription;form=new ea({src:new zr("",[we.required,we.pattern(`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)`)]),alt:new zr(""),title:new zr("")});editorView;constructor(r,n,i){this.el=r,this.ngxeService=n,this.menuService=i}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getId(r){return`${r}-${this.componentId}`}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}togglePopup(){this.showPopup=!this.showPopup,this.showPopup&&this.fillForm()}onTogglePopupMouseClick(r){r.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}fillForm(){let{state:r}=this.editorView,{selection:n}=r;if(n instanceof Ne&&this.isActive){let{src:i,alt:o="",title:s=""}=n.node.attrs;this.form.setValue({src:i,alt:o,title:s})}}update=r=>{let{state:n}=r;this.isActive=G2.isActive(n)};insertLink(r){r.preventDefault();let{src:n,alt:i,title:o}=this.form.getRawValue(),{dispatch:s,state:a}=this.editorView,l={alt:i,title:o};G2.insert(n,l)(a,s),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(T(bt),T(Ea),T(cs))};static \u0275cmp=ae({type:t,selectors:[["ngx-image"]],hostBindings:function(n,i){n&1&&P("mousedown",function(s){return i.onDocumentClick(s)},!1,Bs)},decls:5,vars:13,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","url","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(n,i){n&1&&(f(0,"button",0),w(1,"sanitizeHtml"),w(2,"async"),w(3,"async"),P("mousedown",function(s){return i.onTogglePopupMouseClick(s)})("keydown.enter",function(){return i.onTogglePopupKeydown()})("keydown.space",function(){return i.onTogglePopupKeydown()}),h(),Y(4,l7,24,21,"div",1)),n&2&&(pe("NgxEditor__MenuItem--Active",i.isActive||i.showPopup),O("innerHTML",x(1,7,i.icon),Fo)("title",x(2,9,i.getLabel("insertImage")))("ariaLabel",x(3,11,i.getLabel("insertImage")))("ariaExpanded",i.showPopup),m(4),O("ngIf",i.showPopup))},dependencies:[zs,Qt,Ot,At,Jt,Gt,Wt,ai,rc]})}return t})(),tq=(()=>{class t{el;menuService;ngxeService;presets;type;constructor(r,n,i){this.el=r,this.menuService=n,this.ngxeService=i}get title(){return this.getLabel(this.type==="text_color"?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon(this.type==="text_color"?"text_color":"color_fill")}get command(){return this.type==="text_color"?Cz:wz}updateSubscription;editorView;showPopup=!1;isActive=!1;activeColors=[];canExecute=!0;getContrastYIQ(r){let n=r.replace("#",""),i=parseInt(n.substring(0,2),16),o=parseInt(n.substring(2,4),16),s=parseInt(n.substring(4,6),16);return(i*299+o*587+s*114)/1e3>=128?"black":"white"}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onTogglePopupMouseClick(r){r.preventDefault(),r.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}remove(){let{state:r,dispatch:n}=this.editorView;this.command.remove()(r,n),this.hidePopup()}onRemoveMouseClick(r){r.preventDefault(),r.button===0&&(r.preventDefault(),this.remove())}onRemoveKeydown(){this.remove()}trackByIndex(r){return r}selectColor(r){let{state:n,dispatch:i}=this.editorView;if(this.type==="text_color"){let o={color:r};this.command.apply(o)(n,i)}else{let o={backgroundColor:r};this.command.apply(o)(n,i)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}onColorSelectMouseClick(r,n){r.preventDefault(),r.button===0&&this.selectColor(n)}onColorSelectKeydown(r){this.selectColor(r)}update=r=>{let{state:n}=r;this.canExecute=this.command.canExecute(n),this.isActive=this.command.isActive(n),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(n))};getLabel(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(T(bt),T(cs),T(Ea))};static \u0275cmp=ae({type:t,selectors:[["ngx-color-picker"]],hostBindings:function(n,i){n&1&&P("mousedown",function(s){return i.onDocumentClick(s)},!1,Bs)},inputs:{presets:"presets",type:"type"},decls:5,vars:15,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"mousedown","keydown.enter","keydown.space","disabled"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"mousedown","keydown.enter","keydown.space","ngStyle","title","ngClass"]],template:function(n,i){n&1&&(f(0,"button",0),w(1,"sanitizeHtml"),w(2,"async"),w(3,"async"),P("mousedown",function(s){return i.onTogglePopupMouseClick(s)})("keydown.enter",function(){return i.onTogglePopupKeydown()})("keydown.space",function(){return i.onTogglePopupKeydown()}),h(),Y(4,f7,5,6,"div",1)),n&2&&(pe("NgxEditor__MenuItem--Active",i.isActive||i.showPopup)("NgxEditor--Disabled",!i.canExecute),O("disabled",!i.canExecute)("innerHTML",x(1,9,i.icon),Fo)("title",x(2,11,i.title))("ariaLabel",x(3,13,i.title)),m(4),O("ngIf",i.showPopup))},dependencies:[Fc,lf,zs,cf,ai,rc],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']})}return t})();var nq=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]];var rq=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],ds=(()=>{class t{menuService;toolbar=nq;colorPresets=rq;disabled=!1;editor;customMenuRef=null;dropdownPlacement="bottom";toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify","superscript","subscript"];insertCommands=["horizontal_rule","format_clear","indent","outdent","undo","redo"];iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--IconContainer"];dropdownContainerClass=["NgxEditor__Dropdown"];seperatorClass=["NgxEditor__Seperator"];constructor(r){this.menuService=r}get presets(){let n=[];return this.colorPresets.forEach((i,o)=>{let s=Math.floor(o/8);n[s]||n.push([]),n[s].push(i)}),n}trackByIndex(r){return r}isDropDown(r){return!!r?.heading}getDropdownItems(r){return r}isLinkItem(r){return r==="link"?!0:typeof r=="object"&&typeof r?.link=="object"}isLinkWithOptions(r){return typeof r=="object"&&typeof r?.link=="object"}getLinkOptions(r){return r?.link}ngOnInit(){if(!this.editor)throw new jl("Required editor instance to initialize menu component");this.menuService.editor=this.editor}static \u0275fac=function(n){return new(n||t)(T(cs))};static \u0275cmp=ae({type:t,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[fn([cs])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(n,i){n&1&&(f(0,"div",0),Y(1,E7,2,2,"ng-container",1)(2,I7,2,1,"ng-container",2),h()),n&2&&(O("ngClass",Bo(4,h7,i.disabled,i.dropdownPlacement==="top")),m(),O("ngForOf",i.toolbar)("ngForTrackBy",i.trackByIndex),m(),O("ngIf",i.customMenuRef))},dependencies:[Fc,lf,zs,cr,Yz,Jz,Qz,Xz,eq,tq,uE]})}return t})();var iq=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Ln({type:t});static \u0275inj=Fn({providers:[rc],imports:[uf,on]})}return t})(),zh=new le("NgxEditorConfig"),Z2={locals:gb,icons:rT},ps=(()=>{class t{static forRoot(r=Z2){return{ngModule:t,providers:[{provide:zh,useValue:r},{provide:bb,useFactory:W2,deps:[zh]}]}}static forChild(r=Z2){return{ngModule:t,providers:[{provide:zh,useValue:r},{provide:bb,useFactory:W2,deps:[zh]},Ea]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Ln({type:t});static \u0275inj=Fn({imports:[uf,iq]})}return t})();var mr=(t,e=!1)=>(r,n)=>{let i=new Vi(t);return e?i.toggle()(r,n):i.apply()(r,n)},Cb=class{view;state;tr;constructor(e){if(!e)throw new jl("Required view to initialize commands.");this.view=e,this.state=e.state,this.tr=this.view.state.tr}applyTrx=e=>{this.state=this.state.apply(e??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)};dispatch=e=>{this.applyTrx(e)};exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let e=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let r=this.tr.setMeta("FORCE_EMIT",e);return this.view.dispatch(r),!0}focus(e="end"){let r=e==="start"?Je.atStart(this.state.doc):Je.atEnd(this.state.doc);return this.tr.setSelection(r),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(e){return this.tr.insertText(e),this.applyTrx(),this}insertNewLine(){return Xl(...[Z1,Q1,X1,eb])(this.state,this.dispatch),this}applyMark(e){return mr(e,!1)(this.state,this.dispatch),this}toggleMark(e){return mr(e,!0)(this.state,this.dispatch),this}bold(){return mr("strong")(this.state,this.dispatch),this}toggleBold(){return mr("strong",!0)(this.state,this.dispatch),this}italics(){return mr("em")(this.state,this.dispatch),this}toggleItalics(){return mr("em",!0)(this.state,this.dispatch),this}underline(){return mr("u")(this.state,this.dispatch),this}toggleUnderline(){return mr("u",!0)(this.state,this.dispatch),this}strike(){return mr("s")(this.state,this.dispatch),this}toggleStrike(){return mr("s",!0)(this.state,this.dispatch),this}code(){return mr("code")(this.state,this.dispatch),this}toggleCode(){return mr("code",!0)(this.state,this.dispatch),this}superscript(){return mr("sup")(this.state,this.dispatch),this}subscript(){return mr("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new tc(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new tc(!0).toggle()(this.state,this.dispatch),this}toggleHeading(e){return new Co(e).toggle()(this.state,this.dispatch),this}insertLink(e,r){return new hb().insert(e,r)(this.state,this.dispatch),this}updateLink(e){return new hb().update(e)(this.state,this.dispatch),this}insertImage(e,r={}){return new nT().insert(e,r)(this.state,this.dispatch),this}textColor(e){return new ec("text_color").apply({color:e})(this.state,this.dispatch),this}backgroundColor(e){return new ec("text_background_color").apply({backgroundColor:e})(this.state,this.dispatch),this}removeTextColor(){return new ec("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new ec("text_background_color").remove()(this.state,this.dispatch),this}align(e){return new Sa(e).toggle()(this.state,this.dispatch),this}insertHTML(e){let{selection:r,schema:n,tr:i}=this.state,{from:o,to:s}=r,a=document.createElement("div");a.innerHTML=Q2(e)?e.trim():e;let l=es.fromSchema(n).parseSlice(a),c=i.replaceRange(o,s,l);return this.applyTrx(c),this}indent(){return new nc("increase").insert()(this.state,this.dispatch),this}outdent(){return new nc("decrease").insert()(this.state,this.dispatch),this}},oq=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,sq=t=>Fh(/^\s*>\s$/,t),aq=t=>Fh(/^(?:\d+)\.\s$/,t,e=>({order:Number(e[1])}),(e,r)=>r.childCount+r.attrs.order===Number(e[1])),lq=t=>Fh(/^\s*(?:[-+*])\s$/,t),cq=t=>tb(/^```$/,t),uq=(t,e)=>tb(new RegExp(`^(#{1,${e}})\\s$`),t,r=>({level:r[1].length})),dq=t=>ob(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,t),pq=t=>ob(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,t),fq=t=>{let e=A2.concat(O2,T2);return e.push(dq(t.marks.strong)),e.push(pq(t.marks.em)),e.push(sq(t.nodes.blockquote)),e.push(aq(t.nodes.ordered_list)),e.push(lq(t.nodes.bullet_list)),e.push(cq(t.nodes.code_block)),e.push(uq(t.nodes.heading,6)),k2({rules:e})},hq=(t,e)=>{let r={};r["Mod-z"]=Uh,oq?r["Shift-Mod-z"]=Wu:r["Mod-y"]=Wu;let n=[Ku({"Mod-b":wa(t.marks.strong),"Mod-i":wa(t.marks.em),"Mod-u":wa(t.marks.u),"Mod-`":wa(t.marks.code)}),Ku({Enter:v2(t.nodes.list_item),"Shift-Enter":Xl(J1,(i,o)=>{let{tr:s}=i,a=t.nodes.hard_break;return o(s.replaceSelectionWith(a.create()).scrollIntoView()),!0}),"Mod-[":G1(t.nodes.list_item),"Mod-]":W1(t.nodes.list_item),Tab:W1(t.nodes.list_item)}),Ku(M2)];return e.history&&n.push(Ku(r)),n},mq=(t,e)=>{let r=[];return e.keyboardShortcuts&&r.push(...hq(t,{history:e.history})),e.history&&r.push(j2()),e.inputRules&&r.push(fq(t)),r},iT={linkOnPaste:!0,resizeImage:!0},Y2={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Gu,plugins:[],nodeViews:{},attributes:{},features:iT,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},Bi=class{options;view;constructor(e=Y2){this.options=j(j({},Y2),e),this.createEditor()}valueChangesSubject=new Ze;updateSubject=new Ze;get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Gu}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new Cb(this.view)}get features(){return j(j({},iT),this.options.features)}handleTransactions(e){let r=this.view.state.apply(e);if(this.view.updateState(r),this.updateSubject.next(this.view),!e.docChanged&&!e.getMeta("FORCE_EMIT"))return;let n=r.doc.toJSON();this.valueChangesSubject.next(n)}createEditor(){let{options:e,schema:r}=this,{content:n=null,nodeViews:i}=e,{history:o=!0,keyboardShortcuts:s=!0,inputRules:a=!0}=e,l=$2(n,r,e.parseOptions),c=e.plugins??[],u=e.attributes??{},d=mq(r,{history:o,keyboardShortcuts:s,inputRules:a});this.view=new Ah(null,{state:wh.create({doc:l,schema:r,plugins:[...d,...c]}),nodeViews:i,dispatchTransaction:this.handleTransactions.bind(this),attributes:u,handleScrollToSelection:e.handleScrollToSelection})}setContent(e){if(lD(e))return;let{state:r}=this.view,{tr:n,doc:i}=r,o=$2(e,this.schema,this.options.parseOptions);n.replaceWith(0,r.doc.content.size,o),!i.eq(n.doc)&&n.docChanged&&this.view.dispatch(n)}registerPlugin(e){let{state:r}=this.view,n=[...r.plugins,e],i=r.reconfigure({plugins:n});this.view.updateState(i)}destroy(){this.view.destroy()}};var ic=(()=>{let e=class e{constructor(n){this.http=n,this.BASE_URL=Pe.PRODUCT_SERVICE_API,this.MODEL_SERVICE_API_URL=`${this.BASE_URL}/models`}getAll(){return this.getBy({page:1,size:999})}getBy(n,i){return this.http.get(this.MODEL_SERVICE_API_URL,{params:j(j({},n),i)})}getBySlug(n){return this.http.get(`${this.MODEL_SERVICE_API_URL}/${n}`)}create(n){return this.http.post(this.MODEL_SERVICE_API_URL,n)}update(n){return this.http.put(`${this.MODEL_SERVICE_API_URL}/${n.id}`,n)}delete(n){return this.http.delete(this.MODEL_SERVICE_API_URL,{body:n})}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oc=(()=>{let e=class e{constructor(n){this.http=n,this.BASE_URL=Pe.PRODUCT_SERVICE_API,this.CATEGORY_SERVICE_API_URL=`${this.BASE_URL}/categories`}getAll(){return this.getBy({page:1,size:999})}getBy(n,i){return this.http.get(this.CATEGORY_SERVICE_API_URL,{params:j(j({},n),i)})}getBySlug(n){return this.http.get(`${this.CATEGORY_SERVICE_API_URL}/${n}`)}create(n){return this.http.post(this.CATEGORY_SERVICE_API_URL,n)}update(n){return this.http.put(`${this.CATEGORY_SERVICE_API_URL}/${n.id}`,n)}delete(n){return this.http.delete(this.CATEGORY_SERVICE_API_URL,{body:n})}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gq=["contextMenu"],vq=(t,e)=>e.imageId;function yq(t,e){if(t&1&&(f(0,"option",39),y(1),h()),t&2){let r=e.$implicit;O("value",r.slug),m(),A(" ",r.name," ")}}function bq(t,e){if(t&1&&(f(0,"option",39),y(1),h()),t&2){let r=e.$implicit;O("value",r.slug),m(),A(" ",r.name," ")}}function Cq(t,e){if(t&1){let r=ve();f(0,"img",98),P("contextmenu",function(i){let o=U(r).$implicit,s=N();return $(s.showContextMenu(i,o.imageId))}),h()}if(t&2){let r=e.$implicit,n=N();O("src",n.createImageUrl(r.imageId),Ut)("id",r.imageId)}}var oT=(()=>{let e=class e{constructor(n,i,o,s,a,l,c,u){this.fb=n,this.productService=i,this.imageService=o,this.modelService=s,this.categoryService=a,this.alertService=l,this.router=c,this.translate=u,this.editor=new Bi,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.product=null,this.products$=null,this.models$=null,this.categories$=null,this.heroImageUrl=Rt.defaultHeroImageUrl,this.imageUrls=new Map,this.selectedImageId=null,this.productImagesSubject=new Lt([]),this.productImages$=this.productImagesSubject.asObservable(),this.destroy$=new Ze,this.translate.setDefaultLang("vi")}set slug(n){n&&n!=="new"&&(this.productSlug=n,this.products$=this.productService.getBySlug(n))}ngOnInit(){this.initForm(),this.products$?.pipe(en(this.destroy$),yt(n=>this.getProductImages(n))).subscribe(n=>{this.product=n,this.updateForm(n)}),this.models$=this.modelService.getAll(),this.categories$=this.categoryService.getAll()}getProductImages(n){this.productService.getImagesById(n.id).subscribe(i=>{this.productImagesSubject.next(i);let o=i.find(s=>s.featured);o&&(this.heroImageUrl=this.createImageUrl(o.imageId))})}generateSlug(){let i=this.productForm.value.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"");i=i.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+|-+$/g,""),this.productForm.patchValue({slug:i})}isInvalid(n){let i=this.productForm.get(n);return i?.invalid&&(i?.dirty||i?.touched)}onSaveButtonClick(){let n=this.productForm.value;(this.product?.slug?this.productService.update(n):this.productService.create(n)).subscribe({next:o=>{let a=o?.slug||this.product?.slug;this.router.navigate(["/admin/products/",a]),this.alertService.showSuccessToast("Product has been saved successfully")},error:o=>this.handleError(o)})}showContextMenu(n,i){this.selectedImageId=i,this.contextMenu?.onContextMenu(n)}onUploadImageButtonClick(n){if(!this.product)return;let i=n.target;if(!i.files?.[0])return;let o=i.files[0];this.validateFile(o)&&this.imageService.uploadImage(o).pipe(en(this.destroy$),ct(s=>{let a=s.id;return this.product?this.productService.updateImages(this.product?.id,[a]):(this.imageUrls.set(s.id,this.createImageUrl(s.id)),[])}),_n(()=>(this.alertService.showErrorToast("Failed to upload image"),[]))).subscribe({next:()=>{this.alertService.showSuccessToast("Updated product image successfully"),this.getProductImages(this.product)},error:()=>this.alertService.showErrorToast("Failed to update product image")})}onImageSetFeatured(n){this.product&&this.productService.setFeaturedImage(this.product.id,n).subscribe({next:()=>{this.heroImageUrl=this.createImageUrl(n),this.alertService.showSuccessToast("Featured image successfully")}})}onImageRemove(n){console.log("Set feature: ",n),this.product&&this.productService.removeImage(this.product.id,[n]).subscribe({next:()=>{this.imageUrls.delete(n),this.alertService.showSuccessToast("Removed image successfully")}})}initForm(){this.productForm=this.fb.group({id:[0],name:["",we.required],slug:["",we.required],description:[""],stockQuantity:[0,we.min(0)],basePrice:[0,we.min(0)],salePrice:[0,we.min(0)],active:[!1],weight:[0,we.min(0)],color:[""],processor:[""],gpu:[""],ram:[0,we.min(0)],storageType:[""],storageCapacity:[0,we.min(0)],os:[""],screenSize:[0,we.min(0)],batteryCapacity:[0,we.min(0)],warranty:[0,we.min(0)],viewCount:[0],userId:[],model:[""],category:[""]})}updateForm(n){this.productForm.patchValue(Ee(j({},n),{model:n.model.slug,category:n.category.slug}))}handleError(n){let i=n.error?.errorMessage||"An unknown error occurred";this.alertService.showErrorToast(i)}validateFile(n){return n?this.validFileSize(n)?this.validFileType(n)?!0:(this.alertService.showErrorToast("Invalid file type. Only JPEG and PNG allowed"),!1):(this.alertService.showErrorToast("File exceeds limit of 1MB"),!1):(this.alertService.showErrorToast("File is empty"),!1)}validFileSize(n){return n.size<=1048576}validFileType(n){return["image/jpeg","image/png"].includes(n.type)}createImageUrl(n){return`${Pe.IMAGE_SERVICE_API}/images/${n}`}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(i){return new(i||e)(T(bn),T(Ti),T(Vl),T(ic),T(oc),T(lt),T(mt),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["admin-product-details"]],viewQuery:function(i,o){if(i&1&&Ac(gq,5),i&2){let s;js(s=Us())&&(o.contextMenu=s.first)}},inputs:{slug:"slug"},standalone:!0,features:[ge],decls:252,vars:154,consts:[["contextMenu",""],[1,"container","my-5"],[1,"card","border-0","shadow"],[1,"card-header","bg-purple","bg-gradient","d-flex","justify-content-between","align-items-center","py-3"],[1,"mb-0","text-white"],[1,"card-footer"],["role","tablist",1,"nav","nav-underline"],["role","presentation",1,"nav-item"],["id","general-tab","data-bs-toggle","tab","data-bs-target","#general","type","button","role","tab","aria-controls","general","aria-selected","true",1,"nav-link","active"],["id","details-tab","data-bs-toggle","tab","data-bs-target","#details","type","button","role","tab","aria-controls","details","aria-selected","false",1,"nav-link"],["id","images-tab","data-bs-toggle","tab","data-bs-target","#images","type","button","role","tab","aria-controls","images","aria-selected","false",1,"nav-link"],[1,"card-body"],[3,"formGroup"],[1,"tab-content"],["id","general","role","tabpanel","aria-labelledby","general-tab",1,"tab-pane","fade","show","active"],[1,"row","g-3"],[1,"col"],[1,"row","g-3","align-items-center","mt-1"],[1,"col-3"],["for","name",1,"col-form-label"],["formControlName","name","type","text","id","name","placeholder","Product name",1,"form-control"],[1,"row","g-3","align-items-center","my-1"],["for","slug",1,"col-form-label"],[1,"col","d-flex","gap-2"],["formControlName","slug","type","text","id","slug","placeholder","product-slug",1,"form-control"],["title","Generate slug",1,"btn",3,"click"],[1,"bi","bi-repeat"],["for","basePrice",1,"col-form-label"],["formControlName","basePrice","type","text","mask","separator.2","thousandSeparator",",","decimalMarker",".","prefix","VND ","id","basePrice","placeholder","10,000,000.00",1,"form-control"],["for","stock",1,"col-form-label"],["formControlName","stockQuantity","type","number","id","stock","placeholder","product-slug",1,"form-control"],["for","active",1,"col-form-label"],[1,"form-check","form-switch"],["formControlName","active","type","checkbox","role","switch","aria-checked","true","id","active",1,"form-check-input","custom-checkbox"],["for","active"],["for","category",1,"col-form-label"],[1,"col-auto"],["id","category","formControlName","category",1,"form-select"],["value","","disabled","","selected",""],[3,"value"],["for","model",1,"col-form-label"],["id","model","formControlName","model",1,"form-select"],["for","salePrice",1,"col-form-label"],["formControlName","salePrice","type","text","mask","separator.2","thousandSeparator",",","decimalMarker",".","prefix","VND ","id","salePrice","placeholder","7,000,000.00",1,"form-control"],[1,"row","g-3","mt-1"],["for","description",1,"col-form-label"],["id","description",1,"NgxEditor__Wrapper"],[3,"editor","toolbar"],["formControlName","description",3,"editor","placeholder"],["id","details","role","tabpanel","aria-labelledby","details-tab",1,"tab-pane","fade"],["for","processor",1,"col-form-label"],["formControlName","processor","type","text","id","processor","placeholder","Intel Core i3",1,"form-control"],["for","gpu",1,"col-form-label"],["formControlName","gpu","type","text","id","gpu","placeholder","RTX3050",1,"form-control"],["for","screenSize",1,"col-form-label"],["formControlName","screenSize","type","number","id","screenSize","placeholder","15.6",1,"form-control"],["for","os",1,"col-form-label"],["id","os","formControlName","os",1,"form-select"],["value","","selected","","disabled",""],["value","WINDOW11"],["value","MACOS"],["for","color",1,"col-form-label"],["id","color","formControlName","color",1,"form-select"],["value","SILVER"],["value","BLACK"],["value","WHITE"],["for","warranty",1,"col-form-label"],["formControlName","warranty","type","number","id","warranty","placeholder","1.5",1,"form-control"],["for","ram",1,"col-form-label"],["formControlName","ram","type","number","id","ram","placeholder","16",1,"form-control"],["for","storageType",1,"col-form-label"],["id","storageType","formControlName","storageType",1,"form-select"],["value","HDD"],["value","SSD"],["for","storageCapacity",1,"col-form-label"],["formControlName","storageCapacity","type","number","id","storageCapacity","placeholder","500",1,"form-control"],["for","batteryCapacity",1,"col-form-label"],["formControlName","batteryCapacity","type","number","id","batteryCapacity","placeholder","42",1,"form-control"],["for","weight",1,"col-form-label"],["formControlName","weight","type","number","id","weight","placeholder","1.8",1,"form-control"],["id","images","role","tabpanel","aria-labelledby","images-tab",1,"tab-pane","fade"],[1,"mb-4"],[1,"text-muted","fw-light"],[1,"bi","bi-star"],[1,"hero-image","mb-3"],["id","heroImage","alt","Current Hero Image",1,"img-fluid","rounded","mx-auto",3,"src"],["id","productThumbnails",1,"d-flex","gap-3"],["alt","Product Image",1,"img-thumbnail",3,"src","id"],[1,"d-flex","gap-3","justify-content-center","align-items-center"],["type","file","id","image","accept","image/jpeg, image/png",1,"d-none",3,"change"],["for","image",2,"cursor","pointer"],[1,"bi","bi-upload","me-2"],[1,"card-footer","border-0","controls-bar","d-flex","justify-content-between","align-items-center"],["routerLink","..",1,"btn","return-btn","border-0","fs-5"],[1,"bi","bi-arrow-return-left","me-3"],[1,"btn","save-btn","border-0","fs-5","fw-bold",3,"click","disabled"],[1,"bi","bi-floppy","me-3"],[3,"imageSetFeatured","imageRemove","imageId"],["alt","Product Image",1,"img-thumbnail",3,"contextmenu","src","id"]],template:function(i,o){if(i&1){let s=ve();f(0,"main",1)(1,"div",2)(2,"div",3)(3,"h2",4),y(4),w(5,"translate"),h()(),f(6,"div",5)(7,"ul",6)(8,"li",7)(9,"button",8),y(10),w(11,"translate"),h()(),f(12,"li",7)(13,"button",9),y(14),w(15,"translate"),h()(),f(16,"li",7)(17,"button",10),y(18),w(19,"translate"),h()()()(),f(20,"div",11)(21,"form",12)(22,"div",13)(23,"div",14)(24,"div",15)(25,"div",16)(26,"div",17)(27,"div",18)(28,"label",19),y(29),w(30,"translate"),h()(),f(31,"div",16),I(32,"input",20),h()(),f(33,"div",21)(34,"div",18)(35,"label",22),y(36),w(37,"translate"),h()(),f(38,"div",23),I(39,"input",24),f(40,"button",25),P("click",function(){return U(s),$(o.generateSlug())}),I(41,"i",26),h()()(),f(42,"div",21)(43,"div",18)(44,"label",27),y(45),w(46,"translate"),h()(),f(47,"div",18),I(48,"input",28),h()(),f(49,"div",21)(50,"div",18)(51,"label",29),y(52),w(53,"translate"),h()(),f(54,"div",18),I(55,"input",30),h()(),f(56,"div",21)(57,"div",18)(58,"label",31),y(59),w(60,"translate"),h()(),f(61,"div",16)(62,"div",32),I(63,"input",33),f(64,"label",34),y(65),w(66,"translate"),w(67,"translate"),h()()()()(),f(68,"div",16)(69,"div",17)(70,"div",18)(71,"label",35),y(72),w(73,"translate"),h()(),f(74,"div",36)(75,"select",37)(76,"option",38),y(77),w(78,"translate"),h(),Me(79,yq,2,2,"option",39,ze),w(81,"async"),h()()(),f(82,"div",17)(83,"div",18)(84,"label",40),y(85),w(86,"translate"),h()(),f(87,"div",36)(88,"select",41)(89,"option",38),y(90),w(91,"translate"),h(),Me(92,bq,2,2,"option",39,ze),w(94,"async"),h()()(),f(95,"div",17)(96,"div",18)(97,"label",42),y(98),w(99,"translate"),h()(),f(100,"div",18),I(101,"input",43),h()()()(),f(102,"div",44)(103,"div",18)(104,"label",45),y(105),w(106,"translate"),h()(),f(107,"div",16)(108,"div",46),I(109,"ngx-editor-menu",47)(110,"ngx-editor",48),h()()()(),f(111,"div",49)(112,"div",15)(113,"div",16)(114,"div",17)(115,"div",18)(116,"label",50),y(117),w(118,"translate"),h()(),f(119,"div",16),I(120,"input",51),h()(),f(121,"div",17)(122,"div",18)(123,"label",52),y(124),w(125,"translate"),h()(),f(126,"div",16),I(127,"input",53),h()(),f(128,"div",17)(129,"div",18)(130,"label",54),y(131),w(132,"translate"),h()(),f(133,"div",36),I(134,"input",55),h()(),f(135,"div",17)(136,"div",18)(137,"label",56),y(138),w(139,"translate"),h()(),f(140,"div",36)(141,"select",57)(142,"option",58),y(143),w(144,"translate"),h(),f(145,"option",59),y(146," Windows 11 "),h(),f(147,"option",60),y(148," Mac OS "),h()()()(),f(149,"div",17)(150,"div",18)(151,"label",61),y(152),w(153,"translate"),h()(),f(154,"div",36)(155,"select",62)(156,"option",38),y(157),w(158,"translate"),h(),f(159,"option",63),y(160),w(161,"translate"),h(),f(162,"option",64),y(163),w(164,"translate"),h(),f(165,"option",65),y(166),w(167,"translate"),h()()()(),f(168,"div",17)(169,"div",18)(170,"label",66),y(171),w(172,"translate"),w(173,"translate"),h()(),f(174,"div",18),I(175,"input",67),h()()(),f(176,"div",16)(177,"div",17)(178,"div",18)(179,"label",68),y(180,"RAM (GB)"),h()(),f(181,"div",36),I(182,"input",69),h()(),f(183,"div",17)(184,"div",18)(185,"label",70),y(186),h()(),f(187,"div",36)(188,"select",71)(189,"option",38),y(190),w(191,"translate"),h(),f(192,"option",72),y(193,"HDD"),h(),f(194,"option",73),y(195,"SSD"),h()()()(),f(196,"div",17)(197,"div",18)(198,"label",74),y(199),w(200,"translate"),h()(),f(201,"div",36),I(202,"input",75),h()(),f(203,"div",17)(204,"div",18)(205,"label",76),y(206),w(207,"translate"),h()(),f(208,"div",36),I(209,"input",77),h()(),f(210,"div",17)(211,"div",18)(212,"label",78),y(213),w(214,"translate"),h()(),f(215,"div",36),I(216,"input",79),h()()()()(),f(217,"div",80)(218,"div",81)(219,"h4",82),I(220,"i",83),y(221),w(222,"translate"),h(),f(223,"div",84),I(224,"img",85),h()(),f(225,"div",81)(226,"h4",82),y(227),w(228,"translate"),h(),f(229,"div",86),Me(230,Cq,1,2,"img",87,vq),w(232,"async"),h()(),f(233,"div",88)(234,"input",89),P("change",function(l){return U(s),$(o.onUploadImageButtonClick(l))}),h(),f(235,"label",90),I(236,"i",91),y(237),w(238,"translate"),h()()()()()(),f(239,"div",92)(240,"button",93),I(241,"i",94),f(242,"span"),y(243),w(244,"translate"),h()(),f(245,"button",95),P("click",function(){return U(s),$(o.onSaveButtonClick())}),I(246,"i",96),f(247,"span"),y(248),w(249,"translate"),h()()()()(),f(250,"app-context-menu",97,0),P("imageSetFeatured",function(l){return U(s),$(o.onImageSetFeatured(l))})("imageRemove",function(l){return U(s),$(o.onImageRemove(l))}),h()}if(i&2){let s,a,l;m(4),A(" ",(o.product==null?null:o.product.name)||x(5,72,"NEW_PRODUCT")," "),m(6),A(" ",x(11,74,"GENERAL")," "),m(4),A(" ",x(15,76,"DETAILS")," "),m(4),A(" ",x(19,78,"IMAGES")," "),m(3),O("formGroup",o.productForm),m(8),k(x(30,80,"NAME")),m(3),pe("invalid-input",o.isInvalid("name")),m(4),k(x(37,82,"SLUG")),m(3),pe("invalid-input",o.isInvalid("slug")),m(6),k(x(46,84,"BASE_PRICE")),m(3),pe("invalid-input",o.isInvalid("basePrice")),m(4),k(x(53,86,"STOCK")),m(3),pe("invalid-input",o.isInvalid("stockQuantity")),m(4),k(x(60,88,"STATUS")),m(6),A(" ",(s=o.productForm.get("active"))!=null&&s.value?x(66,90,"ON_SALE"):x(67,92,"ON_STOCK")," "),m(7),k(x(73,94,"CATEGORY")),m(5),A(" ",x(78,96,"CHOOSE_CATEGORY")," "),m(2),De((a=x(81,98,o.categories$))==null?null:a.items),m(6),k(x(86,100,"MODEL")),m(5),A(" ",x(91,102,"CHOOSE_MODEL")," "),m(2),De((l=x(94,104,o.models$))==null?null:l.items),m(6),k(x(99,106,"SALE_PRICE")),m(3),pe("invalid-input",o.isInvalid("salePrice")),m(4),k(x(106,108,"DESCRIPTION")),m(4),O("editor",o.editor)("toolbar",o.toolbar),m(),O("editor",o.editor)("placeholder","Type here..."),m(7),k(x(118,110,"PROCESSOR")),m(3),pe("invalid-input",o.isInvalid("processor")),m(4),k(x(125,112,"GPU")),m(3),pe("invalid-input",o.isInvalid("gpu")),m(4),A("",x(132,114,"SCREEN_SIZE")," (inches)"),m(3),pe("invalid-input",o.isInvalid("screenSize")),m(4),k(x(139,116,"OS")),m(5),k(x(144,118,"CHOOSE_OS")),m(9),k(x(153,120,"COLOR")),m(5),A(" ",x(158,122,"CHOOSE_COLOR")," "),m(3),A(" ",x(161,124,"SILVER")," "),m(3),A(" ",x(164,126,"BLACK")," "),m(3),A(" ",x(167,128,"WHITE")," "),m(5),at("",x(172,130,"WARRANTY")," (",x(173,132,"YEARS")," )"),m(4),pe("invalid-input",o.isInvalid("warranty")),m(7),pe("invalid-input",o.isInvalid("ram")),m(4),k("STORAGE_TYPE"),m(4),k(x(191,134,"CHOOSE_STORAGE_TYPE")),m(9),A(" ",x(200,136,"STORAGE")," (GB) "),m(3),pe("invalid-input",o.isInvalid("storageCapacity")),m(4),A(" ",x(207,138,"CAPACITY")," (Wh) "),m(3),pe("invalid-input",o.isInvalid("batteryCapacity")),m(4),A(" ",x(214,140,"WEIGHT")," (Kg) "),m(3),pe("invalid-input",o.isInvalid("weight")),m(5),A(" ",x(222,142,"FEATURED")," "),m(3),O("src",o.heroImageUrl,Ut),m(3),k(x(228,144,"ALL")),m(3),De(x(232,146,o.productImages$)),m(7),A("",x(238,148,"UPLOAD_NEW")," "),m(6),k(x(244,150,"BACK")),m(2),O("disabled",!o.productForm.valid),m(3),k(x(249,152,"SAVE")),m(2),O("imageId",o.selectedImageId)}},dependencies:[on,Qt,Rl,Fl,Ot,ra,ta,Qo,At,Jt,Gt,Wt,Be,ai,aD,ps,us,ds,Ie,Te,Bl],styles:[".card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--gray-9)}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--purple-9)}.bg-purple[_ngcontent-%COMP%]{background:var(--purple-9)}.card-header[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--purple-1);transition:all .3s ease}.card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]:hover, .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{color:var(--purple-contrast);background:var(--purple-9)}.invalid-input[_ngcontent-%COMP%]{border-color:var(--red-9)}.invalid-input[_ngcontent-%COMP%]:focus, .invalid-input[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem var(--red-a6)}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:active, .form-select[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem #6f42c140;border-color:var(--purple-6)}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:var(--purple-9)}label[_ngcontent-%COMP%]{color:var(--gray-9);font-weight:600}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--purple-9);border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:focus, .custom-checkbox[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem #6f42c140}.card-footer.controls-bar[_ngcontent-%COMP%]   .return-btn[_ngcontent-%COMP%]{color:var(--purple-9)}.card-footer.controls-bar[_ngcontent-%COMP%]   .return-btn[_ngcontent-%COMP%]:hover{color:var(--purple-12)}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{color:var(--purple-contrast);background-color:var(--purple-9);transition:all .3s ease-in-out}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background:var(--purple-12)!important}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:active{background:var(--purple-9)!important}.img-thumbnail[_ngcontent-%COMP%]{width:150px;height:150px}.img-thumbnail[_ngcontent-%COMP%]:hover{border-color:var(--purple-9)}"]});let t=e;return t})();var sc=(()=>{let e=class e{constructor(n){this.http=n,this.BASE_URL=Pe.PRODUCT_SERVICE_API,this.BRAND_SERVICE_API_URL=`${this.BASE_URL}/brands`}getBy(n,i){return this.http.get(this.BRAND_SERVICE_API_URL,{params:j(j({},n),i)})}getBySlug(n){return this.http.get(`${this.BRAND_SERVICE_API_URL}/${n}`)}create(n){return this.http.post(this.BRAND_SERVICE_API_URL,n)}update(n){return this.http.put(`${this.BRAND_SERVICE_API_URL}/${n.id}`,n)}delete(n){return this.http.delete(this.BRAND_SERVICE_API_URL,{body:n})}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wq=()=>[1,2,3,4,5,6,7,8,9,10],_q=t=>[".",t];function xq(t,e){t&1&&It(0)}function Sq(t,e){t&1&&It(0)}function Eq(t,e){t&1&&(f(0,"tr",16)(1,"td"),I(2,"input",17),h(),f(3,"td"),I(4,"div",18),h(),f(5,"td"),I(6,"div",19),h(),f(7,"td"),I(8,"div",20),h(),f(9,"td"),I(10,"div",21),h()())}function Iq(t,e){t&1&&Me(0,Eq,11,0,"tr",16,Rr),t&2&&De(cn(0,wq))}function Mq(t,e){if(t&1){let r=ve();f(0,"tr")(1,"td")(2,"input",22),P("change",function(){U(r);let i=N(2);return $(i.onSelect())}),h()(),f(3,"td"),y(4),h(),f(5,"td")(6,"a",23),y(7),h()(),f(8,"td"),y(9),h(),f(10,"td"),y(11),w(12,"date"),h()()}if(t&2){let r=e.$implicit;m(2),O("id",r.id),m(2),k(r.id),m(2),O("routerLink",un(9,_q,r.slug)),m(),A(" ",r.name," "),m(2),k(r.slug),m(2),k($e(12,6,r.createdAt,"HH:mm dd/MM/yyyy"))}}function Dq(t,e){if(t&1&&Me(0,Mq,13,11,"tr",null,ze),t&2){let r=N();De(r.brands==null?null:r.brands.items)}}function kq(t,e){t&1&&It(0)}function Tq(t,e){if(t&1){let r=ve();f(0,"app-list-controls",24),P("refreshButtonClick",function(){U(r);let i=N();return $(i.onRefreshButtonClick())})("deleteButtonClick",function(){U(r);let i=N();return $(i.onDeleteSelected())}),h()}}function Oq(t,e){if(t&1){let r=ve();f(0,"app-pagination",25),P("pageChange",function(i){U(r);let o=N();return $(o.onPageChange(i))})("pageSizeChange",function(i){U(r);let o=N();return $(o.onPageSizeChange(i))}),h()}if(t&2){let r=N();O("pageRequest",r.pageRequest)("items",r.brands)("loading",r.loading)}}var sT=(()=>{let e=class e{constructor(n,i,o){this.brandService=n,this.alertService=i,this.translate=o,this.loading=!1,this.brands=null,this.pageRequest={page:1,size:10},this.sort={sortBy:Nt.CREATED_AT,ascending:!1},this.sortableFields=Nt,this.selectAllChecked=!1,this.translate.setDefaultLang("vi")}ngOnInit(){this.fetchBrands()}onRefreshButtonClick(){this.fetchBrands()}onSelectAll(n){let i=n.target;this.selectAllChecked=i.checked,document.querySelectorAll(".custom-checkbox").forEach(s=>{s.checked=this.selectAllChecked})}onSelect(){let n=document.querySelectorAll(".custom-checkbox:not(#selectAll)"),i=Array.from(n).every(s=>s.checked);this.selectAllChecked=i;let o=document.querySelector("#selectAll");o&&(o.checked=this.selectAllChecked)}nextPage(){this.brands?.hasNext&&(this.pageRequest.page++,this.fetchBrands())}previousPage(){this.brands?.hasPrevious&&(this.pageRequest.page--,this.fetchBrands())}onPageChange(n){n==="next"?this.nextPage():this.previousPage()}onPageSizeChange(n){this.pageRequest.size=n,this.validatePageRequest(),this.fetchBrands()}onSortChange(n){this.sort=n,this.fetchBrands()}onDeleteSelected(){console.log("INFO - Starting deleting brand...");let i=`Delete ${this.getSelectedBrandIds().length} brand(s)?`;this.alertService.showConfirmationAlert(i,"Those brands will be deleted forever! Do you want to continue?","warning",()=>this.doDeleteSelectedBrands())}fetchBrands(){this.loading=!0,this.brandService.getBy(this.pageRequest,this.sort).subscribe({next:n=>{this.brands=n,this.loading=!1},error:()=>this.loading=!1})}doDeleteSelectedBrands(){this.brandService.delete(this.getSelectedBrandIds()).subscribe({next:()=>{this.showSuccess(),this.fetchBrands()},error:n=>this.showError(n)})}showSuccess(){let n=`${this.getSelectedBrandIds().length} brands deleted`;this.alertService.showSuccessToast(n)}showError(n){let{error:i}=n,o=i.errorMessage||"Some server issues occurred";this.alertService.showErrorToast(o)}getSelectedBrandIds(){let n=document.querySelectorAll(".custom-checkbox:not(#selectAll)");return Array.from(n).filter(i=>i.checked).map(i=>parseInt(i.id))}validatePageRequest(){this.brands&&this.brands.totalItems-this.pageRequest.page*this.pageRequest.size<0&&(this.pageRequest.page=Math.ceil(this.brands.totalItems/this.pageRequest.size))}};e.\u0275fac=function(i){return new(i||e)(T(sc),T(lt),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-brands"]],standalone:!0,features:[ge],decls:36,vars:19,consts:[["controls",""],["pagination",""],[1,"container-fluid","my-5"],[1,"card","border-0","shadow"],[1,"card-header","bg-purple","bg-gradient","d-flex","justify-content-between","align-items-center","py-3"],[1,"mb-0","text-white"],[1,"card-footer","border-0","d-flex","align-items-center","justify-content-between"],[4,"ngTemplateOutlet"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],["id","selectAll","type","checkbox",1,"form-check-input","custom-checkbox",3,"change"],[2,"width","5%"],["appSortable","",2,"width","40%",3,"sortChange","sortField"],["appSortable","",2,"width","15%",3,"sortChange","sortField"],[1,"card-footer","border-0","d-flex","justify-content-end"],[1,"skeleton-row"],["type","checkbox",1,"form-check-input","custom-checkbox"],[1,"skeleton-loader",2,"width","30px"],[1,"skeleton-loader",2,"width","100px"],[1,"skeleton-loader",2,"width","150px"],[1,"skeleton-loader",2,"width","60px"],["type","checkbox",1,"form-check-input","custom-checkbox",3,"change","id"],[1,"user-link","text-decoration-none","fw-bold",3,"routerLink"],[3,"refreshButtonClick","deleteButtonClick"],[3,"pageChange","pageSizeChange","pageRequest","items","loading"]],template:function(i,o){if(i&1){let s=ve();f(0,"main",2)(1,"div",3)(2,"div",4)(3,"h2",5),y(4),w(5,"translate"),h()(),f(6,"div",6),Y(7,xq,1,0,"ng-container",7)(8,Sq,1,0,"ng-container",7),h(),f(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th")(15,"input",11),P("change",function(l){return U(s),$(o.onSelectAll(l))}),h()(),f(16,"th",12),y(17,"ID"),h(),f(18,"th",13),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(19),w(20,"translate"),h(),f(21,"th",13),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(22),w(23,"translate"),h(),f(24,"th",14),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(25),w(26,"translate"),h()()(),f(27,"tbody"),Y(28,Iq,2,1)(29,Dq,2,0),h()()()(),f(30,"div",15),Y(31,kq,1,0,"ng-container",7),h()()(),Y(32,Tq,1,0,"ng-template",null,0,Mn)(34,Oq,1,3,"ng-template",null,1,Mn)}if(i&2){let s=nn(33),a=nn(35);m(4),k(x(5,11,"BRANDS")),m(3),O("ngTemplateOutlet",s),m(),O("ngTemplateOutlet",a),m(10),O("sortField",o.sortableFields.NAME),m(),A(" ",x(20,13,"NAME")," "),m(2),O("sortField",o.sortableFields.SLUG),m(),A(" ",x(23,15,"SLUG")," "),m(2),O("sortField",o.sortableFields.CREATED_AT),m(),A(" ",x(26,17,"CREATED_AT")," "),m(3),fe(o.loading?28:29),m(3),O("ngTemplateOutlet",a)}},dependencies:[$r,hn,ki,Hr,Be,cr,Ie,Te],styles:[".card[_ngcontent-%COMP%]   .bg-purple[_ngcontent-%COMP%]{background:var(--purple-9)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--purple-1);transition:all .3s ease}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{color:var(--purple-contrast);background:var(--purple-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;font-size:.8rem;color:var(--gray-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{border:2px solid var(--purple-contrast);box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-weight:500}.card[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--gray-2) 25%,var(--gray-3) 50%,var(--gray-2) 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;height:20px;border-radius:4px}.card[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]{color:var(--purple-9);transition:color .3s ease}.card[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]:hover{color:var(--purple-12)}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.custom-checkbox[_ngcontent-%COMP%]{border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--purple-9);border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6f42c140}"]});let t=e;return t})();var Aq=()=>[1,2,3,4,5,6,7,8,9,10],Pq=t=>[".",t];function Nq(t,e){t&1&&It(0)}function Rq(t,e){t&1&&It(0)}function Fq(t,e){t&1&&(f(0,"tr",16)(1,"td"),I(2,"input",17),h(),f(3,"td"),I(4,"div",18),h(),f(5,"td"),I(6,"div",19),h(),f(7,"td"),I(8,"div",20),h(),f(9,"td"),I(10,"div",21),h()())}function Lq(t,e){t&1&&Me(0,Fq,11,0,"tr",16,Rr),t&2&&De(cn(0,Aq))}function Vq(t,e){if(t&1){let r=ve();f(0,"tr")(1,"td")(2,"input",22),P("change",function(){U(r);let i=N(2);return $(i.onSelect())}),h()(),f(3,"td"),y(4),h(),f(5,"td")(6,"a",23),y(7),h()(),f(8,"td"),y(9),h(),f(10,"td"),y(11),w(12,"date"),h()()}if(t&2){let r=e.$implicit;m(2),O("id",r.id),m(2),k(r.id),m(2),O("routerLink",un(9,Pq,r.slug)),m(),A(" ",r.name," "),m(2),k(r.slug),m(2),k($e(12,6,r.createdAt,"HH:mm dd/MM/yyyy"))}}function Bq(t,e){if(t&1&&Me(0,Vq,13,11,"tr",null,ze),t&2){let r=N();De(r.models==null?null:r.models.items)}}function jq(t,e){t&1&&It(0)}function Uq(t,e){if(t&1){let r=ve();f(0,"app-list-controls",24),P("refreshButtonClick",function(){U(r);let i=N();return $(i.onRefreshButtonClick())})("deleteButtonClick",function(){U(r);let i=N();return $(i.onDeleteSelected())}),h()}}function $q(t,e){if(t&1){let r=ve();f(0,"app-pagination",25),P("pageChange",function(i){U(r);let o=N();return $(o.onPageChange(i))})("pageSizeChange",function(i){U(r);let o=N();return $(o.onPageSizeChange(i))}),h()}if(t&2){let r=N();O("pageRequest",r.pageRequest)("items",r.models)("loading",r.loading)}}var aT=(()=>{let e=class e{constructor(n,i,o){this.modelService=n,this.alertService=i,this.translate=o,this.loading=!1,this.models=null,this.pageRequest={page:1,size:10},this.sort={sortBy:Nt.CREATED_AT,ascending:!1},this.sortableFields=Nt,this.selectAllChecked=!1,this.translate.setDefaultLang("vi")}ngOnInit(){this.fetchModels()}onRefreshButtonClick(){this.fetchModels()}onSelectAll(n){let i=n.target;this.selectAllChecked=i.checked,document.querySelectorAll(".custom-checkbox").forEach(s=>{s.checked=this.selectAllChecked})}onSelect(){let n=document.querySelectorAll(".custom-checkbox:not(#selectAll)"),i=Array.from(n).every(s=>s.checked);this.selectAllChecked=i;let o=document.querySelector("#selectAll");o&&(o.checked=this.selectAllChecked)}nextPage(){this.models?.hasNext&&(this.pageRequest.page++,this.fetchModels())}previousPage(){this.models?.hasPrevious&&(this.pageRequest.page--,this.fetchModels())}onPageChange(n){n==="next"?this.nextPage():this.previousPage()}onPageSizeChange(n){this.pageRequest.size=n,this.validatePageRequest(),this.fetchModels()}onSortChange(n){this.sort=n,this.fetchModels()}onDeleteSelected(){console.log("INFO - Starting deleting models...");let i=`Delete ${this.getSelectedModelsIds().length} model(s)?`;this.alertService.showConfirmationAlert(i,"Those models will be deleted forever! Do you want to continue?","warning",()=>this.doDeleteSelectedModels())}fetchModels(){this.loading=!0,this.modelService.getBy(this.pageRequest,this.sort).subscribe({next:n=>{this.models=n,this.loading=!1},error:()=>this.loading=!1})}doDeleteSelectedModels(){this.modelService.delete(this.getSelectedModelsIds()).subscribe({next:()=>{this.showSuccess(),this.fetchModels()},error:n=>this.showError(n)})}showSuccess(){let n=`${this.getSelectedModelsIds().length} categories deleted`;this.alertService.showSuccessToast(n)}showError(n){let{error:i}=n,o=i.errorMessage||"Some server issues occurred";this.alertService.showErrorToast(o)}getSelectedModelsIds(){let n=document.querySelectorAll(".custom-checkbox:not(#selectAll)");return Array.from(n).filter(i=>i.checked).map(i=>parseInt(i.id))}validatePageRequest(){this.models&&this.models.totalItems-this.pageRequest.page*this.pageRequest.size<0&&(this.pageRequest.page=Math.ceil(this.models.totalItems/this.pageRequest.size))}};e.\u0275fac=function(i){return new(i||e)(T(ic),T(lt),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-models"]],standalone:!0,features:[ge],decls:36,vars:19,consts:[["controls",""],["pagination",""],[1,"container-fluid","my-5"],[1,"card","border-0","shadow"],[1,"card-header","bg-purple","bg-gradient","d-flex","justify-content-between","align-items-center","py-3"],[1,"mb-0","text-white"],[1,"card-footer","border-0","d-flex","align-items-center","justify-content-between"],[4,"ngTemplateOutlet"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],["id","selectAll","type","checkbox",1,"form-check-input","custom-checkbox",3,"change"],[2,"width","5%"],["appSortable","",2,"width","40%",3,"sortChange","sortField"],["appSortable","",2,"width","15%",3,"sortChange","sortField"],[1,"card-footer","border-0","d-flex","justify-content-end"],[1,"skeleton-row"],["type","checkbox",1,"form-check-input","custom-checkbox"],[1,"skeleton-loader",2,"width","30px"],[1,"skeleton-loader",2,"width","100px"],[1,"skeleton-loader",2,"width","150px"],[1,"skeleton-loader",2,"width","60px"],["type","checkbox",1,"form-check-input","custom-checkbox",3,"change","id"],[1,"user-link","text-decoration-none","fw-bold",3,"routerLink"],[3,"refreshButtonClick","deleteButtonClick"],[3,"pageChange","pageSizeChange","pageRequest","items","loading"]],template:function(i,o){if(i&1){let s=ve();f(0,"main",2)(1,"div",3)(2,"div",4)(3,"h2",5),y(4),w(5,"translate"),h()(),f(6,"div",6),Y(7,Nq,1,0,"ng-container",7)(8,Rq,1,0,"ng-container",7),h(),f(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th")(15,"input",11),P("change",function(l){return U(s),$(o.onSelectAll(l))}),h()(),f(16,"th",12),y(17,"ID"),h(),f(18,"th",13),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(19),w(20,"translate"),h(),f(21,"th",13),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(22),w(23,"translate"),h(),f(24,"th",14),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(25),w(26,"translate"),h()()(),f(27,"tbody"),Y(28,Lq,2,1)(29,Bq,2,0),h()()()(),f(30,"div",15),Y(31,jq,1,0,"ng-container",7),h()()(),Y(32,Uq,1,0,"ng-template",null,0,Mn)(34,$q,1,3,"ng-template",null,1,Mn)}if(i&2){let s=nn(33),a=nn(35);m(4),k(x(5,11,"MODELS")),m(3),O("ngTemplateOutlet",s),m(),O("ngTemplateOutlet",a),m(10),O("sortField",o.sortableFields.NAME),m(),A(" ",x(20,13,"NAME")," "),m(2),O("sortField",o.sortableFields.SLUG),m(),A(" ",x(23,15,"SLUG")," "),m(2),O("sortField",o.sortableFields.CREATED_AT),m(),A(" ",x(26,17,"CREATED_AT")," "),m(3),fe(o.loading?28:29),m(3),O("ngTemplateOutlet",a)}},dependencies:[$r,hn,ki,Hr,Be,Ie,Te,cr],styles:[".card[_ngcontent-%COMP%]   .bg-purple[_ngcontent-%COMP%]{background:var(--purple-9)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--purple-1);transition:all .3s ease}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{color:var(--purple-contrast);background:var(--purple-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;font-size:.8rem;color:var(--gray-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{border:2px solid var(--purple-contrast);box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-weight:500}.card[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--gray-2) 25%,var(--gray-3) 50%,var(--gray-2) 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;height:20px;border-radius:4px}.card[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]{color:var(--purple-9);transition:color .3s ease}.card[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]:hover{color:var(--purple-12)}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.custom-checkbox[_ngcontent-%COMP%]{border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--purple-9);border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6f42c140}"]});let t=e;return t})();var Hq=()=>[1,2,3,4,5,6,7,8,9,10],zq=t=>[".",t];function qq(t,e){t&1&&It(0)}function Gq(t,e){t&1&&It(0)}function Wq(t,e){t&1&&(f(0,"tr",16)(1,"td"),I(2,"input",17),h(),f(3,"td"),I(4,"div",18),h(),f(5,"td"),I(6,"div",19),h(),f(7,"td"),I(8,"div",20),h(),f(9,"td"),I(10,"div",21),h()())}function Kq(t,e){t&1&&Me(0,Wq,11,0,"tr",16,Rr),t&2&&De(cn(0,Hq))}function Zq(t,e){if(t&1){let r=ve();f(0,"tr")(1,"td")(2,"input",22),P("change",function(){U(r);let i=N(2);return $(i.onSelect())}),h()(),f(3,"td"),y(4),h(),f(5,"td")(6,"a",23),y(7),h()(),f(8,"td"),y(9),h(),f(10,"td"),y(11),w(12,"date"),h()()}if(t&2){let r=e.$implicit;m(2),O("id",r.id),m(2),k(r.id),m(2),O("routerLink",un(9,zq,r.slug)),m(),A(" ",r.name," "),m(2),k(r.slug),m(2),k($e(12,6,r.createdAt,"HH:mm dd/MM/yyyy"))}}function Yq(t,e){if(t&1&&Me(0,Zq,13,11,"tr",null,ze),t&2){let r=N();De(r.categories==null?null:r.categories.items)}}function Jq(t,e){t&1&&It(0)}function Qq(t,e){if(t&1){let r=ve();f(0,"app-list-controls",24),P("refreshButtonClick",function(){U(r);let i=N();return $(i.onRefreshButtonClick())})("deleteButtonClick",function(){U(r);let i=N();return $(i.onDeleteSelected())}),h()}}function Xq(t,e){if(t&1){let r=ve();f(0,"app-pagination",25),P("pageChange",function(i){U(r);let o=N();return $(o.onPageChange(i))})("pageSizeChange",function(i){U(r);let o=N();return $(o.onPageSizeChange(i))}),h()}if(t&2){let r=N();O("pageRequest",r.pageRequest)("items",r.categories)("loading",r.loading)}}var lT=(()=>{let e=class e{constructor(n,i,o){this.categoryService=n,this.alertService=i,this.translate=o,this.loading=!1,this.categories=null,this.pageRequest={page:1,size:10},this.sort={sortBy:Nt.CREATED_AT,ascending:!1},this.sortableFields=Nt,this.selectAllChecked=!1,this.translate.setDefaultLang("vi")}ngOnInit(){this.fetchCategories()}onRefreshButtonClick(){this.fetchCategories()}onSelectAll(n){let i=n.target;this.selectAllChecked=i.checked,document.querySelectorAll(".custom-checkbox").forEach(s=>{s.checked=this.selectAllChecked})}onSelect(){let n=document.querySelectorAll(".custom-checkbox:not(#selectAll)"),i=Array.from(n).every(s=>s.checked);this.selectAllChecked=i;let o=document.querySelector("#selectAll");o&&(o.checked=this.selectAllChecked)}nextPage(){this.categories?.hasNext&&(this.pageRequest.page++,this.fetchCategories())}previousPage(){this.categories?.hasPrevious&&(this.pageRequest.page--,this.fetchCategories())}onPageChange(n){n==="next"?this.nextPage():this.previousPage()}onPageSizeChange(n){this.pageRequest.size=n,this.validatePageRequest(),this.fetchCategories()}onSortChange(n){this.sort=n,this.fetchCategories()}onDeleteSelected(){console.log("INFO - Starting deleting categories...");let i=`Delete ${this.getSelectedCategoriesIds().length} category(s)?`;this.alertService.showConfirmationAlert(i,"Those categories will be deleted forever! Do you want to continue?","warning",()=>this.doDeleteSelectedCategories())}fetchCategories(){this.loading=!0,this.categoryService.getBy(this.pageRequest,this.sort).subscribe({next:n=>{this.categories=n,this.loading=!1},error:()=>this.loading=!1})}doDeleteSelectedCategories(){this.categoryService.delete(this.getSelectedCategoriesIds()).subscribe({next:()=>{this.showSuccess(),this.fetchCategories()},error:n=>this.showError(n)})}showSuccess(){let n=`${this.getSelectedCategoriesIds().length} categories deleted`;this.alertService.showSuccessToast(n)}showError(n){let{error:i}=n,o=i.errorMessage||"Some server issues occurred";this.alertService.showErrorToast(o)}getSelectedCategoriesIds(){let n=document.querySelectorAll(".custom-checkbox:not(#selectAll)");return Array.from(n).filter(i=>i.checked).map(i=>parseInt(i.id))}validatePageRequest(){this.categories&&this.categories.totalItems-this.pageRequest.page*this.pageRequest.size<0&&(this.pageRequest.page=Math.ceil(this.categories.totalItems/this.pageRequest.size))}};e.\u0275fac=function(i){return new(i||e)(T(oc),T(lt),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-categories"]],standalone:!0,features:[ge],decls:36,vars:19,consts:[["controls",""],["pagination",""],[1,"container-fluid","my-5"],[1,"card","border-0","shadow"],[1,"card-header","bg-purple","bg-gradient","d-flex","justify-content-between","align-items-center","py-3"],[1,"mb-0","text-white"],[1,"card-footer","border-0","d-flex","align-items-center","justify-content-between"],[4,"ngTemplateOutlet"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover","align-middle"],["id","selectAll","type","checkbox",1,"form-check-input","custom-checkbox",3,"change"],[2,"width","5%"],["appSortable","",2,"width","40%",3,"sortChange","sortField"],["appSortable","",2,"width","15%",3,"sortChange","sortField"],[1,"card-footer","border-0","d-flex","justify-content-end"],[1,"skeleton-row"],["type","checkbox",1,"form-check-input","custom-checkbox"],[1,"skeleton-loader",2,"width","30px"],[1,"skeleton-loader",2,"width","100px"],[1,"skeleton-loader",2,"width","150px"],[1,"skeleton-loader",2,"width","60px"],["type","checkbox",1,"form-check-input","custom-checkbox",3,"change","id"],[1,"user-link","text-decoration-none","fw-bold",3,"routerLink"],[3,"refreshButtonClick","deleteButtonClick"],[3,"pageChange","pageSizeChange","pageRequest","items","loading"]],template:function(i,o){if(i&1){let s=ve();f(0,"main",2)(1,"div",3)(2,"div",4)(3,"h2",5),y(4),w(5,"translate"),h()(),f(6,"div",6),Y(7,qq,1,0,"ng-container",7)(8,Gq,1,0,"ng-container",7),h(),f(9,"div",8)(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th")(15,"input",11),P("change",function(l){return U(s),$(o.onSelectAll(l))}),h()(),f(16,"th",12),y(17,"ID"),h(),f(18,"th",13),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(19),w(20,"translate"),h(),f(21,"th",13),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(22),w(23,"translate"),h(),f(24,"th",14),P("sortChange",function(l){return U(s),$(o.onSortChange(l))}),y(25),w(26,"translate"),h()()(),f(27,"tbody"),Y(28,Kq,2,1)(29,Yq,2,0),h()()()(),f(30,"div",15),Y(31,Jq,1,0,"ng-container",7),h()()(),Y(32,Qq,1,0,"ng-template",null,0,Mn)(34,Xq,1,3,"ng-template",null,1,Mn)}if(i&2){let s=nn(33),a=nn(35);m(4),k(x(5,11,"CATEGORIES")),m(3),O("ngTemplateOutlet",s),m(),O("ngTemplateOutlet",a),m(10),O("sortField",o.sortableFields.NAME),m(),A(" ",x(20,13,"NAME")," "),m(2),O("sortField",o.sortableFields.SLUG),m(),A(" ",x(23,15,"SLUG")," "),m(2),O("sortField",o.sortableFields.CREATED_AT),m(),A(" ",x(26,17,"CREATED_AT")," "),m(3),fe(o.loading?28:29),m(3),O("ngTemplateOutlet",a)}},dependencies:[$r,hn,ki,Hr,Be,cr,Ie,Te],styles:[".card[_ngcontent-%COMP%]   .bg-purple[_ngcontent-%COMP%]{background:var(--purple-9)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--purple-1);transition:all .3s ease}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{color:var(--purple-contrast);background:var(--purple-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;font-size:.8rem;color:var(--gray-9)}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{border:2px solid var(--purple-contrast);box-shadow:0 2px 4px #0000001a}.card[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-weight:500}.card[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--gray-2) 25%,var(--gray-3) 50%,var(--gray-2) 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite;height:20px;border-radius:4px}.card[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]{color:var(--purple-9);transition:color .3s ease}.card[_ngcontent-%COMP%]   .user-link[_ngcontent-%COMP%]:hover{color:var(--purple-12)}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.custom-checkbox[_ngcontent-%COMP%]{border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--purple-9);border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6f42c140}"]});let t=e;return t})();var cT=(()=>{let e=class e{constructor(n,i,o,s,a){this.fb=n,this.brandService=i,this.alertService=o,this.router=s,this.translate=a,this.editor=new Bi,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.brand=null,this.brands$=null,this.destroy$=new Ze,this.translate.setDefaultLang("vi")}set slug(n){n&&n!=="new"&&(this.brandSlug=n,this.brands$=this.brandService.getBySlug(n))}ngOnInit(){this.initForm(),this.brands$?.pipe(en(this.destroy$)).subscribe(n=>{this.brand=n,this.updateForm(n)})}generateSlug(){let i=this.brandForm.value.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"");i=i.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+|-+$/g,""),this.brandForm.patchValue({slug:i})}isInvalid(n){let i=this.brandForm.get(n);return i?.invalid&&(i?.dirty||i?.touched)}onSaveButtonClick(){let n=this.brandForm.value;(this.brand?.slug?this.brandService.update(n):this.brandService.create(n)).subscribe({next:o=>{let a=o?.slug||this.brand?.slug;this.router.navigate(["/admin/brands/",a]),this.alertService.showSuccessToast("Brand has been saved successfully")},error:o=>this.handleError(o)})}initForm(){this.brandForm=this.fb.group({id:[0],name:["",we.required],slug:["",we.required],description:[""]})}updateForm(n){this.brandForm.patchValue({id:n.id,name:n.name,slug:n.slug,description:n.description})}handleError(n){let i=n.error?.errorMessage||"An unknown error occurred";this.alertService.showErrorToast(i)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(i){return new(i||e)(T(bn),T(sc),T(lt),T(mt),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-brand-details"]],inputs:{slug:"slug"},standalone:!0,features:[ge],decls:54,vars:31,consts:[[1,"container","my-5"],[1,"card","border-0","shadow"],[1,"card-header","bg-purple","bg-gradient","d-flex","justify-content-between","align-items-center","py-3"],[1,"mb-0","text-white"],[1,"card-footer"],["role","tablist",1,"nav","nav-underline"],["role","presentation",1,"nav-item"],["id","general-tab","data-bs-toggle","tab","data-bs-target","#general","type","button","role","tab","aria-controls","general","aria-selected","true",1,"nav-link","active"],[1,"card-body"],[3,"formGroup"],[1,"tab-content"],["id","general","role","tabpanel","aria-labelledby","general-tab",1,"tab-pane","fade","show","active"],[1,"row","g-3"],[1,"col"],[1,"row","g-3","align-items-center","mt-1"],[1,"col-3"],["for","name",1,"col-form-label"],["formControlName","name","type","text","id","name","placeholder","Brand name",1,"form-control"],[1,"row","g-3","align-items-center","my-1"],["for","slug",1,"col-form-label"],[1,"col","d-flex","gap-2"],["formControlName","slug","type","text","id","slug","placeholder","brand-slug",1,"form-control"],["title","Generate slug",1,"btn",3,"click"],[1,"bi","bi-repeat"],["for","description",1,"col-form-label"],["id","description",1,"NgxEditor__Wrapper"],[3,"editor","toolbar"],["formControlName","description",3,"editor","placeholder"],[1,"card-footer","border-0","controls-bar","d-flex","justify-content-between","align-items-center"],["routerLink","..",1,"btn","return-btn","border-0","fs-5"],[1,"bi","bi-arrow-return-left","me-3"],[1,"btn","save-btn","border-0","fs-5","fw-bold",3,"click","disabled"],[1,"bi","bi-floppy","me-3"]],template:function(i,o){i&1&&(f(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4),w(5,"translate"),h()(),f(6,"div",4)(7,"ul",5)(8,"li",6)(9,"button",7),y(10),w(11,"translate"),h()()()(),f(12,"div",8)(13,"form",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"label",16),y(21),w(22,"translate"),h()(),f(23,"div",13),I(24,"input",17),h()(),f(25,"div",18)(26,"div",15)(27,"label",19),y(28),w(29,"translate"),h()(),f(30,"div",20),I(31,"input",21),f(32,"button",22),P("click",function(){return o.generateSlug()}),I(33,"i",23),h()()(),f(34,"div",18)(35,"div",15)(36,"label",24),y(37),w(38,"translate"),h()(),f(39,"div",13)(40,"div",25),I(41,"ngx-editor-menu",26)(42,"ngx-editor",27),h()()()()()()()()(),f(43,"div",28)(44,"button",29),I(45,"i",30),f(46,"span"),y(47),w(48,"translate"),h()(),f(49,"button",31),P("click",function(){return o.onSaveButtonClick()}),I(50,"i",32),f(51,"span"),y(52),w(53,"translate"),h()()()()()),i&2&&(m(4),A(" ",(o.brand==null?null:o.brand.name)||x(5,17,"NEW_BRAND")," "),m(6),A(" ",x(11,19,"GENERAL")," "),m(3),O("formGroup",o.brandForm),m(8),k(x(22,21,"NAME")),m(3),pe("invalid-input",o.isInvalid("name")),m(4),k(x(29,23,"SLUG")),m(3),pe("invalid-input",o.isInvalid("slug")),m(6),k(x(38,25,"DESCRIPTION")),m(4),O("editor",o.editor)("toolbar",o.toolbar),m(),O("editor",o.editor)("placeholder","Type here..."),m(5),k(x(48,27,"BACK")),m(2),O("disabled",!o.brandForm.valid),m(3),k(x(53,29,"SAVE")))},dependencies:[fr,Qt,Ot,At,Jt,on,Gt,Wt,Be,ps,us,ds,Ie,Te],styles:[".card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--gray-9)}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--purple-9)}.bg-purple[_ngcontent-%COMP%]{background:var(--purple-9)}.card-header[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--purple-1);transition:all .3s ease}.card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]:hover, .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{color:var(--purple-contrast);background:var(--purple-9)}.invalid-input[_ngcontent-%COMP%]{border-color:var(--red-9)}.invalid-input[_ngcontent-%COMP%]:focus, .invalid-input[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem var(--red-a6)}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:active, .form-select[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem #6f42c140;border-color:var(--purple-6)}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:var(--purple-9)}label[_ngcontent-%COMP%]{color:var(--gray-9);font-weight:600}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--purple-9);border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:focus, .custom-checkbox[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem #6f42c140}.card-footer.controls-bar[_ngcontent-%COMP%]   .return-btn[_ngcontent-%COMP%]{color:var(--purple-9)}.card-footer.controls-bar[_ngcontent-%COMP%]   .return-btn[_ngcontent-%COMP%]:hover{color:var(--purple-12)}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{color:var(--purple-contrast);background-color:var(--purple-9);transition:all .3s ease-in-out}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background:var(--purple-12)!important}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:active{background:var(--purple-9)!important}.img-thumbnail[_ngcontent-%COMP%]{width:150px;height:150px}.img-thumbnail[_ngcontent-%COMP%]:hover{border-color:var(--purple-9)}"]});let t=e;return t})();var uT=(()=>{let e=class e{constructor(n,i,o,s,a){this.fb=n,this.categoryService=i,this.alertService=o,this.router=s,this.translate=a,this.editor=new Bi,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.category=null,this.categories$=null,this.destroy$=new Ze,this.translate.setDefaultLang("vi")}set slug(n){n&&n!=="new"&&(this.categorySlug=n,this.categories$=this.categoryService.getBySlug(n))}ngOnInit(){this.initForm(),this.categories$?.pipe(en(this.destroy$)).subscribe(n=>{this.category=n,this.updateForm(n)})}generateSlug(){let i=this.categoryForm.value.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"");i=i.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+|-+$/g,""),this.categoryForm.patchValue({slug:i})}isInvalid(n){let i=this.categoryForm.get(n);return i?.invalid&&(i?.dirty||i?.touched)}onSaveButtonClick(){let n=this.categoryForm.value;(this.category?.slug?this.categoryService.update(n):this.categoryService.create(n)).subscribe({next:o=>{let a=o?.slug||this.category?.slug;this.router.navigate(["/admin/categories/",a]),this.alertService.showSuccessToast("Category has been saved successfully")},error:o=>this.handleError(o)})}initForm(){this.categoryForm=this.fb.group({id:[0],name:["",we.required],slug:["",we.required],description:[""]})}updateForm(n){this.categoryForm.patchValue({id:n.id,name:n.name,slug:n.slug,description:n.description})}handleError(n){let i=n.error?.errorMessage||"An unknown error occurred";this.alertService.showErrorToast(i)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(i){return new(i||e)(T(bn),T(oc),T(lt),T(mt),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-brand-details"]],inputs:{slug:"slug"},standalone:!0,features:[ge],decls:54,vars:31,consts:[[1,"container","my-5"],[1,"card","border-0","shadow"],[1,"card-header","bg-purple","bg-gradient","d-flex","justify-content-between","align-items-center","py-3"],[1,"mb-0","text-white"],[1,"card-footer"],["role","tablist",1,"nav","nav-underline"],["role","presentation",1,"nav-item"],["id","general-tab","data-bs-toggle","tab","data-bs-target","#general","type","button","role","tab","aria-controls","general","aria-selected","true",1,"nav-link","active"],[1,"card-body"],[3,"formGroup"],[1,"tab-content"],["id","general","role","tabpanel","aria-labelledby","general-tab",1,"tab-pane","fade","show","active"],[1,"row","g-3"],[1,"col"],[1,"row","g-3","align-items-center","mt-1"],[1,"col-3"],["for","name",1,"col-form-label"],["formControlName","name","type","text","id","name","placeholder","Category name",1,"form-control"],[1,"row","g-3","align-items-center","my-1"],["for","slug",1,"col-form-label"],[1,"col","d-flex","gap-2"],["formControlName","slug","type","text","id","slug","placeholder","category-slug",1,"form-control"],["title","Generate slug",1,"btn",3,"click"],[1,"bi","bi-repeat"],["for","description",1,"col-form-label"],["id","description",1,"NgxEditor__Wrapper"],[3,"editor","toolbar"],["formControlName","description",3,"editor","placeholder"],[1,"card-footer","border-0","controls-bar","d-flex","justify-content-between","align-items-center"],["routerLink","..",1,"btn","return-btn","border-0","fs-5"],[1,"bi","bi-arrow-return-left","me-3"],[1,"btn","save-btn","border-0","fs-5","fw-bold",3,"click","disabled"],[1,"bi","bi-floppy","me-3"]],template:function(i,o){i&1&&(f(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4),w(5,"translate"),h()(),f(6,"div",4)(7,"ul",5)(8,"li",6)(9,"button",7),y(10),w(11,"translate"),h()()()(),f(12,"div",8)(13,"form",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"label",16),y(21),w(22,"translate"),h()(),f(23,"div",13),I(24,"input",17),h()(),f(25,"div",18)(26,"div",15)(27,"label",19),y(28),w(29,"translate"),h()(),f(30,"div",20),I(31,"input",21),f(32,"button",22),P("click",function(){return o.generateSlug()}),I(33,"i",23),h()()(),f(34,"div",18)(35,"div",15)(36,"label",24),y(37),w(38,"translate"),h()(),f(39,"div",13)(40,"div",25),I(41,"ngx-editor-menu",26)(42,"ngx-editor",27),h()()()()()()()()(),f(43,"div",28)(44,"button",29),I(45,"i",30),f(46,"span"),y(47),w(48,"translate"),h()(),f(49,"button",31),P("click",function(){return o.onSaveButtonClick()}),I(50,"i",32),f(51,"span"),y(52),w(53,"translate"),h()()()()()),i&2&&(m(4),A(" ",(o.category==null?null:o.category.name)||x(5,17,"NEW_CATEGORY")," "),m(6),A(" ",x(11,19,"GENERAL")," "),m(3),O("formGroup",o.categoryForm),m(8),k(x(22,21,"NAME")),m(3),pe("invalid-input",o.isInvalid("name")),m(4),k(x(29,23,"SLUG")),m(3),pe("invalid-input",o.isInvalid("slug")),m(6),k(x(38,25,"DESCRIPTION")),m(4),O("editor",o.editor)("toolbar",o.toolbar),m(),O("editor",o.editor)("placeholder","Type here..."),m(5),k(x(48,27,"BACK")),m(2),O("disabled",!o.categoryForm.valid),m(3),k(x(53,29,"SAVE")))},dependencies:[fr,Qt,Ot,At,Jt,on,Gt,Wt,Be,ps,us,ds,Ie,Te],styles:[".card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--gray-9)}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--purple-9)}.bg-purple[_ngcontent-%COMP%]{background:var(--purple-9)}.card-header[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--purple-1);transition:all .3s ease}.card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]:hover, .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{color:var(--purple-contrast);background:var(--purple-9)}.invalid-input[_ngcontent-%COMP%]{border-color:var(--red-9)}.invalid-input[_ngcontent-%COMP%]:focus, .invalid-input[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem var(--red-a6)}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:active, .form-select[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem #6f42c140;border-color:var(--purple-6)}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:var(--purple-9)}label[_ngcontent-%COMP%]{color:var(--gray-9);font-weight:600}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--purple-9);border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:focus, .custom-checkbox[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem #6f42c140}.card-footer.controls-bar[_ngcontent-%COMP%]   .return-btn[_ngcontent-%COMP%]{color:var(--purple-9)}.card-footer.controls-bar[_ngcontent-%COMP%]   .return-btn[_ngcontent-%COMP%]:hover{color:var(--purple-12)}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{color:var(--purple-contrast);background-color:var(--purple-9);transition:all .3s ease-in-out}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background:var(--purple-12)!important}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:active{background:var(--purple-9)!important}.img-thumbnail[_ngcontent-%COMP%]{width:150px;height:150px}.img-thumbnail[_ngcontent-%COMP%]:hover{border-color:var(--purple-9)}"]});let t=e;return t})();function eG(t,e){if(t&1&&(f(0,"option",28),y(1),h()),t&2){let r=e.$implicit;O("value",r.slug),m(),k(r.name)}}var dT=(()=>{let e=class e{constructor(n,i,o,s,a,l){this.fb=n,this.modelService=i,this.brandService=o,this.alertService=s,this.router=a,this.translate=l,this.editor=new Bi,this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],this.model=null,this.models$=null,this.brands$=null,this.destroy$=new Ze,this.translate.setDefaultLang("vi")}set slug(n){n&&n!=="new"&&(this.modelSlug=n,this.models$=this.modelService.getBySlug(n))}ngOnInit(){this.initForm(),this.models$?.pipe(en(this.destroy$)).subscribe(n=>{this.model=n,this.updateForm(n)}),this.brands$=this.brandService.getBy({page:1,size:999})}generateSlug(){let i=this.modelForm.value.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"");i=i.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+|-+$/g,""),this.modelForm.patchValue({slug:i})}isInvalid(n){let i=this.modelForm.get(n);return i?.invalid&&(i?.dirty||i?.touched)}onSaveButtonClick(){let n=this.modelForm.value;(this.model?.slug?this.modelService.update(n):this.modelService.create(n)).subscribe({next:o=>{let a=o?.slug||this.model?.slug;this.router.navigate(["/admin/models/",a]),this.alertService.showSuccessToast("Model has been saved successfully")},error:o=>this.handleError(o)})}initForm(){this.modelForm=this.fb.group({id:[0],name:["",we.required],slug:["",we.required],brandSlug:["",we.required],description:[""]})}updateForm(n){this.modelForm.patchValue({id:n.id,name:n.name,slug:n.slug,description:n.description,brandSlug:n.brand.slug})}handleError(n){let i=n.error?.errorMessage||"An unknown error occurred";this.alertService.showErrorToast(i)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(i){return new(i||e)(T(bn),T(ic),T(sc),T(lt),T(mt),T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-brand-details"]],inputs:{slug:"slug"},standalone:!0,features:[ge],decls:66,vars:36,consts:[[1,"container","my-5"],[1,"card","border-0","shadow"],[1,"card-header","bg-purple","bg-gradient","d-flex","justify-content-between","align-items-center","py-3"],[1,"mb-0","text-white"],[1,"card-footer"],["role","tablist",1,"nav","nav-underline"],["role","presentation",1,"nav-item"],["id","general-tab","data-bs-toggle","tab","data-bs-target","#general","type","button","role","tab","aria-controls","general","aria-selected","true",1,"nav-link","active"],[1,"card-body"],[3,"formGroup"],[1,"tab-content"],["id","general","role","tabpanel","aria-labelledby","general-tab",1,"tab-pane","fade","show","active"],[1,"row","g-3"],[1,"col"],[1,"row","g-3","align-items-center","mt-1"],[1,"col-3"],["for","name",1,"col-form-label"],["formControlName","name","type","text","id","name","placeholder","Model name",1,"form-control"],[1,"row","g-3","align-items-center","my-1"],["for","slug",1,"col-form-label"],[1,"col","d-flex","gap-2"],["formControlName","slug","type","text","id","slug","placeholder","model-slug",1,"form-control"],["title","Generate slug",1,"btn",3,"click"],[1,"bi","bi-repeat"],["for","brand",1,"col-form-label"],[1,"col-auto"],["id","brand","formControlName","brandSlug",1,"form-select"],["value","","disabled","","selected",""],[3,"value"],["for","description",1,"col-form-label"],["id","description",1,"NgxEditor__Wrapper"],[3,"editor","toolbar"],["formControlName","description",3,"editor","placeholder"],[1,"card-footer","border-0","controls-bar","d-flex","justify-content-between","align-items-center"],["routerLink","..",1,"btn","return-btn","border-0","fs-5"],[1,"bi","bi-arrow-return-left","me-3"],[1,"btn","save-btn","border-0","fs-5","fw-bold",3,"click","disabled"],[1,"bi","bi-floppy","me-3"]],template:function(i,o){if(i&1&&(f(0,"main",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4),w(5,"translate"),h()(),f(6,"div",4)(7,"ul",5)(8,"li",6)(9,"button",7),y(10),w(11,"translate"),h()()()(),f(12,"div",8)(13,"form",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"label",16),y(21),w(22,"translate"),h()(),f(23,"div",13),I(24,"input",17),h()(),f(25,"div",18)(26,"div",15)(27,"label",19),y(28),w(29,"translate"),h()(),f(30,"div",20),I(31,"input",21),f(32,"button",22),P("click",function(){return o.generateSlug()}),I(33,"i",23),h()()(),f(34,"div",18)(35,"div",15)(36,"label",24),y(37),w(38,"translate"),h()(),f(39,"div",25)(40,"select",26)(41,"option",27),y(42),w(43,"translate"),h(),Me(44,eG,2,2,"option",28,ze),w(46,"async"),h()()(),f(47,"div",18)(48,"div",15)(49,"label",29),y(50,"Description"),h()(),f(51,"div",13)(52,"div",30),I(53,"ngx-editor-menu",31)(54,"ngx-editor",32),h()()()()()()()()(),f(55,"div",33)(56,"button",34),I(57,"i",35),f(58,"span"),y(59),w(60,"translate"),h()(),f(61,"button",36),P("click",function(){return o.onSaveButtonClick()}),I(62,"i",37),f(63,"span"),y(64),w(65,"translate"),h()()()()()),i&2){let s;m(4),A(" ",(o.model==null?null:o.model.name)||x(5,18,"NEW_MODEL")," "),m(6),A(" ",x(11,20,"GENERAL")," "),m(3),O("formGroup",o.modelForm),m(8),k(x(22,22,"NAME")),m(3),pe("invalid-input",o.isInvalid("name")),m(4),k(x(29,24,"SLUG")),m(3),pe("invalid-input",o.isInvalid("slug")),m(6),k(x(38,26,"BRAND")),m(5),k(x(43,28,"CHOOSE_BRAND")),m(2),De((s=x(46,30,o.brands$))==null?null:s.items),m(9),O("editor",o.editor)("toolbar",o.toolbar),m(),O("editor",o.editor)("placeholder","Type here..."),m(5),k(x(60,32,"BACK")),m(2),O("disabled",!o.modelForm.valid),m(3),k(x(65,34,"SAVE"))}},dependencies:[ai,fr,Qt,Rl,Fl,Ot,Qo,At,Jt,on,Gt,Wt,Be,ps,us,ds,Ie,Te],styles:[".card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--gray-9)}.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .nav-underline[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--purple-9)}.bg-purple[_ngcontent-%COMP%]{background:var(--purple-9)}.card-header[_ngcontent-%COMP%]{color:var(--purple-contrast)}.card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:var(--purple-9);background:var(--purple-1);transition:all .3s ease}.card-header[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]:hover, .card-header[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{color:var(--purple-contrast);background:var(--purple-9)}.invalid-input[_ngcontent-%COMP%]{border-color:var(--red-9)}.invalid-input[_ngcontent-%COMP%]:focus, .invalid-input[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem var(--red-a6)}input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:active, .form-select[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem #6f42c140;border-color:var(--purple-6)}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{background:var(--purple-9)}label[_ngcontent-%COMP%]{color:var(--gray-9);font-weight:600}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:var(--purple-9);border-color:var(--purple-9)}.custom-checkbox[_ngcontent-%COMP%]:focus, .custom-checkbox[_ngcontent-%COMP%]:active{box-shadow:0 0 0 .25rem #6f42c140}.card-footer.controls-bar[_ngcontent-%COMP%]   .return-btn[_ngcontent-%COMP%]{color:var(--purple-9)}.card-footer.controls-bar[_ngcontent-%COMP%]   .return-btn[_ngcontent-%COMP%]:hover{color:var(--purple-12)}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{color:var(--purple-contrast);background-color:var(--purple-9);transition:all .3s ease-in-out}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background:var(--purple-12)!important}.card-footer.controls-bar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:active{background:var(--purple-9)!important}.img-thumbnail[_ngcontent-%COMP%]{width:150px;height:150px}.img-thumbnail[_ngcontent-%COMP%]:hover{border-color:var(--purple-9)}"]});let t=e;return t})();var pT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ae({type:e,selectors:[["app-home"]],standalone:!0,features:[ge],decls:29,vars:12,consts:[[1,"container","bg-white"],[1,"w-100","p-3","mt-3"],[1,"title","p-3"],[1,"fs-2","fw-light","text-muted"],[1,"row"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4),w(5,"translate"),h()()(),f(6,"div",4),I(7,"app-product-list"),h(),f(8,"div",1)(9,"div",2)(10,"h2",3),y(11),w(12,"translate"),h()()(),f(13,"div",4),I(14,"app-product-list"),h(),f(15,"div",1)(16,"div",2)(17,"h2",3),y(18),w(19,"translate"),h()()(),f(20,"div",4),I(21,"app-product-list"),h(),f(22,"div",1)(23,"div",2)(24,"h2",3),y(25),w(26,"translate"),h()()(),f(27,"div",4),I(28,"app-product-list"),h()()),i&2&&(m(4),k(x(5,4,"FOR_YOU")),m(7),k(x(12,6,"NEWEST")),m(7),k(x(19,8,"BEST_SELLER")),m(7),k(x(26,10,"POPULAR")))},dependencies:[Xf,Ie,Te],styles:[".title[_ngcontent-%COMP%]{background:var(--gray-1)}"]});let t=e;return t})();var Kh=(()=>{let e=class e{constructor(n){this.http=n,this.BASE_URL=Pe.PAYMENT_SERVICE_API}getPaymentUrl(n){return this.http.post(`${this.BASE_URL}/payments/process`,{orderId:n})}saveTransaction(n){return this.http.post(`${this.BASE_URL}/payments/vnpay-return`,n)}};e.\u0275fac=function(i){return new(i||e)(ie(kt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tG=(t,e)=>e.id,nG=t=>["/may-tinh-xach-tay",t];function rG(t,e){t&1&&(f(0,"div",7)(1,"div",12),I(2,"div",13),h(),f(3,"div",14),I(4,"div",15)(5,"div",16),h(),f(6,"div",17),I(7,"div",18)(8,"div",19)(9,"div",18),h(),f(10,"div",20),I(11,"div",21)(12,"div",22),h()())}function iG(t,e){if(t&1&&(f(0,"div",5)(1,"div",6),Me(2,rG,13,0,"div",7,ze),h()(),f(4,"div",8)(5,"div",6)(6,"h5",9),y(7),w(8,"translate"),h(),I(9,"div",10)(10,"hr")(11,"div",10)(12,"hr")(13,"div",10)(14,"hr")(15,"div",11),h()()),t&2){let r=N();m(2),De(r.Array(3)),m(5),k(x(8,1,"ORDER_SUMMARY"))}}function oG(t,e){if(t&1&&(f(0,"div",7)(1,"div",12),I(2,"img",40),h(),f(3,"div",14)(4,"h5",41),y(5),h(),f(6,"p",42)(7,"del"),y(8),w(9,"currency"),h()()(),f(10,"div",43)(11,"span",44),y(12),w(13,"currency"),h()(),f(14,"div",45)(15,"span",44),y(16),w(17,"currency"),h()()()),t&2){let r,n,i,o,s,a=e.$implicit,l=N(4);m(2),O("src",l.getImage(a),Ut)("alt",(r=l.getProduct(a))==null?null:r.name),m(2),O("title",(n=l.getProduct(a))==null?null:n.name),m(),A(" ",(i=l.getProduct(a))==null?null:i.name," "),m(3),k($e(9,8,(o=l.getProduct(a))==null?null:o.basePrice,"VND")),m(4),at("",a.quantity," x ",$e(13,11,(s=l.getProduct(a))==null?null:s.salePrice,"VND"),""),m(4),k($e(17,14,l.getAmount(a),"VND"))}}function sG(t,e){if(t&1&&(f(0,"div",33),I(1,"input",46),f(2,"label",47),y(3),h()()),t&2){let r=N(4);m(),O("id",r.user==null?null:r.user.phone)("value",r.user==null?null:r.user.phone),m(),O("for",r.user==null?null:r.user.phone),m(),A(" ",r.user==null?null:r.user.phone," ")}}function aG(t,e){t&1&&(f(0,"div",50),y(1),w(2,"translate"),h()),t&2&&(m(),A(" ",x(2,1,"PHONE_REQUIRED")," "))}function lG(t,e){if(t&1&&(f(0,"div",34)(1,"label",48),y(2),w(3,"translate"),h(),I(4,"input",49),w(5,"translate"),Y(6,aG,3,3,"div",50),h()),t&2){let r,n=N(4);m(2),k(x(3,3,"NEW_PHONE")),m(2),O("placeholder",x(5,5,"ENTER_NEW_PHONE")),m(2),fe((r=n.checkoutForm.get("phone"))!=null&&r.invalid&&((r=n.checkoutForm.get("phone"))!=null&&r.touched)?6:-1)}}function cG(t,e){if(t&1&&(f(0,"div",33),I(1,"input",51),f(2,"label",47),y(3),h()()),t&2){let r=e.$implicit,n=e.$index;m(),O("id",n)("value",r),m(),O("for",n),m(),A(" ",r," ")}}function uG(t,e){if(t&1&&Me(0,cG,4,4,"div",33,ze),t&2){let r=N(4);De(r.userAddresses)}}function dG(t,e){t&1&&(f(0,"div",50),y(1),w(2,"translate"),h()),t&2&&(m(),A(" ",x(2,1,"ADDRESS_REQUIRED")," "))}function pG(t,e){if(t&1&&(f(0,"div",34)(1,"label",52),y(2),w(3,"translate"),h(),I(4,"input",53),w(5,"translate"),Y(6,dG,3,3,"div",50),h()),t&2){let r,n=N(4);m(2),k(x(3,3,"NEW_ADDRESS")),m(2),O("placeholder",x(5,5,"ENTER_NEW_ADDRESS")),m(2),fe((r=n.checkoutForm.get("shippingAddress"))!=null&&r.invalid&&((r=n.checkoutForm.get("shippingAddress"))!=null&&r.touched)?6:-1)}}function fG(t,e){if(t&1&&(f(0,"div",5)(1,"div",6),Me(2,oG,18,17,"div",7,tG),h(),f(4,"form",31)(5,"div",32)(6,"h5",9),y(7),w(8,"translate"),h(),Y(9,sG,4,4,"div",33)(10,lG,7,7,"div",34),h(),f(11,"div",32)(12,"h5",9),y(13),w(14,"translate"),h(),Y(15,uG,2,0)(16,pG,7,7,"div",34),h(),f(17,"div",32)(18,"h5",9),y(19),w(20,"translate"),h(),f(21,"div",33),I(22,"input",35),f(23,"label",36),y(24),w(25,"translate"),h()(),f(26,"div",37),I(27,"input",38),f(28,"label",39),y(29),w(30,"translate"),h()()()()()),t&2){let r=N(3);m(2),De(r.cartItems),m(2),O("formGroup",r.checkoutForm),m(3),k(x(8,8,"CHOOSE_PHONE")),m(2),fe(r.user!=null&&r.user.phone?9:10),m(4),k(x(14,10,"CHOOSE_SHIPPING_ADDRESS")),m(2),fe(r.userAddresses&&r.userAddresses.length>0?15:16),m(4),k(x(20,12,"CHOOSE_PAYMENT_METHOD")),m(5),A(" ",x(25,14,"CASH")," "),m(5),A(" ",x(30,16,"BANKING")," ")}}function hG(t,e){if(t&1){let r=ve();f(0,"div",7)(1,"div",12),I(2,"img",40),h(),f(3,"div",14)(4,"h5",54),y(5),h(),f(6,"p",42)(7,"del"),y(8),w(9,"currency"),h()()(),f(10,"div",17)(11,"button",55),P("click",function(){let i=U(r).$implicit,o=N(4);return $(o.decreaseQuantity(i))}),I(12,"i",56),h(),f(13,"input",57),Hs("ngModelChange",function(i){let o=U(r).$implicit;return dl(o.quantity,i)||(o.quantity=i),$(i)}),P("change",function(){let i=U(r).$implicit,o=N(4);return $(o.updateQuantity(i))}),h(),f(14,"button",55),P("click",function(){let i=U(r).$implicit,o=N(4);return $(o.increaseQuantity(i))}),I(15,"i",58),h()(),f(16,"div",20)(17,"span",44),y(18),w(19,"currency"),h(),f(20,"button",59),P("click",function(){let i=U(r).$implicit,o=N(4);return $(o.removeFromCart(i))}),I(21,"i",60),h()()()}if(t&2){let r,n,i,o,s,a=e.$implicit,l=N(4);m(2),G0("alt",l.products.get(a.productSlug)),O("src",l.getImage(a),Ut),m(2),O("routerLink",un(16,nG,(r=l.getProduct(a))==null?null:r.slug))("title",(n=l.getProduct(a))==null?null:n.name),m(),A(" ",(i=l.getProduct(a))==null?null:i.name," "),m(3),k($e(9,10,(o=l.getProduct(a))==null?null:o.basePrice,"VND")),m(3),O("disabled",a.quantity<=1),m(2),$s("ngModel",a.quantity),m(),O("disabled",a.quantity>=l.stock(a)),m(4),k($e(19,13,(s=l.getProduct(a))==null?null:s.salePrice,"VND"))}}function mG(t,e){if(t&1&&(f(0,"div",5)(1,"div",6),Me(2,hG,22,18,"div",7,ze),h()()),t&2){let r=N(3);m(2),De(r.cartItems)}}function gG(t,e){if(t&1){let r=ve();f(0,"button",61),P("click",function(){U(r);let i=N(3);return $(i.backToCart())}),y(1),w(2,"translate"),h(),f(3,"button",62),P("click",function(){U(r);let i=N(3);return $(i.placeOrder())}),y(4),w(5,"translate"),h()}t&2&&(m(),A(" ",x(2,2,"BACK")," "),m(3),A(" ",x(5,4,"PLACE_ORDER")," "))}function vG(t,e){if(t&1){let r=ve();f(0,"button",62),P("click",function(){U(r);let i=N(3);return $(i.proceedToCheckout())}),y(1),w(2,"translate"),h()}t&2&&(m(),A(" ",x(2,1,"PROCEED_TO_CHECKOUT")," "))}function yG(t,e){if(t&1&&(Y(0,fG,31,18,"div",5)(1,mG,4,0,"div",5),f(2,"div",8)(3,"div",6)(4,"h5",9),y(5),w(6,"translate"),h(),f(7,"div",24)(8,"span",25),y(9),w(10,"translate"),h(),f(11,"span",26),y(12),w(13,"currency"),h()(),I(14,"hr"),f(15,"div",27)(16,"span",25),y(17),w(18,"translate"),h(),f(19,"span",26),y(20),w(21,"currency"),h()(),f(22,"div",27)(23,"span",25),y(24),w(25,"translate"),h(),f(26,"span",26),y(27),w(28,"percent"),h()(),I(29,"hr"),f(30,"div",27)(31,"span",25),y(32),w(33,"translate"),h(),f(34,"span",28),y(35),w(36,"currency"),h()(),I(37,"hr"),f(38,"div",29),Y(39,gG,6,6)(40,vG,3,3,"button",30),h()()()),t&2){let r=N(2);fe(r.isCheckout?0:1),m(5),k(x(6,11,"ORDER_SUMMARY")),m(4),A("",x(10,13,"TOTAL_BASE_PRICE"),":"),m(3),k($e(13,15,r.totalBasePrice(),"VND")),m(5),A("",x(18,18,"TOTAL_DISCOUNTED_PRICE"),":"),m(3),k($e(21,20,r.totalDiscountedPrice,"VND")),m(4),A("",x(25,23,"DISCOUNT_PERCENT"),":"),m(3),k(x(28,25,r.discountedPercent)),m(5),A("",x(33,27,"TOTAL_AMOUNT"),":"),m(3),k($e(36,29,r.totalAmount,"VND")),m(4),fe(r.isCheckout?39:40)}}function bG(t,e){t&1&&(f(0,"div",23)(1,"h2",3),y(2),w(3,"translate"),h(),f(4,"a",63),y(5),w(6,"translate"),h()()),t&2&&(m(2),k(x(3,2,"EMPTY_CART")),m(3),k(x(6,4,"SHOPPING_NOW")))}function CG(t,e){if(t&1&&Y(0,yG,41,32,"div",8)(1,bG,7,6,"div",23),t&2){let r=N();fe(r.cartItems&&r.cartItems.length>0?0:1)}}var hT=(()=>{let e=class e{constructor(n,i,o,s,a,l,c,u,d){this.cartService=n,this.productService=i,this.translate=o,this.alertService=s,this.authService=a,this.userService=l,this.orderService=c,this.paymentService=u,this.fb=d,this.isCheckout=!1,this.selectedPaymentMethod="CASH",this.cartResponse=null,this.cartItems=[],this.products=new Map,this.productFeaturedImage=new Map,this.pageRequest={page:1,size:20},this.loading=!1,this.user=null,this.userAddresses=[],this.selectedAddress="",this.selectedPhoneNumber="",this.checkoutForm=this.fb.group({phone:[this.user?.phone||"",we.required],shippingAddress:[this.user?.address||"",[we.required,this.notBlankValidator]],paymentMethod:["CASH",we.required]}),this.constant=Rt,this.Array=Array,this.translate.setDefaultLang("vi")}ngOnInit(){this.fetchCarts()}get totalDiscountedPrice(){return this.totalBasePrice()-this.totalAmount}get discountedPercent(){return this.totalDiscountedPrice/this.totalBasePrice()}totalBasePrice(){return this.cartItems.reduce((n,i)=>{let o=this.getProduct(i);if(o){let s=o.basePrice;return n+s*i.quantity}return n},0)}get totalAmount(){return this.cartItems.reduce((n,i)=>n+this.getAmount(i),0)}getAmount(n){let i=this.getProduct(n);return i?i.salePrice*n.quantity:0}increaseQuantity(n){let i=this.getProduct(n);if(!i)return;let o=i.stockQuantity;n.quantity<o&&(n.quantity++,this.updateQuantity(n))}decreaseQuantity(n){n.quantity>1&&(n.quantity--,this.updateQuantity(n))}updateQuantity(n){this.validateQuantity(n),this.cartService.updateQuantity(n.id,n.quantity).subscribe({next:()=>console.log("Update cart quantity successfully")})}validateQuantity(n){n.quantity<1&&(n.quantity=1);let i=this.stock(n);n.quantity>i&&(n.quantity=i)}removeFromCart(n){this.cartService.removeCartItem(n.id).subscribe({next:()=>{this.cartItems=this.cartItems.filter(i=>i.id!==n.id),this.alertService.showSuccessToast("Removed successfully")},error:()=>this.alertService.showErrorToast("An error occurred")})}stock(n){let i=this.getProduct(n);return i?i.stockQuantity:0}getProduct(n){return this.products.get(n.productSlug)}getImage(n){return this.productFeaturedImage.get(n.productSlug)}proceedToCheckout(){this.isCheckout=!0,this.fetchUser()}placeOrder(){if(this.checkoutForm.valid){console.log("Checkout Form: ",this.checkoutForm.value);let n=this.checkoutForm.value,o={shippingAddress:[n.phone,n.shippingAddress].join(", "),paymentMethod:n.paymentMethod||"BANKING",items:this.cartItems};console.log("Order request: ",o),this.orderService.createOrder(o).subscribe({next:s=>{s.paymentMethod==="BANKING"?this.paymentService.getPaymentUrl(s.id).subscribe({next:({processUrl:a})=>{window.location.href=a}}):(this.translate.get("PLACED_ORDER_SUCCESS").subscribe(a=>this.alertService.showSuccessToast(a)),this.cartService.clearCart().subscribe({next:()=>{this.cartResponse=null,this.cartItems=[],this.isCheckout=!1}}))}})}else this.checkoutForm.markAllAsTouched()}backToCart(){this.isCheckout=!1}fetchCarts(){this.loading=!0,this.cartService.getCart(this.pageRequest).pipe(ct(n=>{this.cartResponse=n,this.cartItems=n.items;let i=n.items.map(o=>this.fetchProduct(o.productSlug));return qi(i)}),Se(n=>n.reduce((i,o)=>(i.set(o.slug,o),i),new Map))).subscribe({next:n=>{this.products=n,this.loading=!1,this.fetchProductFeaturedImage(n)},error:()=>this.loading=!1})}fetchProduct(n){return this.productService.getBySlug(n)}fetchProductFeaturedImage(n){Array.from(n.entries()).map(([i,o])=>this.productService.getImagesById(o.id).subscribe({next:s=>{let a=s.find(c=>c.featured),l=a?this.imageUrl(a.imageId):Rt.defaultHeroImageUrl;this.productFeaturedImage.set(i,l)}}))}imageUrl(n){return`${Pe.IMAGE_SERVICE_API}/images/${n}?size=SMALL`}fetchUser(){let n=this.authService.username;this.userService.getByUsername(n).pipe(yt(i=>this.updateCheckoutForm(i)),Se(i=>(this.user=i,this.selectedPhoneNumber=i.phone,this.listAddresses(i)))).subscribe({next:i=>this.userAddresses=i})}listAddresses(n){return Array.of(n.address,n.address1,n.address2,n.address3,n.address4).filter(i=>i)}updateCheckoutForm(n){this.checkoutForm.patchValue(Ee(j({},n),{shippingAddress:n.address}))}notBlankValidator(n){return(n.value||"").trim().length===0?{blank:!0}:null}};e.\u0275fac=function(i){return new(i||e)(T(Xo),T(Ti),T(ke),T(lt),T(yn),T(Oi),T(Ll),T(Kh),T(bn))},e.\u0275cmp=ae({type:e,selectors:[["app-cart"]],standalone:!0,features:[ge],decls:10,vars:6,consts:[[1,"container","my-4"],[1,"row","mb-3","p-3","bg-white","rounded","shadow-sm"],[1,"col"],[1,"fs-2","fw-light","text-muted"],[1,"row","g-3"],[1,"col-lg-8"],[1,"bg-white","p-3","rounded","shadow-sm"],[1,"row","mb-3","py-3","border-bottom","align-items-center"],[1,"col-lg-4"],[1,"fs-5","fw-light","text-muted"],[1,"skeleton","skeleton-text","skeleton-summary"],[1,"skeleton","skeleton-button","skeleton-checkout"],[1,"col-2","col-md-1","text-center"],[1,"skeleton","skeleton-thumbnail"],[1,"col-6","col-md-5"],[1,"skeleton","skeleton-text","skeleton-title"],[1,"skeleton","skeleton-text","skeleton-description"],[1,"col-4","col-md-3","d-flex","align-items-center","gap-2"],[1,"skeleton","skeleton-button"],[1,"skeleton","skeleton-input"],[1,"col-12","col-md-3","d-flex","align-items-center","justify-content-between","mt-2","mt-md-0"],[1,"skeleton","skeleton-price"],[1,"skeleton","skeleton-icon"],[1,"text-center","bg-white","p-5","rounded","shadow-sm"],[1,"d-flex","justify-content-between","mt-3"],[1,"fw-light","text-muted"],[1,"fs-6"],[1,"d-flex","justify-content-between"],[1,"amount"],[1,"d-flex","gap-3"],[1,"btn","checkout-btn","mt-3","w-100"],[3,"formGroup"],[1,"bg-white","p-3","mt-3","rounded","shadow-sm"],[1,"form-check","mt-3"],[1,"mt-3"],["type","radio","formControlName","paymentMethod","id","cash","value","CASH",1,"form-check-input"],["for","cash",1,"form-check-label","text-muted"],[1,"form-check","mt-2"],["type","radio","formControlName","paymentMethod","id","banking","value","BANKING",1,"form-check-input"],["for","banking",1,"form-check-label","text-muted"],["width","64",1,"img-fluid","rounded",3,"src","alt"],[1,"fs-5","fw-normal","text-dark","text-truncate",3,"title"],[1,"text-muted","small","description-truncate"],[1,"col-4","col-md-3","d-flex","align-items-center","justify-content-center"],[1,"text-muted","fs-6"],[1,"col-12","col-md-3","d-flex","align-items-center","justify-content-end","mt-2","mt-md-0"],["type","radio","name","phone","formControlName","phone",1,"form-check-input",3,"id","value"],[1,"form-check-label","text-muted",3,"for"],["for","newPhone",1,"form-label","text-muted"],["id","newPhone","type","text","formControlName","phone","mask","000-000-0000","prefix","(+84) ",1,"form-control",3,"placeholder"],[1,"text-danger"],["type","radio","formControlName","shippingAddress",1,"form-check-input",3,"id","value"],["for","newAddress",1,"form-label","text-muted"],["id","newAddress","type","text","formControlName","shippingAddress",1,"form-control",3,"placeholder"],[1,"fs-5","fw-normal","text-dark","text-truncate",3,"routerLink","title"],[1,"btn","quantity-input-btn",3,"click","disabled"],[1,"bi","bi-dash-lg"],["type","number",1,"form-control","text-center","w-50",3,"ngModelChange","change","ngModel"],[1,"bi","bi-plus-lg"],[1,"btn","btn-link","text-danger","p-0",3,"click"],[1,"bi","bi-trash"],[1,"btn","back-btn","mt-3","w-20",3,"click"],[1,"btn","checkout-btn","mt-3","w-100",3,"click"],["routerLink","/",1,"btn","mt-4","buy-now"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4),w(5,"translate"),w(6,"translate"),h()()(),f(7,"div",4),Y(8,iG,16,3)(9,CG,2,1),h()()),i&2&&(m(4),A(" ",o.isCheckout?x(5,2,"CHECKOUT"):x(6,4,"MY_CART")," "),m(4),fe(o.loading?8:9))},dependencies:[Ie,Te,ur,Be,fr,Qt,Ot,ra,xu,At,Jt,na,dE,on,Gt,Wt,Bl],styles:[".btn-primary[_ngcontent-%COMP%], .buy-now[_ngcontent-%COMP%], .checkout-btn[_ngcontent-%COMP%]{color:var(--purple-contrast);background:var(--purple-9);line-height:2;transition:background .3s ease,color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover, .buy-now[_ngcontent-%COMP%]:hover, .checkout-btn[_ngcontent-%COMP%]:hover{color:var(--purple-3)}.btn-primary[_ngcontent-%COMP%]:active, .buy-now[_ngcontent-%COMP%]:active, .checkout-btn[_ngcontent-%COMP%]:active{background:var(--purple-10)}.quantity-input-btn[_ngcontent-%COMP%]{color:var(--purple-9);border:1px solid var(--purple-9);transition:background .3s ease,border-color .3s ease}.quantity-input-btn[_ngcontent-%COMP%]:disabled{background:var(--purple-3);border-color:var(--gray-1)}.amount[_ngcontent-%COMP%]{color:var(--purple-9);font-weight:700;font-size:1.2rem}.checkout-btn[_ngcontent-%COMP%]{width:100%}.back-btn[_ngcontent-%COMP%]{background:var(--purple-6);color:var(--purple-9)}.product-thumbnail[_ngcontent-%COMP%]{width:64px;height:auto}.text-muted-light[_ngcontent-%COMP%]{color:var(--gray-5)}.text-truncate[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.description-truncate[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--purple-9)!important;border-color:var(--purple-9)!important}@media (max-width: 768px){.checkout-btn[_ngcontent-%COMP%], .buy-now[_ngcontent-%COMP%]{width:100%;font-size:1rem}}.skeleton[_ngcontent-%COMP%]{background-color:#e0e0e0;border-radius:4px;animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out}.skeleton-thumbnail[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:8px}.skeleton-text[_ngcontent-%COMP%]{height:12px;margin-bottom:8px;border-radius:4px}.skeleton-title[_ngcontent-%COMP%]{width:70%;height:16px;margin-bottom:10px}.skeleton-description[_ngcontent-%COMP%]{width:90%;height:12px}.skeleton-button[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%}.skeleton-input[_ngcontent-%COMP%]{width:50px;height:36px;border-radius:4px}.skeleton-price[_ngcontent-%COMP%]{width:60px;height:20px;border-radius:4px}.skeleton-icon[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%}.skeleton-summary[_ngcontent-%COMP%]{width:100%;height:20px;margin-bottom:8px}.skeleton-checkout[_ngcontent-%COMP%]{width:100%;height:40px;border-radius:4px}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}"]});let t=e;return t})();var mT=(()=>{let e=class e{constructor(n){this.translateService=n,this.translateService.setDefaultLang("vi")}};e.\u0275fac=function(i){return new(i||e)(T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-notfound"]],standalone:!0,features:[ge],decls:7,vars:6,consts:[[1,"container","vh-100","text-center","d-flex","flex-column","align-items-center","justify-content-center","gap-3"],[1,"fs-3","fw-light","text-uppercase"],["routerLink","/",1,"btn","d-block"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"h5",1),y(2),w(3,"translate"),h(),f(4,"button",2),y(5),w(6,"translate"),h()()),i&2&&(m(2),k(x(3,2,"THE_RESOURCE_YOU_ARE_LOOKING_FOR_NOT_FOUND")),m(3),k(x(6,4,"BACK_TO_HOME")))},dependencies:[Be,Ie,Te],styles:[".btn[_ngcontent-%COMP%]{background:var(--purple-9);color:var(--purple-contrast);border-radius:0;padding:1rem}.btn[_ngcontent-%COMP%]:hover{background:var(--purple-10);color:var(--purple-contrast)}"]});let t=e;return t})();var gT=(()=>{let e=class e{constructor(n){this.translateService=n,this.translateService.setDefaultLang("vi")}};e.\u0275fac=function(i){return new(i||e)(T(ke))},e.\u0275cmp=ae({type:e,selectors:[["app-forbidden"]],standalone:!0,features:[ge],decls:7,vars:6,consts:[[1,"container","vh-100","text-center","d-flex","flex-column","align-items-center","justify-content-center","gap-3"],[1,"fs-3","fw-light","text-uppercase"],["routerLink","/",1,"btn","d-block"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"h5",1),y(2),w(3,"translate"),h(),f(4,"button",2),y(5),w(6,"translate"),h()()),i&2&&(m(2),k(x(3,2,"YOU_DO_NOT_HAVE_PERMISSION")),m(3),k(x(6,4,"BACK_TO_HOME")))},dependencies:[Ie,Te,Be],styles:[".btn[_ngcontent-%COMP%]{background:var(--purple-9);color:var(--purple-contrast);border-radius:0;padding:1rem}.btn[_ngcontent-%COMP%]:hover{background:var(--purple-10);color:var(--purple-contrast)}"]});let t=e;return t})();var vT={"00":"Giao d\u1ECBch th\xE0nh c\xF4ng","07":"Tr\u1EEB ti\u1EC1n th\xE0nh c\xF4ng. Giao d\u1ECBch b\u1ECB nghi ng\u1EDD (li\xEAn quan t\u1EDBi l\u1EEBa \u0111\u1EA3o, giao d\u1ECBch b\u1EA5t th\u01B0\u1EDDng).","09":"Giao d\u1ECBch kh\xF4ng th\xE0nh c\xF4ng do: Th\u1EBB/T\xE0i kho\u1EA3n c\u1EE7a kh\xE1ch h\xE0ng ch\u01B0a \u0111\u0103ng k\xFD d\u1ECBch v\u1EE5 InternetBanking t\u1EA1i ng\xE2n h\xE0ng.",10:"Giao d\u1ECBch kh\xF4ng th\xE0nh c\xF4ng do: Kh\xE1ch h\xE0ng x\xE1c th\u1EF1c th\xF4ng tin th\u1EBB/t\xE0i kho\u1EA3n kh\xF4ng \u0111\xFAng qu\xE1 3 l\u1EA7n",11:"Giao d\u1ECBch kh\xF4ng th\xE0nh c\xF4ng do: \u0110\xE3 h\u1EBFt h\u1EA1n ch\u1EDD thanh to\xE1n. Xin qu\xFD kh\xE1ch vui l\xF2ng th\u1EF1c hi\u1EC7n l\u1EA1i giao d\u1ECBch.",12:"Giao d\u1ECBch kh\xF4ng th\xE0nh c\xF4ng do: Th\u1EBB/T\xE0i kho\u1EA3n c\u1EE7a kh\xE1ch h\xE0ng b\u1ECB kh\xF3a.",13:"Giao d\u1ECBch kh\xF4ng th\xE0nh c\xF4ng do Qu\xFD kh\xE1ch nh\u1EADp sai m\u1EADt kh\u1EA9u x\xE1c th\u1EF1c giao d\u1ECBch (OTP). Xin qu\xFD kh\xE1ch vui l\xF2ng th\u1EF1c hi\u1EC7n l\u1EA1i giao d\u1ECBch.",24:"Giao d\u1ECBch kh\xF4ng th\xE0nh c\xF4ng do: Kh\xE1ch h\xE0ng h\u1EE7y giao d\u1ECBch",51:"Giao d\u1ECBch kh\xF4ng th\xE0nh c\xF4ng do: T\xE0i kho\u1EA3n c\u1EE7a qu\xFD kh\xE1ch kh\xF4ng \u0111\u1EE7 s\u1ED1 d\u01B0 \u0111\u1EC3 th\u1EF1c hi\u1EC7n giao d\u1ECBch.",65:"Giao d\u1ECBch kh\xF4ng th\xE0nh c\xF4ng do: T\xE0i kho\u1EA3n c\u1EE7a Qu\xFD kh\xE1ch \u0111\xE3 v\u01B0\u1EE3t qu\xE1 h\u1EA1n m\u1EE9c giao d\u1ECBch trong ng\xE0y.",75:"Ng\xE2n h\xE0ng thanh to\xE1n \u0111ang b\u1EA3o tr\xEC.",79:"Giao d\u1ECBch kh\xF4ng th\xE0nh c\xF4ng do: KH nh\u1EADp sai m\u1EADt kh\u1EA9u thanh to\xE1n qu\xE1 s\u1ED1 l\u1EA7n quy \u0111\u1ECBnh. Xin qu\xFD kh\xE1ch vui l\xF2ng th\u1EF1c hi\u1EC7n l\u1EA1i giao d\u1ECBch"};function wG(t,e){t&1&&(f(0,"div",5)(1,"div",6)(2,"div",7)(3,"span",8),y(4),w(5,"translate"),h(),f(6,"button",9)(7,"span",10),I(8,"i",11),y(9),w(10,"translate"),h()()()()()),t&2&&(m(4),k(x(5,2,"THERE_IS_NO_PAYMENT_RESULT")),m(5),k(x(10,4,"BUY_NOW")))}function _G(t,e){t&1&&(f(0,"h4",14),y(1),w(2,"translate"),h()),t&2&&(m(),A(" ",x(2,1,"PAYMENT_SUCCESSFUL")," "))}function xG(t,e){t&1&&(f(0,"h4",14),y(1),w(2,"translate"),h()),t&2&&(m(),k(x(2,1,"PAYMENT_FAILED")))}function SG(t,e){t&1&&(f(0,"button",20)(1,"span",22),y(2),w(3,"translate"),h()()),t&2&&(m(2),k(x(3,1,"BACK_TO_HOME")))}function EG(t,e){t&1&&(f(0,"button",21)(1,"span",22),y(2),w(3,"translate"),h()()),t&2&&(m(2),k(x(3,1,"RE_CHECKOUT")))}function IG(t,e){if(t&1&&(f(0,"div",5)(1,"div",6)(2,"div",12)(3,"div",13),Y(4,_G,3,3,"h4",14)(5,xG,3,3,"h4",14),f(6,"p",15),y(7),w(8,"translate"),h()(),f(9,"div",16)(10,"div",17)(11,"div",18)(12,"span",19),y(13),w(14,"translate"),h(),f(15,"span"),y(16),h()()(),f(17,"div",17)(18,"div",18)(19,"span",19),y(20),w(21,"translate"),h(),f(22,"span"),y(23),w(24,"date"),h()()(),f(25,"div",17)(26,"div",18)(27,"span",19),y(28),w(29,"translate"),h(),f(30,"span"),y(31),w(32,"currency"),h()()()(),Y(33,SG,4,3,"button",20)(34,EG,4,3,"button",21),h()()()),t&2){let r,n,i,o=N();m(4),fe((o.queryParams==null?null:o.queryParams.vnp_ResponseCode)==="00"?4:5),m(3),at(" ",x(8,10,"PAYMENT_DETAILS")," : ",o.PaymentStatusDescriptions[(r=o.queryParams==null?null:o.queryParams.vnp_ResponseCode)!==null&&r!==void 0?r:""]," "),m(6),A("",x(14,12,"ORDER_ID"),":"),m(3),A(" #",o.queryParams==null?null:o.queryParams.vnp_TxnRef,""),m(4),A("",x(21,14,"PAYMENT_DATE"),":"),m(3),A(" ",$e(24,16,o.formatDateString((n=o.queryParams==null?null:o.queryParams.vnp_PayDate)!==null&&n!==void 0?n:""),"HH:mm dd-MM-yyyy"),""),m(5),A("",x(29,19,"TOTAL_AMOUNT"),":"),m(3),A(" ",$e(32,21,o.formatAmount((i=o.queryParams==null?null:o.queryParams.vnp_Amount)!==null&&i!==void 0?i:""),"VND"),""),m(2),fe((o.queryParams==null?null:o.queryParams.vnp_ResponseCode)==="00"?33:34)}}var yT=(()=>{let e=class e{constructor(n,i,o,s,a){this.paymentService=n,this.route=i,this.translate=o,this.cartService=s,this.alertService=a,this.queryParams=null,this.PaymentStatusDescriptions=vT,this.translate.setDefaultLang("vi")}ngOnInit(){this.route.queryParams.pipe(yt(()=>console.log(this.queryParams)),ct(n=>(this.queryParams=n,this.paymentService.saveTransaction(this.queryParams)))).subscribe(n=>{n.status==="SUCCESS"&&this.cartService.clearCart().subscribe({next:()=>this.translate.get("PLACED_ORDER_SUCCESS").subscribe(i=>this.alertService.showSuccessToast(i))})})}formatAmount(n){return parseInt(n)/100}formatDateString(n){let i=+n.substring(0,4),o=+n.substring(4,6)-1,s=+n.substring(6,8),a=+n.substring(8,10),l=+n.substring(10,12),c=+n.substring(12,14);return new Date(i,o,s,a,l,c)}};e.\u0275fac=function(i){return new(i||e)(T(Kh),T(mn),T(ke),T(Xo),T(lt))},e.\u0275cmp=ae({type:e,selectors:[["app-payment"]],standalone:!0,features:[ge],decls:9,vars:4,consts:[[1,"container","my-5"],[1,"row","mb-3","p-3","bg-white","rounded","shadow-sm"],[1,"col"],[1,"fs-2","fw-light","text-muted"],[1,"row","g-3"],[1,"col-12"],[1,"bg-white","p-3","rounded","shadow-sm"],[1,"d-flex","flex-column","justify-content-center","align-items-center","gap-3"],[1,"fs-3","fw-light","text-muted","text-uppercase"],["routerLink","/",1,"btn","p-3"],[1,"fs-5"],[1,"bi","bi-cart","me-2"],[1,"d-flex","flex-column","gap-3","align-items-center"],[1,"text-center"],[1,"fw-light","text-uppercase"],[1,"fs-5","fw-light","text-muted"],[1,"row","w-100"],[1,"col-md-6"],[1,"p-2"],[1,"text-muted","fw-light"],["routerLink","/",1,"btn","mt-3"],["routerLink","/cart",1,"btn","mt-3"],[1,"fs-6"]],template:function(i,o){i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4),w(5,"translate"),h()()(),f(6,"div",4),Y(7,wG,11,6,"div",5)(8,IG,35,24,"div",5),h()()),i&2&&(m(4),A(" ",x(5,2,"PAYMENT_RESULT")," "),m(3),fe(o.queryParams!=null&&o.queryParams.vnp_SecureHash?8:7))},dependencies:[Ie,Te,Be,ur,hn],styles:[".btn[_ngcontent-%COMP%]{background:var(--purple-9);color:var(--purple-contrast);border-radius:0}.btn[_ngcontent-%COMP%]:active{background:var(--purple-10);color:var(--purple-contrast)}"]});let t=e;return t})();function MG(t,e){t&1&&(f(0,"div",6)(1,"span"),y(2),w(3,"translate"),h()()),t&2&&(m(2),k(x(3,1,"INVALID_USERNAME_OR_PASSWORD")))}function DG(t,e){t&1&&(f(0,"span"),y(1),w(2,"translate"),h()),t&2&&(m(),k(x(2,1,"USERNAME_IS_REQUIRED")))}function kG(t,e){t&1&&(f(0,"div",11),y(1),w(2,"translate"),h()),t&2&&(m(),A(" ",x(2,1,"PASSWORD_IS_REQUIRED")," "))}var bT=(()=>{let e=class e{constructor(n,i,o,s,a){this.fb=n,this.translate=i,this.authService=o,this.router=s,this.route=a,this.loginForm=this.fb.group({username:["",we.required],password:["",we.required],rememberMe:[!1]}),this.passwordVisible=!1,this.loading=!1,this.loginFailed=!1,this.translate.setDefaultLang("vi");let l=this.route.snapshot.queryParams.returnUrl||"/";this.authService.setRedirectUrl(l)}ngOnInit(){this.authService.isAuthenticated&&this.router.navigate(["/"])}get f(){return this.loginForm.controls}onLoginFormSubmit(){return Et(this,null,function*(){if(this.loginForm.valid){this.loading=!0;try{let{username:n,password:i}=this.loginForm.value,o=yield this.authService.login(n,i);console.log("Login successful",o);let s=this.authService.getRedirectUrl()||"/";yield this.router.navigateByUrl(s)}catch(n){console.error("Login failed",n),this.loginFailed=!0}finally{this.loading=!1}}})}togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}};e.\u0275fac=function(i){return new(i||e)(T(bn),T(ke),T(yn),T(mt),T(mn))},e.\u0275cmp=ae({type:e,selectors:[["app-login"]],standalone:!0,features:[ge],decls:42,vars:32,consts:[[1,"container","vh-100","d-flex","flex-column","justify-content-center"],["routerLink","/",1,"fs-1","fw-bold"],[1,"card","shadow-sm","mt-3"],[1,"card-header","text-center","py-3"],[1,"fs-2","fw-bold"],[1,"card-body"],[1,"text-center","text-danger","small"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username","autofocus","",1,"form-control",3,"placeholder"],[1,"text-danger","small"],["for","password",1,"form-label"],[1,"position-relative"],["id","password","formControlName","password",1,"form-control",3,"type","placeholder"],["type","button","aria-label","Toggle password visibility",1,"btn","btn-sm","me-2","position-absolute","top-50","end-0","translate-middle-y",3,"click"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-box-arrow-right","me-2"],[1,"card-footer","text-center"],[1,"text-muted"],["routerLink","/register"]],template:function(i,o){if(i&1&&(f(0,"div",0)(1,"div")(2,"a",1),y(3,"Shopbee"),h(),f(4,"div",2)(5,"div",3)(6,"span",4),y(7),w(8,"translate"),h()(),f(9,"div",5),Y(10,MG,4,3,"div",6),f(11,"form",7),P("ngSubmit",function(){return o.onLoginFormSubmit()}),f(12,"div",8)(13,"label",9),y(14),w(15,"translate"),h(),I(16,"input",10),w(17,"translate"),f(18,"div",11),Y(19,DG,3,3,"span"),h()(),f(20,"div",8)(21,"label",12),y(22),w(23,"translate"),h(),f(24,"div",13),I(25,"input",14),w(26,"translate"),f(27,"button",15),P("click",function(){return o.togglePasswordVisibility()}),I(28,"i"),h()(),Y(29,kG,3,3,"div",11),h(),f(30,"div",16)(31,"button",17),I(32,"i",18),y(33),w(34,"translate"),h()()()(),f(35,"div",19)(36,"small",20),y(37),w(38,"translate"),f(39,"a",21),y(40),w(41,"translate"),h()()()()()()),i&2){let s,a;m(7),k(x(8,16,"LOGIN")),m(3),fe(o.loginFailed?10:-1),m(),O("formGroup",o.loginForm),m(3),k(x(15,18,"USERNAME")),m(2),O("placeholder",x(17,20,"ENTER_YOUR_USERNAME")),m(3),fe((s=o.loginForm.get("username"))!=null&&s.invalid&&((s=o.loginForm.get("username"))!=null&&s.touched)?19:-1),m(3),k(x(23,22,"PASSWORD")),m(3),O("type",o.passwordVisible?"text":"password")("placeholder",x(26,24,"ENTER_YOUR_PASSWORD")),m(3),ar(o.passwordVisible?"bi bi-eye-slash":"bi bi-eye"),m(),fe((a=o.loginForm.get("password"))!=null&&a.invalid&&((a=o.loginForm.get("password"))!=null&&a.touched)?29:-1),m(2),O("disabled",o.loginForm.invalid||o.loading),m(2),A(" ",x(34,26,o.loading?"LOGGING":"LOGIN")," "),m(4),A(" ",x(38,28,"DONT_HAVE_ACCOUNT"),"? "),m(3),k(x(41,30,"REGISTER"))}},dependencies:[on,Qt,Ot,At,Jt,Gt,Wt,Be,Ie,Te],styles:[".container[_ngcontent-%COMP%]{max-width:35rem}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{border:none;border-radius:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-top:5px solid var(--purple-9)}.container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;border-radius:0;border-bottom:1px solid var(--gray-3);padding-right:2.5rem}.container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:hover{background-color:var(--gray-1);border-bottom:1px solid var(--gray-6)}.container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:active{border-bottom:1px solid var(--purple-9)}.container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border:none;border-radius:0;padding:1rem;background-color:var(--purple-9)}.container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--purple-10)}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--purple-9);text-decoration:none}"]});let t=e;return t})();function TG(t,e){t&1&&(f(0,"div",7)(1,"span"),y(2),w(3,"translate"),h()()),t&2&&(m(2),k(x(3,1,"INVALID_USERNAME_OR_PASSWORD")))}function OG(t,e){t&1&&(f(0,"span"),y(1),w(2,"translate"),h()),t&2&&(m(),k(x(2,1,"USERNAME_IS_REQUIRED")))}function AG(t,e){t&1&&(f(0,"span"),y(1),w(2,"translate"),h()),t&2&&(m(),k(x(2,1,"USERNAME_IS_REQUIRED")))}function PG(t,e){t&1&&(f(0,"span"),y(1),w(2,"translate"),h()),t&2&&(m(),k(x(2,1,"USERNAME_IS_REQUIRED")))}function NG(t,e){t&1&&(f(0,"span"),y(1),w(2,"translate"),h()),t&2&&(m(),k(x(2,1,"USERNAME_IS_REQUIRED")))}function RG(t,e){t&1&&(f(0,"div",12),y(1),w(2,"translate"),h()),t&2&&(m(),A(" ",x(2,1,"PASSWORD_IS_REQUIRED")," "))}function FG(t,e){t&1&&(f(0,"div",12),y(1),w(2,"translate"),h()),t&2&&(m(),A(" ",x(2,1,"PASSWORD_IS_REQUIRED")," "))}var CT=(()=>{let e=class e{constructor(n,i,o,s,a){this.fb=n,this.translate=i,this.authService=o,this.router=s,this.route=a,this.loginForm=this.fb.group({username:["",we.required],password:["",we.required],firstName:["",we.required],lastName:["",we.required],email:["",we.required],rePassword:["",we.required]}),this.passwordVisible=!1,this.loading=!1,this.loginFailed=!1,this.translate.setDefaultLang("vi");let l=this.route.snapshot.queryParams.returnUrl||"/";this.authService.setRedirectUrl(l)}ngOnInit(){this.authService.isAuthenticated&&this.router.navigate(["/"])}get f(){return this.loginForm.controls}onLoginFormSubmit(){return Et(this,null,function*(){if(this.loginForm.valid){this.loading=!0;try{let{username:n,password:i}=this.loginForm.value,o=yield this.authService.login(n,i);console.log("Login successful",o);let s=this.authService.getRedirectUrl()||"/";yield this.router.navigateByUrl(s)}catch(n){console.error("Login failed",n),this.loginFailed=!0}finally{this.loading=!1}}})}togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}};e.\u0275fac=function(i){return new(i||e)(T(bn),T(ke),T(yn),T(mt),T(mn))},e.\u0275cmp=ae({type:e,selectors:[["app-register"]],standalone:!0,features:[ge],decls:76,vars:63,consts:[[1,"container","mh-100","d-flex","flex-column","justify-content-center"],[1,"my-3","py-3"],["routerLink","/",1,"fs-1","fw-bold"],[1,"card","shadow-sm","mt-3"],[1,"card-header","text-center","py-3"],[1,"fs-2","fw-bold"],[1,"card-body"],[1,"text-center","text-danger","small"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","firstName",1,"form-label"],["type","text","id","firstName","formControlName","firstName","autofocus","",1,"form-control",3,"placeholder"],[1,"text-danger","small"],["for","lastName",1,"form-label"],["type","text","id","lastName","formControlName","lastName",1,"form-control",3,"placeholder"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username",1,"form-control",3,"placeholder"],["for","email",1,"form-label"],["type","email","id","email","formControlName","username",1,"form-control",3,"placeholder"],["for","password",1,"form-label"],[1,"position-relative"],["id","password","formControlName","password",1,"form-control",3,"type","placeholder"],["type","button","aria-label","Toggle password visibility",1,"btn","btn-sm","me-2","position-absolute","top-50","end-0","translate-middle-y",3,"click"],["for","rePassword",1,"form-label"],["id","rePassword","formControlName","rePassword",1,"form-control",3,"type","placeholder"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-box-arrow-right","me-2"],[1,"card-footer","text-center"],[1,"text-muted"],["routerLink","/login"]],template:function(i,o){if(i&1&&(f(0,"div",0)(1,"div",1)(2,"a",2),y(3,"Shopbee"),h(),f(4,"div",3)(5,"div",4)(6,"span",5),y(7),w(8,"translate"),h()(),f(9,"div",6),Y(10,TG,4,3,"div",7),f(11,"form",8),P("ngSubmit",function(){return o.onLoginFormSubmit()}),f(12,"div",9)(13,"label",10),y(14),w(15,"translate"),h(),I(16,"input",11),w(17,"translate"),f(18,"div",12),Y(19,OG,3,3,"span"),h()(),f(20,"div",9)(21,"label",13),y(22),w(23,"translate"),h(),I(24,"input",14),w(25,"translate"),f(26,"div",12),Y(27,AG,3,3,"span"),h()(),f(28,"div",9)(29,"label",15),y(30),w(31,"translate"),h(),I(32,"input",16),w(33,"translate"),f(34,"div",12),Y(35,PG,3,3,"span"),h()(),f(36,"div",9)(37,"label",17),y(38),w(39,"translate"),h(),I(40,"input",18),w(41,"translate"),f(42,"div",12),Y(43,NG,3,3,"span"),h()(),f(44,"div",9)(45,"label",19),y(46),w(47,"translate"),h(),f(48,"div",20),I(49,"input",21),w(50,"translate"),f(51,"button",22),P("click",function(){return o.togglePasswordVisibility()}),I(52,"i"),h()(),Y(53,RG,3,3,"div",12),h(),f(54,"div",9)(55,"label",23),y(56),w(57,"translate"),h(),f(58,"div",20),I(59,"input",24),w(60,"translate"),f(61,"button",22),P("click",function(){return o.togglePasswordVisibility()}),I(62,"i"),h()(),Y(63,FG,3,3,"div",12),h(),f(64,"div",25)(65,"button",26),I(66,"i",27),y(67),w(68,"translate"),h()()()(),f(69,"div",28)(70,"small",29),y(71),w(72,"translate"),f(73,"a",30),y(74),w(75,"translate"),h()()()()()()),i&2){let s,a,l,c,u,d;m(7),k(x(8,31,"REGISTER")),m(3),fe(o.loginFailed?10:-1),m(),O("formGroup",o.loginForm),m(3),k(x(15,33,"FIRST_NAME")),m(2),O("placeholder",x(17,35,"ENTER_YOUR_USERNAME")),m(3),fe((s=o.loginForm.get("firstName"))!=null&&s.invalid&&((s=o.loginForm.get("firstName"))!=null&&s.touched)?19:-1),m(3),k(x(23,37,"LAST_NAME")),m(2),O("placeholder",x(25,39,"ENTER_YOUR_USERNAME")),m(3),fe((a=o.loginForm.get("lastName"))!=null&&a.invalid&&((a=o.loginForm.get("lastName"))!=null&&a.touched)?27:-1),m(3),k(x(31,41,"USERNAME")),m(2),O("placeholder",x(33,43,"ENTER_YOUR_USERNAME")),m(3),fe((l=o.loginForm.get("username"))!=null&&l.invalid&&((l=o.loginForm.get("username"))!=null&&l.touched)?35:-1),m(3),k(x(39,45,"EMAIL")),m(2),O("placeholder",x(41,47,"ENTER_YOUR_USERNAME")),m(3),fe((c=o.loginForm.get("username"))!=null&&c.invalid&&((c=o.loginForm.get("username"))!=null&&c.touched)?43:-1),m(3),k(x(47,49,"PASSWORD")),m(3),O("type",o.passwordVisible?"text":"password")("placeholder",x(50,51,"ENTER_YOUR_PASSWORD")),m(3),ar(o.passwordVisible?"bi bi-eye-slash":"bi bi-eye"),m(),fe((u=o.loginForm.get("password"))!=null&&u.invalid&&((u=o.loginForm.get("password"))!=null&&u.touched)?53:-1),m(3),k(x(57,53,"PASSWORD")),m(3),O("type",o.passwordVisible?"text":"password")("placeholder",x(60,55,"ENTER_YOUR_PASSWORD")),m(3),ar(o.passwordVisible?"bi bi-eye-slash":"bi bi-eye"),m(),fe((d=o.loginForm.get("password"))!=null&&d.invalid&&((d=o.loginForm.get("password"))!=null&&d.touched)?63:-1),m(2),O("disabled",o.loginForm.invalid||o.loading),m(2),A(" ",x(68,57,o.loading?"LOGGING":"LOGIN")," "),m(4),A(" ",x(72,59,"HAVE_ACCOUNT"),"? "),m(3),k(x(75,61,"LOGIN"))}},dependencies:[fr,Qt,Ot,At,Jt,on,Gt,Wt,Be,Ie,Te],styles:[".container[_ngcontent-%COMP%]{max-width:35rem}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{border:none;border-radius:0}.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-top:5px solid var(--purple-9)}.container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;border-radius:0;border-bottom:1px solid var(--gray-3);padding-right:2.5rem}.container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:hover{background-color:var(--gray-1);border-bottom:1px solid var(--gray-6)}.container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:active{border-bottom:1px solid var(--purple-9)}.container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border:none;border-radius:0;padding:1rem;background-color:var(--purple-9)}.container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--purple-10)}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--purple-9);text-decoration:none}"]});let t=e;return t})();var wT=[{path:"",component:eD,children:[{path:"",component:pT},{path:"may-tinh-xach-tay/:slug",component:rD},{path:"cart",component:hT},{path:"users",component:Zy,canActivate:[nh],children:[{path:"",redirectTo:"profile",pathMatch:"full"},{path:"profile",component:Zy}]},{path:"payment",component:yT,canActivate:[nh]}]},{path:"admin",component:aM,canActivate:[nh],data:{expectedRoles:[Yy.ADMIN]},children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:lM},{path:"brands",component:sT},{path:"brands/:slug",component:cT},{path:"models",component:aT},{path:"models/:slug",component:dT},{path:"categories",component:lT},{path:"categories/:slug",component:uT},{path:"products",component:WM},{path:"products/:slug",component:oT},{path:"orders",component:GM},{path:"users",component:JM},{path:"users/:id",component:YM},{path:"profile",component:KM}]},{path:"login",component:bT},{path:"register",component:CT},{path:"forbidden",component:gT},{path:"**",component:mT}];var _T=t=>()=>Et(void 0,null,function*(){return t.init({config:{url:Pe.keycloak.authority,realm:Pe.keycloak.realm,clientId:Pe.keycloak.clientId},loadUserProfileAtStartUp:!0,initOptions:{pkceMethod:"S256",onLoad:"check-sso",checkLoginIframe:!1},enableBearerInterceptor:!0,bearerPrefix:"Bearer"})});var Zh=class{http;prefix;suffix;constructor(e,r="/assets/i18n/",n=".json"){this.http=e,this.prefix=r,this.suffix=n}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}};var xT=(t,e)=>{let r=H(yn),n=parseInt(localStorage.getItem("expires_at")||"0",10),i=Date.now();if(n&&n<i)return ft(r.refreshToken()).pipe(ct(()=>{let o=localStorage.getItem("access_token"),s=o?t.clone({setHeaders:{Authorization:`Bearer ${o}`}}):t;return e(s)}),_n(o=>(console.error("Token refresh failed",o),$i(()=>o))));{let o=localStorage.getItem("access_token"),s=o?t.clone({setHeaders:{Authorization:`Bearer ${o}`}}):t;return e(s).pipe(_n(a=>(a.status===401&&console.warn("Unauthorized request"),$i(()=>a))))}};var LG=t=>new Zh(t,"./i18n/",".json"),ST={providers:[RS({eventCoalescing:!0}),kI(wT,hy()),{provide:pl,useFactory:_T,multi:!0,deps:[hu]},a0([Ie.forRoot({loader:{provide:Wo,useFactory:LG,deps:[kt]}})]),hu,DE(kE([xT])),sD()]};var ET=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ae({type:e,selectors:[["app-root"]],standalone:!0,features:[ge],decls:1,vars:0,template:function(i,o){i&1&&I(0,"router-outlet")},dependencies:[Ks]});let t=e;return t})();LE(ET,ST).catch(t=>console.error(t));
